/*! For license information please see main.818295f9.js.LICENSE.txt */
(()=>{var __webpack_modules__={1215:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(1848).Buffer}catch(N){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(N){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],l=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);r=(d=d.idivn(l)).isZero()?m+r:f[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,f=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=f;h++){var p=u-h|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,l=0|s[0],d=8191&l,f=l>>>13,h=0|s[1],p=8191&h,m=h>>>13,y=0|s[2],g=8191&y,v=y>>>13,b=0|s[3],w=8191&b,S=b>>>13,E=0|s[4],A=8191&E,_=E>>>13,k=0|s[5],x=8191&k,M=k>>>13,N=0|s[6],P=8191&N,I=N>>>13,R=0|s[7],C=8191&R,O=R>>>13,T=0|s[8],B=8191&T,U=T>>>13,L=0|s[9],D=8191&L,K=L>>>13,F=0|a[0],q=8191&F,z=F>>>13,j=0|a[1],J=8191&j,G=j>>>13,H=0|a[2],V=8191&H,W=H>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,X=0|a[4],$=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],de=8191&le,fe=le>>>13,he=0|a[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,q))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,o=Math.imul(m,z);var ge=(u+(n=n+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,q),i=(i=Math.imul(g,z))+Math.imul(v,q)|0,o=Math.imul(v,z),n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,G)|0;var ve=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(S,q)|0,o=Math.imul(S,z),n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,Q)|0)+Math.imul(f,Y)|0))<<13)|0;u=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,z))+Math.imul(_,q)|0,o=Math.imul(_,z),n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var we=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,q),i=(i=Math.imul(x,z))+Math.imul(M,q)|0,o=Math.imul(M,z),n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,W)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,ee)|0;var Se=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(f,re)|0))<<13)|0;u=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,z))+Math.imul(I,q)|0,o=Math.imul(I,z),n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,Q)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0;var Ee=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(f,oe)|0))<<13)|0;u=((o=o+Math.imul(f,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,z))+Math.imul(O,q)|0,o=Math.imul(O,z),n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var Ae=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(f,ce)|0))<<13)|0;u=((o=o+Math.imul(f,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(U,q)|0,o=Math.imul(U,z),n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,Q)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var _e=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;u=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,z))+Math.imul(K,q)|0,o=Math.imul(K,z),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(U,J)|0,o=o+Math.imul(U,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var ke=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;u=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,G))+Math.imul(K,J)|0,o=Math.imul(K,G),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(U,V)|0,o=o+Math.imul(U,W)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(S,ce)|0,o=o+Math.imul(S,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,fe)|0)+Math.imul(v,de)|0,o=o+Math.imul(v,fe)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,W))+Math.imul(K,V)|0,o=Math.imul(K,W),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,Q)|0)+Math.imul(U,Y)|0,o=o+Math.imul(U,Q)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(w,de)|0,i=(i=i+Math.imul(w,fe)|0)+Math.imul(S,de)|0,o=o+Math.imul(S,fe)|0;var Me=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(K,Y)|0,o=Math.imul(K,Q),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(U,$)|0,o=o+Math.imul(U,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(A,de)|0,i=(i=i+Math.imul(A,fe)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,fe)|0;var Ne=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((o=o+Math.imul(S,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,ee))+Math.imul(K,$)|0,o=Math.imul(K,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(U,re)|0,o=o+Math.imul(U,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(M,de)|0,o=o+Math.imul(M,fe)|0;var Pe=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,me)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(K,re)|0,o=Math.imul(K,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(U,oe)|0,o=o+Math.imul(U,se)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(P,de)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,fe)|0;var Ie=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(K,oe)|0,o=Math.imul(K,se),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(U,ce)|0,o=o+Math.imul(U,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,fe)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,fe)|0;var Re=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(K,ce)|0,o=Math.imul(K,ue),n=n+Math.imul(B,de)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(U,de)|0,o=o+Math.imul(U,fe)|0;var Ce=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,de),i=(i=Math.imul(D,fe))+Math.imul(K,de)|0,o=Math.imul(K,fe);var Oe=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(U,pe)|0))<<13)|0;u=((o=o+Math.imul(U,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Te=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,me))+Math.imul(K,pe)|0))<<13)|0;return u=((o=Math.imul(K,me))+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,c[0]=ye,c[1]=ge,c[2]=ve,c[3]=be,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=Ae,c[8]=_e,c[9]=ke,c[10]=xe,c[11]=Me,c[12]=Ne,c[13]=Pe,c[14]=Ie,c[15]=Re,c[16]=Ce,c[17]=Oe,c[18]=Te,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,d=(0|e.words[l])*(0|t.words[u]),f=67108863&d;a=67108863&(f=f+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return g(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(y=m),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?m(this,e,t):r<1024?g(this,e,t):v(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=c,f=u,h=0;h<s;h++){var p=r[l+h],m=n[l+h],y=r[l+h+s],g=n[l+h+s],v=d*y-f*g;g=d*g+f*y,y=v,r[l+h]=p+y,n[l+h]=m+g,r[l+h+s]=p-y,n[l+h+s]=m-g,h!==a&&(v=c*d-u*f,f=c*f+u*d,d=v)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),d=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,d,n,i);for(var h=0;h<n;h++){var p=a[h]*l[h]-c[h]*d[h];c[h]=a[h]*d[h]+c[h]*l[h],a[h]=p}return this.conjugate(a,c,n),this.transform(a,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-o|d>>>o,l=d&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var f=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,d);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=f)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0===(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,f=1;0===(r.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function S(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},S.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},S.prototype.split=function(e,t){e.iushrn(this.n,0,t)},S.prototype.imulK=function(e){return e.imul(this.k)},i(E,S),E.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(A,S),i(_,S),i(k,S),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new A;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return w[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=s;0!==h.cmp(a);){for(var m=h,y=0;0!==m.cmp(a);y++)m=m.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));f=f.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return f},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new M(e)},i(M,x),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},2305:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(8954).Buffer}catch(N){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(N){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],l=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);r=(d=d.idivn(l)).isZero()?m+r:f[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,f=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=f;h++){var p=u-h|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,l=0|s[0],d=8191&l,f=l>>>13,h=0|s[1],p=8191&h,m=h>>>13,y=0|s[2],g=8191&y,v=y>>>13,b=0|s[3],w=8191&b,S=b>>>13,E=0|s[4],A=8191&E,_=E>>>13,k=0|s[5],x=8191&k,M=k>>>13,N=0|s[6],P=8191&N,I=N>>>13,R=0|s[7],C=8191&R,O=R>>>13,T=0|s[8],B=8191&T,U=T>>>13,L=0|s[9],D=8191&L,K=L>>>13,F=0|a[0],q=8191&F,z=F>>>13,j=0|a[1],J=8191&j,G=j>>>13,H=0|a[2],V=8191&H,W=H>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,X=0|a[4],$=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],de=8191&le,fe=le>>>13,he=0|a[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,q))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,o=Math.imul(m,z);var ge=(u+(n=n+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,q),i=(i=Math.imul(g,z))+Math.imul(v,q)|0,o=Math.imul(v,z),n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,G)|0;var ve=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(S,q)|0,o=Math.imul(S,z),n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,Q)|0)+Math.imul(f,Y)|0))<<13)|0;u=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,z))+Math.imul(_,q)|0,o=Math.imul(_,z),n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var we=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,q),i=(i=Math.imul(x,z))+Math.imul(M,q)|0,o=Math.imul(M,z),n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,W)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,ee)|0;var Se=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(f,re)|0))<<13)|0;u=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,z))+Math.imul(I,q)|0,o=Math.imul(I,z),n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,Q)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0;var Ee=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(f,oe)|0))<<13)|0;u=((o=o+Math.imul(f,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,z))+Math.imul(O,q)|0,o=Math.imul(O,z),n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var Ae=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(f,ce)|0))<<13)|0;u=((o=o+Math.imul(f,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(U,q)|0,o=Math.imul(U,z),n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,Q)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var _e=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;u=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,z))+Math.imul(K,q)|0,o=Math.imul(K,z),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(U,J)|0,o=o+Math.imul(U,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var ke=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;u=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,G))+Math.imul(K,J)|0,o=Math.imul(K,G),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(U,V)|0,o=o+Math.imul(U,W)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(S,ce)|0,o=o+Math.imul(S,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,fe)|0)+Math.imul(v,de)|0,o=o+Math.imul(v,fe)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,W))+Math.imul(K,V)|0,o=Math.imul(K,W),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,Q)|0)+Math.imul(U,Y)|0,o=o+Math.imul(U,Q)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(w,de)|0,i=(i=i+Math.imul(w,fe)|0)+Math.imul(S,de)|0,o=o+Math.imul(S,fe)|0;var Me=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(K,Y)|0,o=Math.imul(K,Q),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(U,$)|0,o=o+Math.imul(U,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(A,de)|0,i=(i=i+Math.imul(A,fe)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,fe)|0;var Ne=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((o=o+Math.imul(S,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,ee))+Math.imul(K,$)|0,o=Math.imul(K,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(U,re)|0,o=o+Math.imul(U,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(M,de)|0,o=o+Math.imul(M,fe)|0;var Pe=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,me)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(K,re)|0,o=Math.imul(K,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(U,oe)|0,o=o+Math.imul(U,se)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(P,de)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,fe)|0;var Ie=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(K,oe)|0,o=Math.imul(K,se),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(U,ce)|0,o=o+Math.imul(U,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,fe)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,fe)|0;var Re=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(K,ce)|0,o=Math.imul(K,ue),n=n+Math.imul(B,de)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(U,de)|0,o=o+Math.imul(U,fe)|0;var Ce=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,de),i=(i=Math.imul(D,fe))+Math.imul(K,de)|0,o=Math.imul(K,fe);var Oe=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(U,pe)|0))<<13)|0;u=((o=o+Math.imul(U,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Te=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,me))+Math.imul(K,pe)|0))<<13)|0;return u=((o=Math.imul(K,me))+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,c[0]=ye,c[1]=ge,c[2]=ve,c[3]=be,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=Ae,c[8]=_e,c[9]=ke,c[10]=xe,c[11]=Me,c[12]=Ne,c[13]=Pe,c[14]=Ie,c[15]=Re,c[16]=Ce,c[17]=Oe,c[18]=Te,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,d=(0|e.words[l])*(0|t.words[u]),f=67108863&d;a=67108863&(f=f+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(e,t,r){return g(e,t,r)}function b(e,t){this.x=e,this.y=t}Math.imul||(y=m),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?m(this,e,t):r<1024?g(this,e,t):v(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},b.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},b.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},b.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=c,f=u,h=0;h<s;h++){var p=r[l+h],m=n[l+h],y=r[l+h+s],g=n[l+h+s],v=d*y-f*g;g=d*g+f*y,y=v,r[l+h]=p+y,n[l+h]=m+g,r[l+h+s]=p-y,n[l+h+s]=m-g,h!==a&&(v=c*d-u*f,f=c*f+u*d,d=v)}},b.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},b.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},b.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),d=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,d,n,i);for(var h=0;h<n;h++){var p=a[h]*l[h]-c[h]*d[h];c[h]=a[h]*d[h]+c[h]*l[h],a[h]=p}return this.conjugate(a,c,n),this.transform(a,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-o|d>>>o,l=d&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var f=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,d);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=f)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0===(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,f=1;0===(r.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function S(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},S.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},S.prototype.split=function(e,t){e.iushrn(this.n,0,t)},S.prototype.imulK=function(e){return e.imul(this.k)},i(E,S),E.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(A,S),i(_,S),i(k,S),k.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new A;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return w[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=s;0!==h.cmp(a);){for(var m=h,y=0;0!==m.cmp(a);y++)m=m.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));f=f.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return f},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new M(e)},i(M,x),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},4762:e=>{"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(a){o&&(o=!1,s(a))}}))}},6762:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,s=[],a=0,c=0;t<r;){var u=e[t++];switch(c){case 0:s[a++]=n[u>>2],i=(3&u)<<4,c=1;break;case 1:s[a++]=n[i|u>>4],i=(15&u)<<2,c=2;break;case 2:s[a++]=n[i|u>>6],s[a++]=n[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=n[i],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error(s);switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error(s);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},7351:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},217:e=>{"use strict";function t(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function s(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,o)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function s(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},4882:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},6931:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},8626:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296===(64512&r)&&56320===(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296===(64512&n)&&56320===(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},9640:(e,t,r)=>{"use strict";let n;r.d(t,{Ay:()=>k,BA:()=>b,dA:()=>v,rC:()=>w}),e=r.hmd(e);const i="undefined"!==typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!==typeof TextDecoder&&i.decode();let o=null;function s(){return null!==o&&0!==o.byteLength||(o=new Uint8Array(n.memory.buffer)),o}function a(e,t){return e>>>=0,i.decode(s().subarray(e,e+t))}const c=new Array(128).fill(void 0);c.push(void 0,null,!0,!1);let u=c.length;function l(e){u===c.length&&c.push(c.length+1);const t=u;return u=c[t],c[t]=e,t}function d(e){return c[e]}function f(e){const t=d(e);return function(e){e<132||(c[e]=u,u=e)}(e),t}let h=0;function p(e,t){const r=t(1*e.length,1)>>>0;return s().set(e,r/1),h=e.length,r}let m=null;function y(){return null!==m&&0!==m.byteLength||(m=new Int32Array(n.memory.buffer)),m}function g(e,t){return e>>>=0,s().subarray(e/1,e/1+t)}function v(e,t,r){try{const c=n.__wbindgen_add_to_stack_pointer(-16),u=p(e,n.__wbindgen_malloc),l=h,d=p(t,n.__wbindgen_malloc),m=h,v=p(r,n.__wbindgen_malloc),b=h;n.user_preferences_encrypt(c,u,l,d,m,v,b);var i=y()[c/4+0],o=y()[c/4+1],s=y()[c/4+2];if(y()[c/4+3])throw f(s);var a=g(i,o).slice();return n.__wbindgen_free(i,1*o,1),a}finally{n.__wbindgen_add_to_stack_pointer(16)}}function b(e,t,r){try{const c=n.__wbindgen_add_to_stack_pointer(-16),u=p(e,n.__wbindgen_malloc),l=h,d=p(t,n.__wbindgen_malloc),m=h,v=p(r,n.__wbindgen_malloc),b=h;n.user_preferences_decrypt(c,u,l,d,m,v,b);var i=y()[c/4+0],o=y()[c/4+1],s=y()[c/4+2];if(y()[c/4+3])throw f(s);var a=g(i,o).slice();return n.__wbindgen_free(i,1*o,1),a}finally{n.__wbindgen_add_to_stack_pointer(16)}}function w(e){let t,r;try{const d=n.__wbindgen_add_to_stack_pointer(-16),m=p(e,n.__wbindgen_malloc),g=h;n.generate_private_preferences_topic(d,m,g);var i=y()[d/4+0],o=y()[d/4+1],s=y()[d/4+2],c=y()[d/4+3],u=i,l=o;if(c)throw u=0,l=0,f(s);return t=u,r=l,a(u,l)}finally{n.__wbindgen_add_to_stack_pointer(16),n.__wbindgen_free(t,r,1)}}function S(e,t){try{return e.apply(this,t)}catch(r){n.__wbindgen_exn_store(l(r))}}function E(){const t={wbg:{}};return t.wbg.__wbindgen_string_new=function(e,t){return l(a(e,t))},t.wbg.__wbindgen_object_drop_ref=function(e){f(e)},t.wbg.__wbg_crypto_d05b68a3572bb8ca=function(e){return l(d(e).crypto)},t.wbg.__wbindgen_is_object=function(e){const t=d(e);return"object"===typeof t&&null!==t},t.wbg.__wbg_process_b02b3570280d0366=function(e){return l(d(e).process)},t.wbg.__wbg_versions_c1cb42213cedf0f5=function(e){return l(d(e).versions)},t.wbg.__wbg_node_43b1089f407e4ec2=function(e){return l(d(e).node)},t.wbg.__wbindgen_is_string=function(e){return"string"===typeof d(e)},t.wbg.__wbg_require_9a7e0f667ead4995=function(){return S((function(){return l(e.require)}),arguments)},t.wbg.__wbg_msCrypto_10fc94afee92bd76=function(e){return l(d(e).msCrypto)},t.wbg.__wbg_randomFillSync_b70ccbdf4926a99d=function(){return S((function(e,t){d(e).randomFillSync(f(t))}),arguments)},t.wbg.__wbg_getRandomValues_7e42b4fb8779dc6d=function(){return S((function(e,t){d(e).getRandomValues(d(t))}),arguments)},t.wbg.__wbindgen_is_function=function(e){return"function"===typeof d(e)},t.wbg.__wbg_newnoargs_cfecb3965268594c=function(e,t){return l(new Function(a(e,t)))},t.wbg.__wbg_call_3f093dd26d5569f8=function(){return S((function(e,t){return l(d(e).call(d(t)))}),arguments)},t.wbg.__wbg_self_05040bd9523805b9=function(){return S((function(){return l(self.self)}),arguments)},t.wbg.__wbg_window_adc720039f2cb14f=function(){return S((function(){return l(window.window)}),arguments)},t.wbg.__wbg_globalThis_622105db80c1457d=function(){return S((function(){return l(globalThis.globalThis)}),arguments)},t.wbg.__wbg_global_f56b013ed9bcf359=function(){return S((function(){return l(r.g.global)}),arguments)},t.wbg.__wbindgen_is_undefined=function(e){return void 0===d(e)},t.wbg.__wbg_call_67f2111acd2dfdb6=function(){return S((function(e,t,r){return l(d(e).call(d(t),d(r)))}),arguments)},t.wbg.__wbg_buffer_b914fb8b50ebbc3e=function(e){return l(d(e).buffer)},t.wbg.__wbg_newwithbyteoffsetandlength_0de9ee56e9f6ee6e=function(e,t,r){return l(new Uint8Array(d(e),t>>>0,r>>>0))},t.wbg.__wbg_new_b1f2d6842d615181=function(e){return l(new Uint8Array(d(e)))},t.wbg.__wbg_set_7d988c98e6ced92d=function(e,t,r){d(e).set(d(t),r>>>0)},t.wbg.__wbg_newwithlength_0d03cef43b68a530=function(e){return l(new Uint8Array(e>>>0))},t.wbg.__wbg_subarray_adc418253d76e2f1=function(e,t,r){return l(d(e).subarray(t>>>0,r>>>0))},t.wbg.__wbindgen_object_clone_ref=function(e){return l(d(e))},t.wbg.__wbindgen_throw=function(e,t){throw new Error(a(e,t))},t.wbg.__wbindgen_memory=function(){return l(n.memory)},t}function A(e,t){return n=e.exports,_.__wbindgen_wasm_module=t,m=null,o=null,n}async function _(e){if(void 0!==n)return n;"undefined"===typeof e&&(e=new URL(r(7035),r.b));const t=E();("string"===typeof e||"function"===typeof Request&&e instanceof Request||"function"===typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:i,module:o}=await async function(e,t){if("function"===typeof Response&&e instanceof Response){if("function"===typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if("application/wasm"==e.headers.get("Content-Type"))throw r;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}(await e,t);return A(i,o)}const k=_},9465:function(e){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function s(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var a={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},c=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push(e[(240&i)>>4]+e[15&i])}return r.join("")}}}(),u={16:10,24:12,32:14},l=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],h=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],b=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],S=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],A=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],_=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function k(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var x=function(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};x.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,o=k(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=o[t],this._Kd[e-r][t%4]=o[t];for(var s,a=0,c=i;c<n;){if(s=o[i-1],o[0]^=d[s>>16&255]<<24^d[s>>8&255]<<16^d[255&s]<<8^d[s>>24&255]^l[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];s=o[i/2-1],o[i/2]^=d[255&s]^d[s>>8&255]<<8^d[s>>16&255]<<16^d[s>>24&255]<<24;for(t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&c<n;)f=c>>2,h=c%4,this._Ke[f][h]=o[t],this._Kd[e-f][h]=o[t++],c++}for(var f=1;f<e;f++)for(var h=0;h<4;h++)s=this._Kd[f][h],this._Kd[f][h]=S[s>>24&255]^E[s>>16&255]^A[s>>8&255]^_[255&s]},x.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=k(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)r[i]=h[n[i]>>24&255]^p[n[(i+1)%4]>>16&255]^m[n[(i+2)%4]>>8&255]^y[255&n[(i+3)%4]]^this._Ke[s][i];n=r.slice()}var a,c=o(16);for(i=0;i<4;i++)a=this._Ke[t][i],c[4*i]=255&(d[n[i]>>24&255]^a>>24),c[4*i+1]=255&(d[n[(i+1)%4]>>16&255]^a>>16),c[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^a>>8),c[4*i+3]=255&(d[255&n[(i+3)%4]]^a);return c},x.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=k(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)r[i]=g[n[i]>>24&255]^v[n[(i+3)%4]>>16&255]^b[n[(i+2)%4]>>8&255]^w[255&n[(i+1)%4]]^this._Kd[s][i];n=r.slice()}var a,c=o(16);for(i=0;i<4;i++)a=this._Kd[t][i],c[4*i]=255&(f[n[i]>>24&255]^a>>24),c[4*i+1]=255&(f[n[(i+3)%4]>>16&255]^a>>16),c[4*i+2]=255&(f[n[(i+2)%4]>>8&255]^a>>8),c[4*i+3]=255&(f[255&n[(i+1)%4]]^a);return c};var M=function(e){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new x(e)};M.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},M.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=i(t,!0),this._aes=new x(e)};N.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},N.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];s(e,this._lastCipherblock,0,n,n+16)}return t};var P=function(e,t,r){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(t,!0),this._aes=new x(e)};P.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},P.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new x(e)};I.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},I.prototype.decrypt=I.prototype.encrypt;var R=function(e){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"===typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};R.prototype.setValue=function(e){if("number"!==typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},R.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},R.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var C=function(e,t){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof R||(t=new R(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new x(e)};C.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},C.prototype.decrypt=C.prototype.encrypt;var O={AES:x,Counter:R,ModeOfOperation:{ecb:M,cbc:N,cfb:P,ofb:I,ctr:C},utils:{hex:c,utf8:a},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=o(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var a=o(r);return s(e,a,0,0,r),a}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:s}};e.exports=O}()},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],c=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,c)),l=0,d=c>0?s-4:s;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2943:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<32;n++){var i=t.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function o(e){var t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function s(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=o(t)^n>>5}for(t=o(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=o(t)^31&i}return t}function a(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var a=(e=n).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var c=e.slice(0,a),u=e.slice(a+1);if(u.length<6)return"Data too short";var l=s(c);if("string"===typeof l)return l;for(var d=[],f=0;f<u.length;++f){var h=u.charAt(f),p=r[h];if(void 0===p)return"Unknown character "+h;l=o(l)^p,f+6>=u.length||d.push(p)}return 1!==l?"Invalid checksum for "+e:{prefix:c,words:d}}function c(e,t,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=a.apply(null,arguments);if("object"===typeof e)return e},decode:function(e){var t=a.apply(null,arguments);if("object"===typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=s(e=e.toLowerCase());if("string"===typeof i)throw new Error(i);for(var a=e+"1",c=0;c<r.length;++c){var u=r[c];if(u>>5!==0)throw new Error("Non 5-bit word");i=o(i)^u,a+=t.charAt(u)}for(c=0;c<6;++c)i=o(i);for(i^=1,c=0;c<6;++c){a+=t.charAt(i>>5*(5-c)&31)}return a},toWordsUnsafe:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},6373:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(7790).Buffer}catch(k){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,l=r;l<a;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,f=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=f;h++){var p=u-h|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?l[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],h=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?m+r:l[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n("undefined"!==typeof s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),l=this.clone();if(c){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,l=0|s[0],d=8191&l,f=l>>>13,h=0|s[1],p=8191&h,m=h>>>13,y=0|s[2],g=8191&y,v=y>>>13,b=0|s[3],w=8191&b,S=b>>>13,E=0|s[4],A=8191&E,_=E>>>13,k=0|s[5],x=8191&k,M=k>>>13,N=0|s[6],P=8191&N,I=N>>>13,R=0|s[7],C=8191&R,O=R>>>13,T=0|s[8],B=8191&T,U=T>>>13,L=0|s[9],D=8191&L,K=L>>>13,F=0|a[0],q=8191&F,z=F>>>13,j=0|a[1],J=8191&j,G=j>>>13,H=0|a[2],V=8191&H,W=H>>>13,Z=0|a[3],Y=8191&Z,Q=Z>>>13,X=0|a[4],$=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],de=8191&le,fe=le>>>13,he=0|a[9],pe=8191&he,me=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,q))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,q)|0))<<13)|0;u=((o=Math.imul(f,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,z))+Math.imul(m,q)|0,o=Math.imul(m,z);var ge=(u+(n=n+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(f,J)|0))<<13)|0;u=((o=o+Math.imul(f,G)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,q),i=(i=Math.imul(g,z))+Math.imul(v,q)|0,o=Math.imul(v,z),n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,J)|0,o=o+Math.imul(m,G)|0;var ve=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(f,V)|0))<<13)|0;u=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,z))+Math.imul(S,q)|0,o=Math.imul(S,z),n=n+Math.imul(g,J)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(v,J)|0,o=o+Math.imul(v,G)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var be=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,Q)|0)+Math.imul(f,Y)|0))<<13)|0;u=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,z))+Math.imul(_,q)|0,o=Math.imul(_,z),n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(S,J)|0,o=o+Math.imul(S,G)|0,n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Q)|0;var we=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,$)|0))<<13)|0;u=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,q),i=(i=Math.imul(x,z))+Math.imul(M,q)|0,o=Math.imul(M,z),n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,W)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,Q)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,ee)|0;var Se=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(f,re)|0))<<13)|0;u=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(P,q),i=(i=Math.imul(P,z))+Math.imul(I,q)|0,o=Math.imul(I,z),n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(M,J)|0,o=o+Math.imul(M,G)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,Q)|0,n=n+Math.imul(g,$)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0;var Ee=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(f,oe)|0))<<13)|0;u=((o=o+Math.imul(f,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(C,q),i=(i=Math.imul(C,z))+Math.imul(O,q)|0,o=Math.imul(O,z),n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(I,J)|0,o=o+Math.imul(I,G)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var Ae=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(f,ce)|0))<<13)|0;u=((o=o+Math.imul(f,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,z))+Math.imul(U,q)|0,o=Math.imul(U,z),n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,W)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,W)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,Q)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,Q)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(S,re)|0,o=o+Math.imul(S,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0;var _e=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;u=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,z))+Math.imul(K,q)|0,o=Math.imul(K,z),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(U,J)|0,o=o+Math.imul(U,G)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,Q)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(x,$)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(v,ce)|0,o=o+Math.imul(v,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,fe)|0;var ke=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(f,pe)|0))<<13)|0;u=((o=o+Math.imul(f,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,J),i=(i=Math.imul(D,G))+Math.imul(K,J)|0,o=Math.imul(K,G),n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,W)|0)+Math.imul(U,V)|0,o=o+Math.imul(U,W)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(S,ce)|0,o=o+Math.imul(S,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,fe)|0)+Math.imul(v,de)|0,o=o+Math.imul(v,fe)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(D,V),i=(i=Math.imul(D,W))+Math.imul(K,V)|0,o=Math.imul(K,W),n=n+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,Q)|0)+Math.imul(U,Y)|0,o=o+Math.imul(U,Q)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,n=n+Math.imul(w,de)|0,i=(i=i+Math.imul(w,fe)|0)+Math.imul(S,de)|0,o=o+Math.imul(S,fe)|0;var Me=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,me)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,Y),i=(i=Math.imul(D,Q))+Math.imul(K,Y)|0,o=Math.imul(K,Q),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(U,$)|0,o=o+Math.imul(U,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(A,de)|0,i=(i=i+Math.imul(A,fe)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,fe)|0;var Ne=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((o=o+Math.imul(S,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,ee))+Math.imul(K,$)|0,o=Math.imul(K,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(U,re)|0,o=o+Math.imul(U,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(M,de)|0,o=o+Math.imul(M,fe)|0;var Pe=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,me)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul(K,re)|0,o=Math.imul(K,ne),n=n+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(U,oe)|0,o=o+Math.imul(U,se)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(P,de)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,fe)|0;var Ie=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(K,oe)|0,o=Math.imul(K,se),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(U,ce)|0,o=o+Math.imul(U,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,fe)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,fe)|0;var Re=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(K,ce)|0,o=Math.imul(K,ue),n=n+Math.imul(B,de)|0,i=(i=i+Math.imul(B,fe)|0)+Math.imul(U,de)|0,o=o+Math.imul(U,fe)|0;var Ce=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,de),i=(i=Math.imul(D,fe))+Math.imul(K,de)|0,o=Math.imul(K,fe);var Oe=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(U,pe)|0))<<13)|0;u=((o=o+Math.imul(U,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Te=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,me))+Math.imul(K,pe)|0))<<13)|0;return u=((o=Math.imul(K,me))+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,c[0]=ye,c[1]=ge,c[2]=ve,c[3]=be,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=Ae,c[8]=_e,c[9]=ke,c[10]=xe,c[11]=Me,c[12]=Ne,c[13]=Pe,c[14]=Ie,c[15]=Re,c[16]=Ce,c[17]=Oe,c[18]=Te,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,d=(0|e.words[l])*(0|t.words[u]),f=67108863&d;a=67108863&(f=f+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):m(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=c,f=u,h=0;h<s;h++){var p=r[l+h],m=n[l+h],y=r[l+h+s],g=n[l+h+s],v=d*y-f*g;g=d*g+f*y,y=v,r[l+h]=p+y,n[l+h]=m+g,r[l+h+s]=p-y,n[l+h+s]=m-g,h!==a&&(v=c*d-u*f,f=c*f+u*d,d=v)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),d=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,l,d,n,i);for(var h=0;h<n;h++){var p=a[h]*l[h]-c[h]*d[h];c[h]=a[h]*d[h]+c[h]*l[h],a[h]=p}return this.conjugate(a,c,n),this.transform(a,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-o|d>>>o,l=d&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var f=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,d);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);a&&(a.words[d]=f)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0===(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,f=1;0===(r.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new A(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(b,v),b.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,v),i(S,v),i(E,v),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return g[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=s;0!==h.cmp(a);){for(var m=h,y=0;0!==m.cmp(a);y++)m=m.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));f=f.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return f},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new _(e)},i(_,A),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},8462:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(3776);if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(s){}},6382:(e,t,r)=>{"use strict";const n=r(4445),i=r(6900),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,r)}function u(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||Y(e.length)?a(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Y(n))return s;e[r+s]=n}return s}function S(e,t,r,n){return W(H(t,e.length-r),e,r,n)}function E(e,t,r,n){return W(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return W(V(t),e,r,n)}function _(e,t,r,n){return W(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128===(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=M));return r}(n)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Z(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(n,i),l=e.slice(t,r);for(let c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const M=4096;function N(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=Q[e[o]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function C(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function B(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||J(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||J(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||C(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||J(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||J(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e){return T(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e){return T(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const K={};function F(e,t,r){K[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?">= 0".concat(n," and < 2").concat(n," ** ").concat(8*(o+1)).concat(n):">= -(2".concat(n," ** ").concat(8*(o+1)-1).concat(n,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(n):">= ".concat(t).concat(n," and <= ").concat(r).concat(n),new K.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||J(t,e.length-(r+1))}(n,i,o)}function j(e,t){if("number"!==typeof e)throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}function J(e,t,r){if(Math.floor(e)!==e)throw j(e,r),new K.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i),n}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function X(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},8086:(e,t,r)=>{"use strict";var n=t;n.version=r(1636).rE,n.utils=r(6864),n.rand=r(8462),n.curve=r(7849),n.curves=r(6697),n.ec=r(7794),n.eddsa=r(4661)},6588:(e,t,r)=>{"use strict";var n=r(6373),i=r(6864),o=i.getNAF,s=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s,c,u=[];for(s=0;s<n.length;s+=r.step){c=0;for(var l=s+r.step-1;l>=s;l--)c=(c<<1)+n[l];u.push(c)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<u.length;s++)(c=u[s])===h?f=f.mixedAdd(r.points[s]):c===-h&&(f=f.mixedAdd(r.points[s].neg()));d=d.add(f)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var l=0;u>=0&&0===s[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var d=s[u];a(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var a,c,u,l=this._wnafT1,d=this._wnafT2,f=this._wnafT3,h=0;for(a=0;a<n;a++){var p=(u=t[a])._getNAFPoints(e);l[a]=p.wnd,d[a]=p.points}for(a=n-1;a>=1;a-=2){var m=a-1,y=a;if(1===l[m]&&1===l[y]){var g=[t[m],null,null,t[y]];0===t[m].y.cmp(t[y].y)?(g[1]=t[m].add(t[y]),g[2]=t[m].toJ().mixedAdd(t[y].neg())):0===t[m].y.cmp(t[y].y.redNeg())?(g[1]=t[m].toJ().mixedAdd(t[y]),g[2]=t[m].add(t[y].neg())):(g[1]=t[m].toJ().mixedAdd(t[y]),g[2]=t[m].toJ().mixedAdd(t[y].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=s(r[m],r[y]);for(h=Math.max(b[0].length,h),f[m]=new Array(h),f[y]=new Array(h),c=0;c<h;c++){var w=0|b[0][c],S=0|b[1][c];f[m][c]=v[3*(w+1)+(S+1)],f[y][c]=0,d[m]=g}}else f[m]=o(r[m],l[m],this._bitLength),f[y]=o(r[y],l[y],this._bitLength),h=Math.max(f[m].length,h),h=Math.max(f[y].length,h)}var E=this.jpoint(null,null,null),A=this._wnafT4;for(a=h;a>=0;a--){for(var _=0;a>=0;){var k=!0;for(c=0;c<n;c++)A[c]=0|f[c][a],0!==A[c]&&(k=!1);if(!k)break;_++,a--}if(a>=0&&_++,E=E.dblp(_),a<0)break;for(c=0;c<n;c++){var x=A[c];0!==x&&(x>0?u=d[c][x-1>>1]:x<0&&(u=d[c][-x-1>>1].neg()),E="affine"===u.type?E.mixedAdd(u):E.add(u))}}for(a=0;a<n;a++)d[a]=null;return i?E:E.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},5697:(e,t,r)=>{"use strict";var n=r(6864),i=r(6373),o=r(6329),s=r(6588),a=n.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function u(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),c=i.redMul(s),u=o.redMul(a),l=i.redMul(a),d=s.redMul(o);return this.curve.point(c,u,d,l)},u.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=o.redMul(s),l=a.redMul(c),d=o.redMul(c),f=s.redMul(a);return this.curve.point(u,l,f,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),d=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},7849:(e,t,r)=>{"use strict";var n=t;n.base=r(6588),n.short=r(8475),n.mont=r(7043),n.edwards=r(5697)},7043:(e,t,r)=>{"use strict";var n=r(6373),i=r(6329),o=r(6588),s=r(6864);function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},8475:(e,t,r)=>{"use strict";var n=r(6864),i=r(6373),o=r(6329),s=r(6588),a=n.assert;function c(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,c,u,l,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,h=this.n.clone(),p=new i(1),m=new i(0),y=new i(0),g=new i(1),v=0;0!==f.cmpn(0);){var b=h.div(f);u=h.sub(b.mul(f)),l=y.sub(b.mul(p));var w=g.sub(b.mul(m));if(!n&&u.cmp(d)<0)t=c.neg(),r=p,n=u.neg(),o=l;else if(n&&2===++v)break;c=u,h=f,f=u,y=p,p=l,g=m,m=w}s=u.neg(),a=l;var S=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(S)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},o(u,s.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new l(this,e,t,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),d=n.redMul(u),f=c.redSqr().redIAdd(l).redISub(d).redISub(d),h=c.redMul(d.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,h,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=r.redMul(c),d=a.redSqr().redIAdd(u).redISub(l).redISub(l),f=a.redMul(l.redISub(d)).redISub(i.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(d,f,h)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var l=o.redSqr(),d=u.redSqr(),f=d.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=o.redMul(d),m=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(m),g=h.redMul(y);g=g.redIAdd(g).redISub(f);var v=u.redMul(a);t+1<e&&(c=c.redMul(f)),o=m,a=v,u=g}return this.curve.jpoint(o,u.redMul(i),a)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(l).redISub(f);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),y=f.redIAdd(f);y=(y=y.redIAdd(y)).redIAdd(y),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},l.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),d=u.redISub(l),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=a.redMul(d).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,h,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.x.redMul(a).redISub(l);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,f,h)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},6697:(e,t,r)=>{"use strict";var n,i=t,o=r(3697),s=r(7849),a=r(6864).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(9112)}catch(l){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7794:(e,t,r)=>{"use strict";var n=r(6373),i=r(1172),o=r(6864),s=r(6697),a=r(8462),c=o.assert,u=r(109),l=r(9300);function d(e){if(!(this instanceof d))return new d(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){"object"===typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new n(1)),f=0;;f++){var h=o.k?o.k(f):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),y=m.umod(this.n);if(0!==y.cmpn(0)){var g=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var v=(p.getY().isOdd()?1:0)|(0!==m.cmp(y)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),v^=1),new l({r:y,s:g,recoveryParam:v})}}}}}},d.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new l(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new l(t,i);var o=this.n,s=new n(e),a=t.r,u=t.s,d=1&r,f=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");a=f?this.curve.pointFromX(a.add(this.curve.n),d):this.curve.pointFromX(a,d);var h=t.r.invm(o),p=o.sub(s).mul(h).umod(o),m=u.mul(h).umod(o);return this.g.mulAdd(p,a,m)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new l(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},109:(e,t,r)=>{"use strict";var n=r(6373),i=r(6864).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},9300:(e,t,r)=>{"use strict";var n=r(6373),i=r(6864),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;var u=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var l=c(e,r);if(!1===l)return!1;if(e.length!==l+r.place)return!1;var d=e.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];l(n,t.length),(n=n.concat(t)).push(2),l(n,r.length);var o=n.concat(r),s=[48];return l(s,o.length),s=s.concat(o),i.encode(s,e)}},4661:(e,t,r)=>{"use strict";var n=r(3697),i=r(6697),o=r(6864),s=o.assert,a=o.parseBytes,c=r(5206),u=r(3035);function l(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!==(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},5206:(e,t,r)=>{"use strict";var n=r(6864),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},3035:(e,t,r)=>{"use strict";var n=r(6373),i=r(6864),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},9112:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},6864:(e,t,r)=>{"use strict";var n=t,i=r(6373),o=r(5482),s=r(9848);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<t+1,s=e.clone();for(n=0;n<i.length;n++){var a,c=s.andln(o-1);s.isOdd()?(a=c>(o>>1)-1?(o>>1)-c:c,s.isubn(a)):a=0,i[n]=a,s.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0===(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0===(1&u)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"===typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},3697:(e,t,r)=>{var n=t;n.utils=r(7643),n.common=r(2629),n.sha=r(2624),n.ripemd=r(1859),n.hmac=r(7355),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},2629:(e,t,r)=>{"use strict";var n=r(7643),i=r(5482);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},7355:(e,t,r)=>{"use strict";var n=r(7643),i=r(5482);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},1859:(e,t,r)=>{"use strict";var n=r(7643),i=r(2629),o=n.rotl32,s=n.sum32,a=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],v=r,b=n,w=i,S=u,E=l,A=0;A<80;A++){var _=s(o(c(r,d(A,n,i,u),e[p[A]+t],f(A)),y[A]),l);r=l,l=u,u=o(i,10),i=n,n=_,_=s(o(c(v,d(79-A,b,w,S),e[m[A]+t],h(A)),g[A]),E),v=E,E=S,S=o(w,10),w=b,b=_}_=a(this.h[1],i,S),this.h[1]=a(this.h[2],u,E),this.h[2]=a(this.h[3],l,v),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,w),this.h[0]=_},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},2624:(e,t,r)=>{"use strict";t.sha1=r(2236),t.sha224=r(3291),t.sha256=r(3410),t.sha384=r(4282),t.sha512=r(2155)},2236:(e,t,r)=>{"use strict";var n=r(7643),i=r(2629),o=r(1510),s=n.rotl32,a=n.sum32,c=n.sum32_5,u=o.ft_1,l=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,l),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],f=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),m=c(s(i,5),u(p,o,l,f),h,r[n],d[p]);h=f,f=l,l=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],h)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},3291:(e,t,r)=>{"use strict";var n=r(7643),i=r(3410);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},3410:(e,t,r)=>{"use strict";var n=r(7643),i=r(2629),o=r(1510),s=r(5482),a=n.sum32,c=n.sum32_4,u=n.sum32_5,l=o.ch32,d=o.maj32,f=o.s0_256,h=o.s1_256,p=o.g0_256,m=o.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(v,y),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(m(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],y=this.h[2],g=this.h[3],v=this.h[4],b=this.h[5],w=this.h[6],S=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var E=u(S,h(v),l(v,b,w),this.k[n],r[n]),A=a(f(i),d(i,o,y));S=w,w=b,b=v,v=a(g,E),g=y,y=o,o=i,i=a(E,A)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],S)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},4282:(e,t,r)=>{"use strict";var n=r(7643),i=r(2155);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},2155:(e,t,r)=>{"use strict";var n=r(7643),i=r(2629),o=r(5482),s=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,l=n.sum64,d=n.sum64_hi,f=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,y=n.sum64_5_lo,g=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function S(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function E(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function A(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function _(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function M(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function N(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function I(e,t){var r=s(e,t,19)^s(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(b,g),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=I(r[n-4],r[n-3]),o=R(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=N(r[n-30],r[n-29]),u=P(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=h(i,o,s,a,c,u,l,d),r[n+1]=p(i,o,s,a,c,u,l,d)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],v=this.h[9],b=this.h[10],N=this.h[11],P=this.h[12],I=this.h[13],R=this.h[14],C=this.h[15];o(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var T=R,B=C,U=x(g,v),L=M(g,v),D=w(g,v,b,N,P),K=S(g,v,b,N,P,I),F=this.k[O],q=this.k[O+1],z=r[O],j=r[O+1],J=m(T,B,U,L,D,K,F,q,z,j),G=y(T,B,U,L,D,K,F,q,z,j);T=_(n,i),B=k(n,i),U=E(n,i,s,a,c),L=A(n,i,s,a,c,u);var H=d(T,B,U,L),V=f(T,B,U,L);R=P,C=I,P=b,I=N,b=g,N=v,g=d(h,p,J,G),v=f(p,p,J,G),h=c,p=u,c=s,u=a,s=n,a=i,n=d(J,G,H,V),i=f(J,G,H,V)}l(this.h,0,n,i),l(this.h,2,s,a),l(this.h,4,c,u),l(this.h,6,h,p),l(this.h,8,g,v),l(this.h,10,b,N),l(this.h,12,P,I),l(this.h,14,R,C)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},1510:(e,t,r)=>{"use strict";var n=r(7643).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},7643:(e,t,r)=>{"use strict";var n=r(5482),i=r(6329);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=c(i.toString(16))}return r},t.zero2=a,t.zero8=c,t.join32=function(e,t,r,i){var o=r-t;n(o%4===0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[a]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+a>>>0)<a?1:0,e+r+i+s+c+(l+=(d=d+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},1172:(e,t,r)=>{"use strict";var n=r(3697),i=r(9848),o=r(5482);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},6900:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=u}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+h]=255&s,h+=p,s/=256,u-=8);e[r+h-p]|=128*m}},6329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2161:(e,t,r)=>{var n;!function(){"use strict";var i="input is invalid type",o="object"===typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var a=!o&&"object"===typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node?s=r.g:a&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&e.exports,u=r.amdO,l=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,d="0123456789abcdef".split(""),f=[4,1024,262144,67108864],h=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],y=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(n){return new T(e,t,e).update(n)[r]()}},w=function(e,t,r){return function(n,i){return new T(e,t,i).update(n)[r]()}},S=function(e,t,r){return function(t,n,i,o){return x["cshake"+e].update(t,n,i,o)[r]()}},E=function(e,t,r){return function(t,n,i,o){return x["kmac"+e].update(t,n,i,o)[r]()}},A=function(e,t,r,n){for(var i=0;i<g.length;++i){var o=g[i];e[o]=t(r,n,o)}return e},_=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new T(e,t,e)},r.update=function(e){return r.create().update(e)},A(r,b,e,t)},k=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:_},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:_},{name:"shake",padding:[31,7936,2031616,520093696],bits:y,createMethod:function(e,t){var r=w(e,t,"hex");return r.create=function(r){return new T(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},A(r,w,e,t)}},{name:"cshake",padding:f,bits:y,createMethod:function(e,t){var r=v[e],n=S(e,0,"hex");return n.create=function(n,i,o){return i||o?new T(e,t,n).bytepad([i,o],r):x["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},A(n,S,e,t)}},{name:"kmac",padding:f,bits:y,createMethod:function(e,t){var r=v[e],n=E(e,0,"hex");return n.create=function(n,i,o){return new B(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},A(n,E,e,t)}}],x={},M=[],N=0;N<k.length;++N)for(var P=k[N],I=P.bits,R=0;R<I.length;++R){var C=P.name+"_"+I[R];if(M.push(C),x[C]=P.createMethod(I[R],P.padding),"sha3"!==P.name){var O=P.name+I[R];M.push(O),x[O]=x[C]}}function T(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function B(e,t,r){T.call(this,e,t,r)}T.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var n,o,s=this.blocks,a=this.byteCount,c=e.length,u=this.blockCount,d=0,f=this.s;d<c;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<u+1;++n)s[n]=0;if(t)for(n=this.start;d<c&&n<a;++d)s[n>>2]|=e[d]<<h[3&n++];else for(n=this.start;d<c&&n<a;++d)(o=e.charCodeAt(d))<128?s[n>>2]|=o<<h[3&n++]:o<2048?(s[n>>2]|=(192|o>>6)<<h[3&n++],s[n>>2]|=(128|63&o)<<h[3&n++]):o<55296||o>=57344?(s[n>>2]|=(224|o>>12)<<h[3&n++],s[n>>2]|=(128|o>>6&63)<<h[3&n++],s[n>>2]|=(128|63&o)<<h[3&n++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++d)),s[n>>2]|=(240|o>>18)<<h[3&n++],s[n>>2]|=(128|o>>12&63)<<h[3&n++],s[n>>2]|=(128|o>>6&63)<<h[3&n++],s[n>>2]|=(128|63&o)<<h[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[u],n=0;n<u;++n)f[n]^=s[n];U(f),this.reset=!0}else this.start=n}return this},T.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},T.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}var n=0,o=e.length;if(t)n=o;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},T.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];U(n)}},T.prototype.toString=T.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t===0&&(U(r),o=0)}return i&&(e=r[o],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},T.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)c[s]=r[o];s%t===0&&U(r)}return i&&(c[o]=r[o],e=e.slice(0,a)),e},T.prototype.buffer=T.prototype.arrayBuffer,T.prototype.digest=T.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r===0&&U(n)}return o&&(e=a<<2,t=n[s],c[e]=255&t,o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},B.prototype=new T,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),T.prototype.finalize.call(this)};var U=function(e){var t,r,n,i,o,s,a,c,u,l,d,f,h,m,y,g,v,b,w,S,E,A,_,k,x,M,N,P,I,R,C,O,T,B,U,L,D,K,F,q,z,j,J,G,H,V,W,Z,Y,Q,X,$,ee,te,re,ne,ie,oe,se,ae,ce,ue,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=o^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(l<<1|d>>>31),r=a^(d<<1|l>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(f<<1|h>>>31),r=u^(h<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=l^(i<<1|o>>>31),r=d^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],y=e[1],V=e[11]<<4|e[10]>>>28,W=e[10]<<4|e[11]>>>28,P=e[20]<<3|e[21]>>>29,I=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,j=e[40]<<18|e[41]>>>14,J=e[41]<<18|e[40]>>>14,B=e[2]<<1|e[3]>>>31,U=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,C=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,O=e[45]<<29|e[44]>>>3,T=e[44]<<29|e[45]>>>3,k=e[6]<<28|e[7]>>>4,x=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,K=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,S=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,H=e[9]<<27|e[8]>>>5,M=e[18]<<20|e[19]>>>12,N=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,A=e[48]<<14|e[49]>>>18,_=e[49]<<14|e[48]>>>18,e[0]=m^~g&b,e[1]=y^~v&w,e[10]=k^~M&P,e[11]=x^~N&I,e[20]=B^~L&K,e[21]=U^~D&F,e[30]=G^~V&Z,e[31]=H^~W&Y,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=g^~b&S,e[3]=v^~w&E,e[12]=M^~P&R,e[13]=N^~I&C,e[22]=L^~K&q,e[23]=D^~F&z,e[32]=V^~Z&Q,e[33]=W^~Y&X,e[42]=ne^~oe&ae,e[43]=ie^~se&ce,e[4]=b^~S&A,e[5]=w^~E&_,e[14]=P^~R&O,e[15]=I^~C&T,e[24]=K^~q&j,e[25]=F^~z&J,e[34]=Z^~Q&$,e[35]=Y^~X&ee,e[44]=oe^~ae&ue,e[45]=se^~ce&le,e[6]=S^~A&m,e[7]=E^~_&y,e[16]=R^~O&k,e[17]=C^~T&x,e[26]=q^~j&B,e[27]=z^~J&U,e[36]=Q^~$&G,e[37]=X^~ee&H,e[46]=ae^~ue&te,e[47]=ce^~le&re,e[8]=A^~m&g,e[9]=_^~y&v,e[18]=O^~k&M,e[19]=T^~x&N,e[28]=j^~B&L,e[29]=J^~U&D,e[38]=$^~G&V,e[39]=ee^~H&W,e[48]=ue^~te&ne,e[49]=le^~re&ie,e[0]^=p[n],e[1]^=p[n+1]};if(c)e.exports=x;else{for(N=0;N<M.length;++N)s[M[N]]=x[M[N]];u&&(void 0===(n=function(){return x}.call(t,r,t,e))||(e.exports=n))}}()},5482:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},9848:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},1099:(e,t,r)=>{"use strict";e.exports=r(9191)},9191:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(5850),n.BufferWriter=r(3931),n.Reader=r(3338),n.BufferReader=r(7707),n.util=r(1509),n.rpc=r(8094),n.roots=r(1368),n.configure=i,i()},3338:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(1509),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=l(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},7707:(e,t,r)=>{"use strict";e.exports=o;var n=r(3338);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(1509);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},1368:e=>{"use strict";e.exports={}},8094:(e,t,r)=>{"use strict";t.Service=r(3694)},3694:(e,t,r)=>{"use strict";e.exports=i;var n=r(1509);function i(e,t,r){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(c){return a.emit("error",c,t),void setTimeout((function(){s(c)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},6350:(e,t,r)=>{"use strict";e.exports=i;var n=r(1509);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},1509:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(4762),n.base64=r(6762),n.EventEmitter=r(7351),n.float=r(217),n.inquire=r(4882),n.utf8=r(8626),n.pool=r(6931),n.LongBits=r(6350),n.isNode=Boolean("undefined"!==typeof r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"===typeof e||e instanceof String},n.isObject=function(e){return e&&"object"===typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"===typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},5850:(e,t,r)=>{"use strict";e.exports=d;var n,i=r(1509),o=i.LongBits,s=i.base64,a=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function h(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=f(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var r=d.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=f(),n._configure()}},3931:(e,t,r)=>{"use strict";e.exports=o;var n=r(5850);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(1509);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},2730:(e,t,r)=>{"use strict";var n=r(5043),i=r(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,r,n,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,r,n){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var U,L=Object.assign;function D(e){if(void 0===U)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var K=!1;function F(e,t){if(!e||K)return"";K=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=n.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{K=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?D(e):""}function q(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case E:return"Portal";case k:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return z(e(t))}catch(r){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function J(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=G(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=J(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var r=J(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,J(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&W(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+J(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(te(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:J(r)}}function oe(e,t){var r=J(t.value),n=J(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ye(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ae=null,_e=null;function ke(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),Ee(e.stateNode,e.type,t))}}function xe(e){Ae?_e?_e.push(e):_e=[e]:Ae=e}function Me(){if(Ae){var e=Ae,t=_e;if(_e=Ae=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ne(e,t){return e(t)}function Pe(){}var Ie=!1;function Re(e,t,r){if(Ie)return e(t,r);Ie=!0;try{return Ne(e,t,r)}finally{Ie=!1,(null!==Ae||null!==_e)&&(Pe(),Me())}}function Ce(e,t){var r=e.stateNode;if(null===r)return null;var n=Si(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Oe=!1;if(l)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(le){Oe=!1}function Be(e,t,r,n,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(l){this.onError(l)}}var Ue=!1,Le=null,De=!1,Ke=null,Fe={onError:function(e){Ue=!0,Le=e}};function qe(e,t,r,n,i,o,s,a,c){Ue=!1,Le=null,Be.apply(Fe,arguments)}function ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(ze(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(n=i.return)){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Je(i),e;if(s===n)return Je(i),t;s=s.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,c=i.child;c;){if(c===r){a=!0,r=i,n=s;break}if(c===n){a=!0,n=i,r=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===r){a=!0,r=s,n=i;break}if(c===n){a=!0,n=s,r=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&r;if(0!==s){var a=s&~i;0!==a?n=dt(a):0!==(o&=s)&&(n=dt(o))}else 0!==(s=r&~i)?n=dt(s):0!==o&&(n=dt(o));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-st(t)),n|=e[r],t&=~i;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function vt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,Et,At,_t,kt,xt=!1,Mt=[],Nt=null,Pt=null,It=null,Rt=new Map,Ct=new Map,Ot=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Ut(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var r=ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=je(r)))return e.blockedOn=t,void kt(e.priority,(function(){At(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=bi(r))&&Et(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);we=n,r.target.dispatchEvent(n),we=null,t.shift()}return!0}function Kt(e,t,r){Dt(e)&&r.delete(t)}function Ft(){xt=!1,null!==Nt&&Dt(Nt)&&(Nt=null),null!==Pt&&Dt(Pt)&&(Pt=null),null!==It&&Dt(It)&&(It=null),Rt.forEach(Kt),Ct.forEach(Kt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function zt(e){function t(t){return qt(t,e)}if(0<Mt.length){qt(Mt[0],e);for(var r=1;r<Mt.length;r++){var n=Mt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Nt&&qt(Nt,e),null!==Pt&&qt(Pt,e),null!==It&&qt(It,e),Rt.forEach(t),Ct.forEach(t),r=0;r<Ot.length;r++)(n=Ot[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&null===(r=Ot[0]).blockedOn;)Lt(r),null===r.blockedOn&&Ot.shift()}var jt=w.ReactCurrentBatchConfig,Jt=!0;function Gt(e,t,r,n){var i=bt,o=jt.transition;jt.transition=null;try{bt=1,Vt(e,t,r,n)}finally{bt=i,jt.transition=o}}function Ht(e,t,r,n){var i=bt,o=jt.transition;jt.transition=null;try{bt=4,Vt(e,t,r,n)}finally{bt=i,jt.transition=o}}function Vt(e,t,r,n){if(Jt){var i=Zt(e,t,r,n);if(null===i)Jn(e,t,n,Wt,r),Bt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Nt=Ut(Nt,e,t,r,n,i),!0;case"dragenter":return Pt=Ut(Pt,e,t,r,n,i),!0;case"mouseover":return It=Ut(It,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Ut(Rt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ct.set(o,Ut(Ct.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Bt(e,n),4&t&&-1<Tt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&St(o),null===(o=Zt(e,t,r,n))&&Jn(e,t,n,Wt,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else Jn(e,t,n,null,r)}}var Wt=null;function Zt(e,t,r,n){if(Wt=null,null!==(e=vi(e=Se(n))))if(null===(t=ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case $e:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,$t=null;function er(){if($t)return $t;var e,t,r=Xt,n=r.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,o){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var or,sr,ar,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ir(cr),lr=L({},cr,{view:0,detail:0}),dr=ir(lr),fr=L({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&"mousemove"===e.type?(or=e.screenX-ar.screenX,sr=e.screenY-ar.screenY):sr=or=0,ar=e),or)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),hr=ir(fr),pr=ir(L({},fr,{dataTransfer:0})),mr=ir(L({},lr,{relatedTarget:0})),yr=ir(L({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=L({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=ir(gr),br=ir(L({},cr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function _r(){return Ar}var kr=L({},lr,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xr=ir(kr),Mr=ir(L({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nr=ir(L({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r})),Pr=ir(L({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=L({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=ir(Ir),Cr=[9,13,27,32],Or=l&&"CompositionEvent"in window,Tr=null;l&&"documentMode"in document&&(Tr=document.documentMode);var Br=l&&"TextEvent"in window&&!Tr,Ur=l&&(!Or||Tr&&8<Tr&&11>=Tr),Lr=String.fromCharCode(32),Dr=!1;function Kr(e,t){switch(e){case"keyup":return-1!==Cr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qr=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function Jr(e,t,r,n){xe(n),0<(t=Hn(t,"onChange")).length&&(r=new ur("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gr=null,Hr=null;function Vr(e){Dn(e,0)}function Wr(e){if(V(wi(e)))return e}function Zr(e,t){if("change"===e)return t}var Yr=!1;if(l){var Qr;if(l){var Xr="oninput"in document;if(!Xr){var $r=document.createElement("div");$r.setAttribute("oninput","return;"),Xr="function"===typeof $r.oninput}Qr=Xr}else Qr=!1;Yr=Qr&&(!document.documentMode||9<document.documentMode)}function en(){Gr&&(Gr.detachEvent("onpropertychange",tn),Hr=Gr=null)}function tn(e){if("value"===e.propertyName&&Wr(Hr)){var t=[];Jr(t,Hr,e,Se(e)),Re(Vr,t)}}function rn(e,t,r){"focusin"===e?(en(),Hr=r,(Gr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wr(Hr)}function on(e,t){if("click"===e)return Wr(t)}function sn(e,t){if("input"===e||"change"===e)return Wr(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cn(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!d.call(t,i)||!an(e[i],t[i]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ln(e,t){var r,n=un(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fn(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=W((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=fn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=ln(r,o);var s=ln(r,n);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=l&&"documentMode"in document&&11>=document.documentMode,yn=null,gn=null,vn=null,bn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==yn||yn!==W(n)||("selectionStart"in(n=yn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&cn(vn,n)||(vn=n,0<(n=Hn(gn,"onSelect")).length&&(t=new ur("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yn)))}function Sn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var En={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionend:Sn("Transition","TransitionEnd")},An={},_n={};function kn(e){if(An[e])return An[e];if(!En[e])return e;var t,r=En[e];for(t in r)if(r.hasOwnProperty(t)&&t in _n)return An[e]=r[t];return e}l&&(_n=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var xn=kn("animationend"),Mn=kn("animationiteration"),Nn=kn("animationstart"),Pn=kn("transitionend"),In=new Map,Rn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){In.set(e,t),c(t,[e])}for(var On=0;On<Rn.length;On++){var Tn=Rn[On];Cn(Tn.toLowerCase(),"on"+(Tn[0].toUpperCase()+Tn.slice(1)))}Cn(xn,"onAnimationEnd"),Cn(Mn,"onAnimationIteration"),Cn(Nn,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Pn,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Un=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,s,a,c,u){if(qe.apply(this,arguments),Ue){if(!Ue)throw Error(o(198));var l=Le;Ue=!1,Le=null,De||(De=!0,Ke=l)}}(n,t,void 0,e),e.currentTarget=null}function Dn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Ln(i,a,u),o=c}else for(s=0;s<n.length;s++){if(c=(a=n[s]).instance,u=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Ln(i,a,u),o=c}}}if(De)throw e=Ke,De=!1,Ke=null,e}function Kn(e,t){var r=t[mi];void 0===r&&(r=t[mi]=new Set);var n=e+"__bubble";r.has(n)||(jn(t,e,2,!1),r.add(n))}function Fn(e,t,r){var n=0;t&&(n|=4),jn(r,e,n,t)}var qn="_reactListening"+Math.random().toString(36).slice(2);function zn(e){if(!e[qn]){e[qn]=!0,s.forEach((function(t){"selectionchange"!==t&&(Un.has(t)||Fn(t,!1,e),Fn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qn]||(t[qn]=!0,Fn("selectionchange",!1,t))}}function jn(e,t,r,n){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Vt}r=i.bind(null,t,r,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Jn(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(c=s.tag)||6===c){n=o=s;continue e}a=a.parentNode}}n=n.return}Re((function(){var n=o,i=Se(r),s=[];e:{var a=In.get(e);if(void 0!==a){var c=ur,u=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":c=xr;break;case"focusin":u="focus",c=mr;break;case"focusout":u="blur",c=mr;break;case"beforeblur":case"afterblur":c=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nr;break;case xn:case Mn:case Nn:c=yr;break;case Pn:c=Pr;break;case"scroll":c=dr;break;case"wheel":c=Rr;break;case"copy":case"cut":case"paste":c=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Mr}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==a?a+"Capture":null:a;l=[];for(var h,p=n;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ce(p,f))&&l.push(Gn(p,m,h)))),d)break;p=p.return}0<l.length&&(a=new c(a,u,null,r,i),s.push({event:a,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===we||!(u=r.relatedTarget||r.fromElement)||!vi(u)&&!u[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?vi(u):null)&&(u!==(d=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=n),c!==u)){if(l=hr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Mr,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?a:wi(c),h=null==u?a:wi(u),(a=new l(m,p+"leave",c,r,i)).target=d,a.relatedTarget=h,m=null,vi(i)===n&&((l=new l(f,p+"enter",u,r,i)).target=h,l.relatedTarget=d,m=l),d=m,c&&u)e:{for(f=u,p=0,h=l=c;h;h=Vn(h))p++;for(h=0,m=f;m;m=Vn(m))h++;for(;0<p-h;)l=Vn(l),p--;for(;0<h-p;)f=Vn(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Vn(l),f=Vn(f)}l=null}else l=null;null!==c&&Wn(s,a,c,l,!1),null!==u&&null!==d&&Wn(s,d,u,l,!0)}if("select"===(c=(a=n?wi(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Zr;else if(jr(a))if(Yr)y=sn;else{y=nn;var g=rn}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=on);switch(y&&(y=y(e,n))?Jr(s,y,r,i):(g&&g(e,a,n),"focusout"===e&&(g=a._wrapperState)&&g.controlled&&"number"===a.type&&ee(a,"number",a.value)),g=n?wi(n):window,e){case"focusin":(jr(g)||"true"===g.contentEditable)&&(yn=g,gn=n,vn=null);break;case"focusout":vn=gn=yn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(s,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":wn(s,r,i)}var v;if(Or)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qr?Kr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Ur&&"ko"!==r.locale&&(qr||"onCompositionStart"!==b?"onCompositionEnd"===b&&qr&&(v=er()):(Xt="value"in(Qt=i)?Qt.value:Qt.textContent,qr=!0)),0<(g=Hn(n,b)).length&&(b=new br(b,e,null,r,i),s.push({event:b,listeners:g}),v?b.data=v:null!==(v=Fr(r))&&(b.data=v))),(v=Br?function(e,t){switch(e){case"compositionend":return Fr(t);case"keypress":return 32!==t.which?null:(Dr=!0,Lr);case"textInput":return(e=t.data)===Lr&&Dr?null:e;default:return null}}(e,r):function(e,t){if(qr)return"compositionend"===e||!Or&&Kr(e,t)?(e=er(),$t=Xt=Qt=null,qr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ur&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Hn(n,"onBeforeInput")).length&&(i=new br("onBeforeInput","beforeinput",null,r,i),s.push({event:i,listeners:n}),i.data=v))}Dn(s,t)}))}function Gn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ce(e,r))&&n.unshift(Gn(e,o,i)),null!=(o=Ce(e,t))&&n.push(Gn(e,o,i))),e=e.return}return n}function Vn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wn(e,t,r,n,i){for(var o=t._reactName,s=[];null!==r&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(null!==c&&c===n)break;5===a.tag&&null!==u&&(a=u,i?null!=(c=Ce(r,o))&&s.unshift(Gn(r,c,a)):i||null!=(c=Ce(r,o))&&s.push(Gn(r,c,a))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Zn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Zn,"\n").replace(Yn,"")}function Xn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(o(425))}function $n(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ni;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void zt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,yi="__reactListeners$"+di,gi="__reactHandles$"+di;function vi(e){var t=e[fi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[fi]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=li(e);null!==e;){if(r=e[fi])return r;e=li(e)}return t}r=(e=r).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[hi]||null}var Ei=[],Ai=-1;function _i(e){return{current:e}}function ki(e){0>Ai||(e.current=Ei[Ai],Ei[Ai]=null,Ai--)}function xi(e,t){Ai++,Ei[Ai]=e.current,e.current=t}var Mi={},Ni=_i(Mi),Pi=_i(!1),Ii=Mi;function Ri(e,t){var r=e.type.contextTypes;if(!r)return Mi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Pi),ki(Ni)}function Ti(e,t,r){if(Ni.current!==Mi)throw Error(o(168));xi(Ni,t),xi(Pi,r)}function Bi(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(o(108,j(e)||"Unknown",i));return L({},r,n)}function Ui(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Ii=Ni.current,xi(Ni,e),xi(Pi,Pi.current),!0}function Li(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=Bi(e,t,Ii),n.__reactInternalMemoizedMergedChildContext=e,ki(Pi),ki(Ni),xi(Ni,e)):ki(Pi),xi(Pi,r)}var Di=null,Ki=!1,Fi=!1;function qi(e){null===Di?Di=[e]:Di.push(e)}function zi(){if(!Fi&&null!==Di){Fi=!0;var e=0,t=bt;try{var r=Di;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Di=null,Ki=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ve($e,zi),i}finally{bt=t,Fi=!1}}return null}var ji=[],Ji=0,Gi=null,Hi=0,Vi=[],Wi=0,Zi=null,Yi=1,Qi="";function Xi(e,t){ji[Ji++]=Hi,ji[Ji++]=Gi,Gi=e,Hi=t}function $i(e,t,r){Vi[Wi++]=Yi,Vi[Wi++]=Qi,Vi[Wi++]=Zi,Zi=e;var n=Yi;e=Qi;var i=32-st(n)-1;n&=~(1<<i),r+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Yi=1<<32-st(t)+i|r<<i|n,Qi=o+e}else Yi=1<<o|r<<i|n,Qi=e}function eo(e){null!==e.return&&(Xi(e,1),$i(e,1,0))}function to(e){for(;e===Gi;)Gi=ji[--Ji],ji[Ji]=null,Hi=ji[--Ji],ji[Ji]=null;for(;e===Zi;)Zi=Vi[--Wi],Vi[Wi]=null,Qi=Vi[--Wi],Vi[Wi]=null,Yi=Vi[--Wi],Vi[Wi]=null}var ro=null,no=null,io=!1,oo=null;function so(e,t){var r=Ru(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ao(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ro=e,no=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ro=e,no=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Zi?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ru(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ro=e,no=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=no;if(t){var r=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=ui(r.nextSibling);var n=ro;t&&ao(e,t)?so(n,r):(e.flags=-4097&e.flags|2,io=!1,ro=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,ro=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ro=e}function fo(e){if(e!==ro)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=no)){if(co(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=ui(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){no=ui(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}no=null}}else no=ro?ui(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=no;e;)e=ui(e.nextSibling)}function po(){no=ro=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var yo=w.ReactCurrentBatchConfig;function go(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Lu(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){var o=r.type;return o===A?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&bo(o)===t.type)?((n=i(t,r.props)).ref=go(e,t,r),n.return=e,n):((n=Tu(r.type,r.key,r.props,null,e.mode,n)).ref=go(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Du(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,o){return null===t||7!==t.tag?((t=Bu(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(r=Tu(t.type,t.key,t.props,null,e.mode,r)).ref=go(e,null,t),r.return=e,r;case E:return(t=Du(t,e.mode,r)).return=e,t;case C:return f(e,(0,t._init)(t._payload),r)}if(te(t)||B(t))return(t=Bu(t,e.mode,r,null)).return=e,t;vo(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return r.key===i?u(e,t,r,n):null;case E:return r.key===i?l(e,t,r,n):null;case C:return h(e,t,(i=r._init)(r._payload),n)}if(te(r)||B(r))return null!==i?null:d(e,t,r,n,null);vo(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case E:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case C:return p(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||B(n))return d(t,e=e.get(r)||null,n,i,null);vo(t,n)}return null}function m(i,o,a,c){for(var u=null,l=null,d=o,m=o=0,y=null;null!==d&&m<a.length;m++){d.index>m?(y=d,d=null):y=d.sibling;var g=h(i,d,a[m],c);if(null===g){null===d&&(d=y);break}e&&d&&null===g.alternate&&t(i,d),o=s(g,o,m),null===l?u=g:l.sibling=g,l=g,d=y}if(m===a.length)return r(i,d),io&&Xi(i,m),u;if(null===d){for(;m<a.length;m++)null!==(d=f(i,a[m],c))&&(o=s(d,o,m),null===l?u=d:l.sibling=d,l=d);return io&&Xi(i,m),u}for(d=n(i,d);m<a.length;m++)null!==(y=p(d,i,m,a[m],c))&&(e&&null!==y.alternate&&d.delete(null===y.key?m:y.key),o=s(y,o,m),null===l?u=y:l.sibling=y,l=y);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),u}function y(i,a,c,u){var l=B(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,m=a,y=a=0,g=null,v=c.next();null!==m&&!v.done;y++,v=c.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=h(i,m,v.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,y),null===d?l=b:d.sibling=b,d=b,m=g}if(v.done)return r(i,m),io&&Xi(i,y),l;if(null===m){for(;!v.done;y++,v=c.next())null!==(v=f(i,v.value,u))&&(a=s(v,a,y),null===d?l=v:d.sibling=v,d=v);return io&&Xi(i,y),l}for(m=n(i,m);!v.done;y++,v=c.next())null!==(v=p(m,i,y,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),a=s(v,a,y),null===d?l=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,y),l}return function e(n,o,s,c){if("object"===typeof s&&null!==s&&s.type===A&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case S:e:{for(var u=s.key,l=o;null!==l;){if(l.key===u){if((u=s.type)===A){if(7===l.tag){r(n,l.sibling),(o=i(l,s.props.children)).return=n,n=o;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===C&&bo(u)===l.type){r(n,l.sibling),(o=i(l,s.props)).ref=go(n,l,s),o.return=n,n=o;break e}r(n,l);break}t(n,l),l=l.sibling}s.type===A?((o=Bu(s.props.children,n.mode,c,s.key)).return=n,n=o):((c=Tu(s.type,s.key,s.props,null,n.mode,c)).ref=go(n,o,s),c.return=n,n=c)}return a(n);case E:e:{for(l=s.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){r(n,o.sibling),(o=i(o,s.children||[])).return=n,n=o;break e}r(n,o);break}t(n,o),o=o.sibling}(o=Du(s,n.mode,c)).return=n,n=o}return a(n);case C:return e(n,o,(l=s._init)(s._payload),c)}if(te(s))return m(n,o,s,c);if(B(s))return y(n,o,s,c);vo(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,s)).return=n,n=o):(r(n,o),(o=Lu(s,n.mode,c)).return=n,n=o),a(n)):r(n,o)}}var So=wo(!0),Eo=wo(!1),Ao=_i(null),_o=null,ko=null,xo=null;function Mo(){xo=ko=_o=null}function No(e){var t=Ao.current;ki(Ao),e._currentValue=t}function Po(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Io(e,t){_o=e,xo=ko=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===ko){if(null===_o)throw Error(o(308));ko=e,_o.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var Co=null;function Oo(e){null===Co?Co=[e]:Co.push(e)}function To(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Oo(t)):(r.next=i.next,i.next=r),t.interleaved=r,Bo(e,n)}function Bo(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Uo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ko(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Nc)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Bo(e,r)}return null===(i=n.interleaved)?(t.next=t,Oo(n)):(t.next=i.next,i.next=t),n.interleaved=t,Bo(e,r)}function qo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}function zo(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jo(e,t,r,n){var i=e.updateQueue;Uo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var l=e.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===a?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(null!==o){var d=i.baseState;for(s=0,l=u=c=null,a=o;;){var f=a.lane,h=a.eventTime;if((n&f)===f){null!==l&&(l=l.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(f=t,h=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Uo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(u=l=h,c=d):l=l.next=h,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Uc|=s,e.lanes=s,e.memoizedState=d}}function Jo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var Go={},Ho=_i(Go),Vo=_i(Go),Wo=_i(Go);function Zo(e){if(e===Go)throw Error(o(174));return e}function Yo(e,t){switch(xi(Wo,t),xi(Vo,e),xi(Ho,Go),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ho),xi(Ho,t)}function Qo(){ki(Ho),ki(Vo),ki(Wo)}function Xo(e){Zo(Wo.current);var t=Zo(Ho.current),r=ce(t,e.type);t!==r&&(xi(Vo,e),xi(Ho,r))}function $o(e){Vo.current===e&&(ki(Ho),ki(Vo))}var es=_i(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function ns(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,cs=null,us=null,ls=!1,ds=!1,fs=0,hs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function ys(e,t,r,n,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?$s:ea,e=r(n,i),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(o(301));s+=1,us=cs=null,t.updateQueue=null,is.current=ta,e=r(n,i)}while(ds)}if(is.current=Xs,t=null!==cs&&null!==cs.next,ss=0,us=cs=as=null,ls=!1,t)throw Error(o(300));return e}function gs(){var e=0!==fs;return fs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?as.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===us?as.memoizedState:us.next;if(null!==t)us=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===us?as.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"===typeof t?t(e):t}function Ss(e){var t=bs(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=cs,i=n.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(null!==i){s=i.next,n=n.baseState;var c=a=null,u=null,l=s;do{var d=l.lane;if((ss&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=f,a=n):u=u.next=f,as.lanes|=d,Uc|=d}l=l.next}while(null!==l&&l!==s);null===u?a=n:u.next=c,an(n,t.memoizedState)||(ba=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Uc|=s,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Es(e){var t=bs(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);an(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function As(){}function _s(e,t){var r=as,n=bs(),i=t(),s=!an(n.memoizedState,i);if(s&&(n.memoizedState=i,ba=!0),n=n.queue,Us(Ms.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(r.flags|=2048,Rs(9,xs.bind(null,r,n,i,t),void 0,null),null===Pc)throw Error(o(349));0!==(30&ss)||ks(r,t,i)}return i}function ks(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function xs(e,t,r,n){t.value=r,t.getSnapshot=n,Ns(t)&&Ps(e)}function Ms(e,t,r){return r((function(){Ns(t)&&Ps(e)}))}function Ns(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch(n){return!0}}function Ps(e){var t=Bo(e,1);null!==t&&ru(t,e,1,-1)}function Is(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ws.bind(null,as,e),[t.memoizedState,e]}function Rs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Cs(){return bs().memoizedState}function Os(e,t,r,n){var i=vs();as.flags|=e,i.memoizedState=Rs(1|t,r,void 0,void 0===n?null:n)}function Ts(e,t,r,n){var i=bs();n=void 0===n?null:n;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==n&&ms(n,s.deps))return void(i.memoizedState=Rs(t,r,o,n))}as.flags|=e,i.memoizedState=Rs(1|t,r,o,n)}function Bs(e,t){return Os(8390656,8,e,t)}function Us(e,t){return Ts(2048,8,e,t)}function Ls(e,t){return Ts(4,2,e,t)}function Ds(e,t){return Ts(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ts(4,4,Ks.bind(null,t,e),r)}function qs(){}function zs(e,t){var r=bs();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ms(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function js(e,t){var r=bs();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ms(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Js(e,t,r){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=r):(an(r,t)||(r=mt(),as.lanes|=r,Uc|=r,e.baseState=!0),t)}function Gs(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=os.transition;os.transition={};try{e(!1),t()}finally{bt=r,os.transition=n}}function Hs(){return bs().memoizedState}function Vs(e,t,r){var n=tu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zs(e))Ys(t,r);else if(null!==(r=To(e,t,r,n))){ru(r,e,n,eu()),Qs(r,t,n)}}function Ws(e,t,r){var n=tu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zs(e))Ys(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,an(a,s)){var c=t.interleaved;return null===c?(i.next=i,Oo(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(u){}null!==(r=To(e,t,i,n))&&(ru(r,e,n,i=eu()),Qs(r,t,n))}}function Zs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=ls=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qs(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}var Xs={readContext:Ro,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},$s={readContext:Ro,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Bs,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Os(4194308,4,Ks.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var r=vs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Vs.bind(null,as,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Is,useDebugValue:qs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Is(!1),t=e[0];return e=Gs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=as,i=vs();if(io){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===Pc)throw Error(o(349));0!==(30&ss)||ks(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Bs(Ms.bind(null,n,s,e),[e]),n.flags|=2048,Rs(9,xs.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=vs(),t=Pc.identifierPrefix;if(io){var r=Qi;t=":"+t+"R"+(r=(Yi&~(1<<32-st(Yi)-1)).toString(32)+r),0<(r=fs++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ro,useCallback:zs,useContext:Ro,useEffect:Us,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:Ds,useMemo:js,useReducer:Ss,useRef:Cs,useState:function(){return Ss(ws)},useDebugValue:qs,useDeferredValue:function(e){return Js(bs(),cs.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],bs().memoizedState]},useMutableSource:As,useSyncExternalStore:_s,useId:Hs,unstable_isNewReconciler:!1},ta={readContext:Ro,useCallback:zs,useContext:Ro,useEffect:Us,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:Ds,useMemo:js,useReducer:Es,useRef:Cs,useState:function(){return Es(ws)},useDebugValue:qs,useDeferredValue:function(e){var t=bs();return null===cs?t.memoizedState=e:Js(t,cs.memoizedState,e)},useTransition:function(){return[Es(ws)[0],bs().memoizedState]},useMutableSource:As,useSyncExternalStore:_s,useId:Hs,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function na(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=eu(),i=tu(e),o=Ko(n,i);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Fo(e,o,i))&&(ru(t,e,i,n),qo(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=eu(),i=tu(e),o=Ko(n,i);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Fo(e,o,i))&&(ru(t,e,i,n),qo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=eu(),n=tu(e),i=Ko(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fo(e,i,n))&&(ru(t,e,n,r),qo(t,e,n))}};function oa(e,t,r,n,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cn(r,n)||!cn(i,o))}function sa(e,t,r){var n=!1,i=Mi,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(i=Ci(t)?Ii:Ni.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ri(e,i):Mi),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ro(o):(o=Ci(t)?Ii:Ni.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(na(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),jo(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var r="",n=t;do{r+=q(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function la(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,r){(r=Ko(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jc||(Jc=!0,Gc=n),da(0,t)},r}function pa(e,t,r){(r=Ko(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){da(0,t),"function"!==typeof n&&(null===Hc?Hc=new Set([this]):Hc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ma(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new fa;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=ku.bind(null,e,t,r),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ga(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ko(-1,1)).tag=2,Fo(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=w.ReactCurrentOwner,ba=!1;function wa(e,t,r,n){t.child=null===e?Eo(t,null,r,n):So(t,e.child,r,n)}function Sa(e,t,r,n,i){r=r.render;var o=t.ref;return Io(t,i),n=ys(e,t,r,n,o,i),r=gs(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ja(e,t,i))}function Ea(e,t,r,n,i){if(null===e){var o=r.type;return"function"!==typeof o||Cu(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Tu(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Aa(e,t,o,n,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:cn)(s,n)&&e.ref===t.ref)return Ja(e,t,i)}return t.flags|=1,(e=Ou(o,n)).ref=t.ref,e.return=t,t.child=e}function Aa(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(cn(o,n)&&e.ref===t.ref){if(ba=!1,t.pendingProps=n=o,0===(e.lanes&i))return t.lanes=e.lanes,Ja(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return xa(e,t,r,n,i)}function _a(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Oc,Cc),Cc|=r;else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Oc,Cc),Cc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,xi(Oc,Cc),Cc|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,xi(Oc,Cc),Cc|=n;return wa(e,t,i,r),t.child}function ka(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,r,n,i){var o=Ci(r)?Ii:Ni.current;return o=Ri(t,o),Io(t,i),r=ys(e,t,r,n,o,i),n=gs(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ja(e,t,i))}function Ma(e,t,r,n,i){if(Ci(r)){var o=!0;Ui(t)}else o=!1;if(Io(t,i),null===t.stateNode)ja(e,t),sa(t,r,n),ca(t,r,n,i),n=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=r.contextType;"object"===typeof u&&null!==u?u=Ro(u):u=Ri(t,u=Ci(r)?Ii:Ni.current);var l=r.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==n||c!==u)&&aa(t,s,n,u),Uo=!1;var f=t.memoizedState;s.state=f,jo(t,n,s,i),c=t.memoizedState,a!==n||f!==c||Pi.current||Uo?("function"===typeof l&&(na(t,r,l,n),c=t.memoizedState),(a=Uo||oa(t,r,a,n,f,c,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Do(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ra(t.type,a),s.props=u,d=t.pendingProps,f=s.context,"object"===typeof(c=r.contextType)&&null!==c?c=Ro(c):c=Ri(t,c=Ci(r)?Ii:Ni.current);var h=r.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||f!==c)&&aa(t,s,n,c),Uo=!1,f=t.memoizedState,s.state=f,jo(t,n,s,i);var p=t.memoizedState;a!==d||f!==p||Pi.current||Uo?("function"===typeof h&&(na(t,r,h,n),p=t.memoizedState),(u=Uo||oa(t,r,u,n,f,p,c)||!1)?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=c,n=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Na(e,t,r,n,o,i)}function Na(e,t,r,n,i,o){ka(e,t);var s=0!==(128&t.flags);if(!n&&!s)return i&&Li(t,r,!1),Ja(e,t,o);n=t.stateNode,va.current=t;var a=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=So(t,e.child,null,o),t.child=So(t,null,a,o)):wa(e,t,a,o),t.memoizedState=n.state,i&&Li(t,r,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Yo(e,t.containerInfo)}function Ia(e,t,r,n,i){return po(),mo(i),t.flags|=256,wa(e,t,r,n),t.child}var Ra,Ca,Oa,Ta,Ba={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,r){var n,i=t.pendingProps,s=es.current,a=!1,c=0!==(128&t.flags);if((n=c)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),xi(es,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Uu(c,i,0,null),e=Bu(e,i,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ua(r),t.memoizedState=Ba,e):Da(t,c));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,i,s,a){if(r)return 256&t.flags?(t.flags&=-257,Ka(e,t,a,n=la(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Uu({mode:"visible",children:n.children},i,0,null),(s=Bu(s,i,a,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&So(t,e.child,null,a),t.child.memoizedState=Ua(a),t.memoizedState=Ba,s);if(0===(1&t.mode))return Ka(e,t,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var c=n.dgst;return n=c,Ka(e,t,a,n=la(s=Error(o(419)),n,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(n=Pc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Bo(e,i),ru(n,e,i,-1))}return mu(),Ka(e,t,a,n=la(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,no=ui(i.nextSibling),ro=t,io=!0,oo=null,null!==e&&(Vi[Wi++]=Yi,Vi[Wi++]=Qi,Vi[Wi++]=Zi,Yi=e.id,Qi=e.overflow,Zi=t),t=Da(t,n.children),t.flags|=4096,t)}(e,t,c,i,n,s,r);if(a){a=i.fallback,c=t.mode,n=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==n?a=Ou(n,a):(a=Bu(a,c,r,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ua(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=Ba,i}return e=(a=e.child).sibling,i=Ou(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Da(e,t){return(t=Uu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ka(e,t,r,n){return null!==n&&mo(n),So(t,e.child,null,r),(e=Da(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Po(e.return,t,r)}function qa(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function za(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(wa(e,t,n.children,r),0!==(2&(n=es.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,r,t);else if(19===e.tag)Fa(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xi(es,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===ts(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),qa(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}qa(t,!0,r,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ja(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Uc|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Ou(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ou(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ga(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Va(e,t,r){var n=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ci(t.type)&&Oi(),Ha(t),null;case 3:return n=t.stateNode,Qo(),ki(Pi),ki(Ni),ns(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),Ca(e,t),Ha(t),null;case 5:$o(t);var i=Zo(Wo.current);if(r=t.type,null!==e&&null!=t.stateNode)Oa(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(o(166));return Ha(t),null}if(e=Zo(Ho.current),fo(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[fi]=t,n[hi]=s,e=0!==(1&t.mode),r){case"dialog":Kn("cancel",n),Kn("close",n);break;case"iframe":case"object":case"embed":Kn("load",n);break;case"video":case"audio":for(i=0;i<Bn.length;i++)Kn(Bn[i],n);break;case"source":Kn("error",n);break;case"img":case"image":case"link":Kn("error",n),Kn("load",n);break;case"details":Kn("toggle",n);break;case"input":Y(n,s),Kn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Kn("invalid",n);break;case"textarea":ie(n,s),Kn("invalid",n)}for(var c in ve(r,s),i=null,s)if(s.hasOwnProperty(c)){var u=s[c];"children"===c?"string"===typeof u?n.textContent!==u&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,u,e),i=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Kn("scroll",n)}switch(r){case"input":H(n),$(n,s,!0);break;case"textarea":H(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=$n)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),"select"===r&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[fi]=t,e[hi]=n,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(c=be(r,n),r){case"dialog":Kn("cancel",e),Kn("close",e),i=n;break;case"iframe":case"object":case"embed":Kn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Bn.length;i++)Kn(Bn[i],e);i=n;break;case"source":Kn("error",e),i=n;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),i=n;break;case"details":Kn("toggle",e),i=n;break;case"input":Y(e,n),i=Z(e,n),Kn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=L({},n,{value:void 0}),Kn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Kn("invalid",e)}for(s in ve(r,i),u=i)if(u.hasOwnProperty(s)){var l=u[s];"style"===s?ye(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===s?"string"===typeof l?("textarea"!==r||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Kn("scroll",e):null!=l&&b(e,s,l,c))}switch(r){case"input":H(e),$(e,n,!1);break;case"textarea":H(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+J(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$n)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Ta(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(r=Zo(Wo.current),Zo(Ho.current),fo(t)){if(n=t.stateNode,r=t.memoizedProps,n[fi]=t,(s=n.nodeValue!==r)&&null!==(e=ro))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fi]=t,t.stateNode=n}return Ha(t),null;case 13:if(ki(es),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==no&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,s=!1;else if(s=fo(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),s=!1}else null!==oo&&(su(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Tc&&(Tc=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Qo(),Ca(e,t),null===e&&zn(t.stateNode.containerInfo),Ha(t),null;case 10:return No(t.type._context),Ha(t),null;case 19:if(ki(es),null===(s=t.memoizedState))return Ha(t),null;if(n=0!==(128&t.flags),null===(c=s.rendering))if(n)Ga(s,!1);else{if(0!==Tc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Ga(s,!1),null!==(n=c.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xi(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>zc&&(t.flags|=128,n=!0,Ga(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ts(c))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ga(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!io)return Ha(t),null}else 2*Qe()-s.renderingStartTime>zc&&1073741824!==r&&(t.flags|=128,n=!0,Ga(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=s.last)?r.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,r=es.current,xi(es,n?1&r|2:1&r),t):(Ha(t),null);case 22:case 23:return du(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Cc)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Wa(e,t){switch(to(t),t.tag){case 1:return Ci(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),ki(Pi),ki(Ni),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $o(t),null;case 13:if(ki(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(es),null;case 4:return Qo(),null;case 10:return No(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ra=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ca=function(){},Oa=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Zo(Ho.current);var o,s=null;switch(r){case"input":i=Z(e,i),n=Z(e,n),s=[];break;case"select":i=L({},i,{value:void 0}),n=L({},n,{value:void 0}),s=[];break;case"textarea":i=ne(e,i),n=ne(e,n),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=$n)}for(l in ve(r,n),r=null,i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(c=null!=i?i[l]:void 0,n.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(l,r)),r=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Kn("scroll",e),s||c===u||(s=[])):(s=s||[]).push(l,u))}r&&(s=s||[]).push("style",r);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Ta=function(e,t,r,n){r!==n&&(t.flags|=4)};var Za=!1,Ya=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Xa=null;function $a(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){_u(e,t,n)}else r.current=null}function ec(e,t,r){try{r()}catch(n){_u(e,t,n)}}var tc=!1;function rc(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,r,o)}i=i.next}while(i!==n)}}function nc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ic(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[mi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=$n));else if(4!==n&&null!==(e=e.child))for(cc(e,t,r),e=e.sibling;null!==e;)cc(e,t,r),e=e.sibling}function uc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(uc(e,t,r),e=e.sibling;null!==e;)uc(e,t,r),e=e.sibling}var lc=null,dc=!1;function fc(e,t,r){for(r=r.child;null!==r;)hc(e,t,r),r=r.sibling}function hc(e,t,r){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,r)}catch(a){}switch(r.tag){case 5:Ya||$a(r,t);case 6:var n=lc,i=dc;lc=null,fc(e,t,r),dc=i,null!==(lc=n)&&(dc?(e=lc,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):lc.removeChild(r.stateNode));break;case 18:null!==lc&&(dc?(e=lc,r=r.stateNode,8===e.nodeType?ci(e.parentNode,r):1===e.nodeType&&ci(e,r),zt(e)):ci(lc,r.stateNode));break;case 4:n=lc,i=dc,lc=r.stateNode.containerInfo,dc=!0,fc(e,t,r),lc=n,dc=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ec(r,t,s),i=i.next}while(i!==n)}fc(e,t,r);break;case 1:if(!Ya&&($a(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){_u(r,t,a)}fc(e,t,r);break;case 21:fc(e,t,r);break;case 22:1&r.mode?(Ya=(n=Ya)||null!==r.memoizedState,fc(e,t,r),Ya=n):fc(e,t,r);break;default:fc(e,t,r)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qa),t.forEach((function(t){var n=Nu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function mc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:lc=c.stateNode,dc=!1;break e;case 3:case 4:lc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===lc)throw Error(o(160));hc(s,a,i),lc=null,dc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){_u(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yc(t,e),t=t.sibling}function yc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),gc(e),4&n){try{rc(3,e,e.return),nc(3,e)}catch(y){_u(e,e.return,y)}try{rc(5,e,e.return)}catch(y){_u(e,e.return,y)}}break;case 1:mc(t,e),gc(e),512&n&&null!==r&&$a(r,r.return);break;case 5:if(mc(t,e),gc(e),512&n&&null!==r&&$a(r,r.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(y){_u(e,e.return,y)}}if(4&n&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==r?r.memoizedProps:s,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===s.type&&null!=s.name&&Q(i,s),be(c,a);var l=be(c,s);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];"style"===d?ye(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,l)}switch(c){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?re(i,!!s.multiple,p,!1):h!==!!s.multiple&&(null!=s.defaultValue?re(i,!!s.multiple,s.defaultValue,!0):re(i,!!s.multiple,s.multiple?[]:"",!1))}i[hi]=s}catch(y){_u(e,e.return,y)}}break;case 6:if(mc(t,e),gc(e),4&n){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){_u(e,e.return,y)}}break;case 3:if(mc(t,e),gc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){_u(e,e.return,y)}break;case 4:default:mc(t,e),gc(e);break;case 13:mc(t,e),gc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(qc=Qe())),4&n&&pc(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Ya=(l=Ya)||d,mc(t,e),Ya=l):mc(t,e),gc(e),8192&n){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(f=Xa=d;null!==Xa;){switch(p=(h=Xa).child,h.tag){case 0:case 11:case 14:case 15:rc(4,h,h.return);break;case 1:$a(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){_u(n,r,y)}}break;case 5:$a(h,h.return);break;case 22:if(null!==h.memoizedState){Sc(f);continue}}null!==p?(p.return=h,Xa=p):Sc(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=f.stateNode,a=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=me("display",a))}catch(y){_u(e,e.return,y)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(y){_u(e,e.return,y)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mc(t,e),gc(e),4&n&&pc(e);case 21:}}function gc(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sc(r)){var n=r;break e}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(fe(i,""),n.flags&=-33),uc(e,ac(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(o(161))}}catch(a){_u(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,r){Xa=e,bc(e,t,r)}function bc(e,t,r){for(var n=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||Za;if(!s){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Ya;a=Za;var u=Ya;if(Za=s,(Ya=c)&&!u)for(Xa=i;null!==Xa;)c=(s=Xa).child,22===s.tag&&null!==s.memoizedState?Ec(i):null!==c?(c.return=s,Xa=c):Ec(i);for(;null!==o;)Xa=o,bc(o,t,r),o=o.sibling;Xa=i,Za=a,Ya=u}wc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):wc(e)}}function wc(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||nc(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ya)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Jo(t,s,n);break;case 3:var a=t.updateQueue;if(null!==a){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Jo(t,a,r)}break;case 5:var c=t.stateNode;if(null===r&&4&t.flags){r=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(o(163))}Ya||512&t.flags&&ic(t)}catch(h){_u(t,t.return,h)}}if(t===e){Xa=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xa=r;break}Xa=t.return}}function Sc(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xa=r;break}Xa=t.return}}function Ec(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nc(4,t)}catch(c){_u(t,r,c)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(c){_u(t,i,c)}}var o=t.return;try{ic(t)}catch(c){_u(t,o,c)}break;case 5:var s=t.return;try{ic(t)}catch(c){_u(t,s,c)}}}catch(c){_u(t,t.return,c)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Ac,_c=Math.ceil,kc=w.ReactCurrentDispatcher,xc=w.ReactCurrentOwner,Mc=w.ReactCurrentBatchConfig,Nc=0,Pc=null,Ic=null,Rc=0,Cc=0,Oc=_i(0),Tc=0,Bc=null,Uc=0,Lc=0,Dc=0,Kc=null,Fc=null,qc=0,zc=1/0,jc=null,Jc=!1,Gc=null,Hc=null,Vc=!1,Wc=null,Zc=0,Yc=0,Qc=null,Xc=-1,$c=0;function eu(){return 0!==(6&Nc)?Qe():-1!==Xc?Xc:Xc=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Nc)&&0!==Rc?Rc&-Rc:null!==yo.transition?(0===$c&&($c=mt()),$c):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ru(e,t,r,n){if(50<Yc)throw Yc=0,Qc=null,Error(o(185));gt(e,r,n),0!==(2&Nc)&&e===Pc||(e===Pc&&(0===(2&Nc)&&(Lc|=r),4===Tc&&au(e,Rc)),nu(e,n),1===r&&0===Nc&&0===(1&t.mode)&&(zc=Qe()+500,Ki&&zi()))}function nu(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=i[s];-1===c?0!==(a&r)&&0===(a&n)||(i[s]=ht(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var n=ft(e,e===Pc?Rc:0);if(0===n)null!==r&&We(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&We(r),1===t)0===e.tag?function(e){Ki=!0,qi(e)}(cu.bind(null,e)):qi(cu.bind(null,e)),si((function(){0===(6&Nc)&&zi()})),r=null;else{switch(wt(n)){case 1:r=$e;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pu(r,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iu(e,t){if(Xc=-1,$c=0,0!==(6&Nc))throw Error(o(327));var r=e.callbackNode;if(Eu()&&e.callbackNode!==r)return null;var n=ft(e,e===Pc?Rc:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=yu(e,n);else{t=n;var i=Nc;Nc|=2;var s=pu();for(Pc===e&&Rc===t||(jc=null,zc=Qe()+500,fu(e,t));;)try{vu();break}catch(c){hu(e,c)}Mo(),kc.current=s,Nc=i,null!==Ic?t=0:(Pc=null,Rc=0,t=Tc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(n=i,t=ou(e,i))),1===t)throw r=Bc,fu(e,0),au(e,n),nu(e,Qe()),r;if(6===t)au(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!an(o(),i))return!1}catch(a){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,n))&&(0!==(s=pt(e))&&(n=s,t=ou(e,s))),1===t))throw r=Bc,fu(e,0),au(e,n),nu(e,Qe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,Fc,jc);break;case 3:if(au(e,n),(130023424&n)===n&&10<(t=qc+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(Su.bind(null,e,Fc,jc),t);break}Su(e,Fc,jc);break;case 4:if(au(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-st(n);s=1<<a,(a=t[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_c(n/1960))-n)){e.timeoutHandle=ni(Su.bind(null,e,Fc,jc),n);break}Su(e,Fc,jc);break;default:throw Error(o(329))}}}return nu(e,Qe()),e.callbackNode===r?iu.bind(null,e):null}function ou(e,t){var r=Kc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Fc,Fc=r,null!==t&&su(t)),e}function su(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function au(e,t){for(t&=~Dc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function cu(e){if(0!==(6&Nc))throw Error(o(327));Eu();var t=ft(e,0);if(0===(1&t))return nu(e,Qe()),null;var r=yu(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=ou(e,n))}if(1===r)throw r=Bc,fu(e,0),au(e,t),nu(e,Qe()),r;if(6===r)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Fc,jc),nu(e,Qe()),null}function uu(e,t){var r=Nc;Nc|=1;try{return e(t)}finally{0===(Nc=r)&&(zc=Qe()+500,Ki&&zi())}}function lu(e){null!==Wc&&0===Wc.tag&&0===(6&Nc)&&Eu();var t=Nc;Nc|=1;var r=Mc.transition,n=bt;try{if(Mc.transition=null,bt=1,e)return e()}finally{bt=n,Mc.transition=r,0===(6&(Nc=t))&&zi()}}function du(){Cc=Oc.current,ki(Oc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Ic)for(r=Ic.return;null!==r;){var n=r;switch(to(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Oi();break;case 3:Qo(),ki(Pi),ki(Ni),ns();break;case 5:$o(n);break;case 4:Qo();break;case 13:case 19:ki(es);break;case 10:No(n.type._context);break;case 22:case 23:du()}r=r.return}if(Pc=e,Ic=e=Ou(e.current,null),Rc=Cc=t,Tc=0,Bc=null,Dc=Lc=Uc=0,Fc=Kc=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(n=(r=Co[t]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var s=o.next;o.next=i,n.next=s}r.pending=n}Co=null}return e}function hu(e,t){for(;;){var r=Ic;try{if(Mo(),is.current=Xs,ls){for(var n=as.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}ls=!1}if(ss=0,us=cs=as=null,ds=!1,fs=0,xc.current=null,null===r||null===r.return){Tc=1,Bc=t,Ic=null;break}e:{var s=e,a=r.return,c=r,u=t;if(t=Rc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,ga(p,a,c,0,t),1&p.mode&&ma(s,l,t),u=l;var m=(t=p).updateQueue;if(null===m){var y=new Set;y.add(u),t.updateQueue=y}else m.add(u);break e}if(0===(1&t)){ma(s,l,t),mu();break e}u=Error(o(426))}else if(io&&1&c.mode){var g=ya(a);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ga(g,a,c,0,t),mo(ua(u,c));break e}}s=u=ua(u,c),4!==Tc&&(Tc=2),null===Kc?Kc=[s]:Kc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zo(s,ha(0,u,t));break e;case 1:c=u;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hc||!Hc.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zo(s,pa(s,c,t));break e}}s=s.return}while(null!==s)}wu(r)}catch(w){t=w,Ic===r&&null!==r&&(Ic=r=r.return);continue}break}}function pu(){var e=kc.current;return kc.current=Xs,null===e?Xs:e}function mu(){0!==Tc&&3!==Tc&&2!==Tc||(Tc=4),null===Pc||0===(268435455&Uc)&&0===(268435455&Lc)||au(Pc,Rc)}function yu(e,t){var r=Nc;Nc|=2;var n=pu();for(Pc===e&&Rc===t||(jc=null,fu(e,t));;)try{gu();break}catch(i){hu(e,i)}if(Mo(),Nc=r,kc.current=n,null!==Ic)throw Error(o(261));return Pc=null,Rc=0,Tc}function gu(){for(;null!==Ic;)bu(Ic)}function vu(){for(;null!==Ic&&!Ze();)bu(Ic)}function bu(e){var t=Ac(e.alternate,e,Cc);e.memoizedProps=e.pendingProps,null===t?wu(e):Ic=t,xc.current=null}function wu(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Va(r,t,Cc)))return void(Ic=r)}else{if(null!==(r=Wa(r,t)))return r.flags&=32767,void(Ic=r);if(null===e)return Tc=6,void(Ic=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ic=t);Ic=t=e}while(null!==t);0===Tc&&(Tc=5)}function Su(e,t,r){var n=bt,i=Mc.transition;try{Mc.transition=null,bt=1,function(e,t,r,n){do{Eu()}while(null!==Wc);if(0!==(6&Nc))throw Error(o(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-st(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}(e,s),e===Pc&&(Ic=Pc=null,Rc=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Vc||(Vc=!0,Pu(tt,(function(){return Eu(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Mc.transition,Mc.transition=null;var a=bt;bt=1;var c=Nc;Nc|=4,xc.current=null,function(e,t){if(ei=Jt,hn(e=fn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(S){r=null;break e}var a=0,c=-1,u=-1,l=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(c=a+i),f!==s||0!==n&&3!==f.nodeType||(u=a+n),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++l===i&&(c=a),h===s&&++d===n&&(u=a),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}r=-1===c||-1===u?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Jt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:ra(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(S){_u(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tc,tc=!1}(e,r),yc(r,e),pn(ti),Jt=!!ei,ti=ei=null,e.current=r,vc(r,e,i),Ye(),Nc=c,bt=a,Mc.transition=s}else e.current=r;if(Vc&&(Vc=!1,Wc=e,Zc=i),s=e.pendingLanes,0===s&&(Hc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nu(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Jc)throw Jc=!1,e=Gc,Gc=null,e;0!==(1&Zc)&&0!==e.tag&&Eu(),s=e.pendingLanes,0!==(1&s)?e===Qc?Yc++:(Yc=0,Qc=e):Yc=0,zi()}(e,t,r,n)}finally{Mc.transition=i,bt=n}return null}function Eu(){if(null!==Wc){var e=wt(Zc),t=Mc.transition,r=bt;try{if(Mc.transition=null,bt=16>e?16:e,null===Wc)var n=!1;else{if(e=Wc,Wc=null,Zc=0,0!==(6&Nc))throw Error(o(331));var i=Nc;for(Nc|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var c=s.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Xa=l;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:rc(8,d,s)}var f=d.child;if(null!==f)f.return=d,Xa=f;else for(;null!==Xa;){var h=(d=Xa).sibling,p=d.return;if(oc(d),d===l){Xa=null;break}if(null!==h){h.return=p,Xa=h;break}Xa=p}}}var m=s.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:rc(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xa=v;break e}Xa=s.return}}var b=e.current;for(Xa=b;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=b;null!==Xa;){if(0!==(2048&(c=Xa).flags))try{switch(c.tag){case 0:case 11:case 15:nc(9,c)}}catch(E){_u(c,c.return,E)}if(c===a){Xa=null;break e}var S=c.sibling;if(null!==S){S.return=c.return,Xa=S;break e}Xa=c.return}}if(Nc=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}n=!0}return n}finally{bt=r,Mc.transition=t}}return!1}function Au(e,t,r){e=Fo(e,t=ha(0,t=ua(r,t),1),1),t=eu(),null!==e&&(gt(e,1,t),nu(e,t))}function _u(e,t,r){if(3===e.tag)Au(e,e,r);else for(;null!==t;){if(3===t.tag){Au(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Hc||!Hc.has(n))){t=Fo(t,e=pa(t,e=ua(r,e),1),1),e=eu(),null!==t&&(gt(t,1,e),nu(t,e));break}}t=t.return}}function ku(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&r,Pc===e&&(Rc&r)===r&&(4===Tc||3===Tc&&(130023424&Rc)===Rc&&500>Qe()-qc?fu(e,0):Dc|=r),nu(e,t)}function xu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var r=eu();null!==(e=Bo(e,t))&&(gt(e,t,r),nu(e,r))}function Mu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),xu(e,r)}function Nu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(t),xu(e,r)}function Pu(e,t){return Ve(e,t)}function Iu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,r,n){return new Iu(e,t,r,n)}function Cu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var r=e.alternate;return null===r?((r=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tu(e,t,r,n,i,s){var a=2;if(n=e,"function"===typeof e)Cu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case A:return Bu(r.children,i,s,t);case _:a=8,i|=8;break;case k:return(e=Ru(12,r,t,2|i)).elementType=k,e.lanes=s,e;case P:return(e=Ru(13,r,t,i)).elementType=P,e.lanes=s,e;case I:return(e=Ru(19,r,t,i)).elementType=I,e.lanes=s,e;case O:return Uu(r,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case M:a=9;break e;case N:a=11;break e;case R:a=14;break e;case C:a=16,n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ru(a,r,t,i)).elementType=e,t.type=n,t.lanes=s,t}function Bu(e,t,r,n){return(e=Ru(7,e,n,t)).lanes=r,e}function Uu(e,t,r,n){return(e=Ru(22,e,n,t)).elementType=O,e.lanes=r,e.stateNode={isHidden:!1},e}function Lu(e,t,r){return(e=Ru(6,e,null,t)).lanes=r,e}function Du(e,t,r){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ku(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fu(e,t,r,n,i,o,s,a,c){return e=new Ku(e,t,r,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ru(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function qu(e){if(!e)return Mi;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var r=e.type;if(Ci(r))return Bi(e,r,t)}return t}function zu(e,t,r,n,i,o,s,a,c){return(e=Fu(r,n,!0,e,0,o,0,a,c)).context=qu(null),r=e.current,(o=Ko(n=eu(),i=tu(r))).callback=void 0!==t&&null!==t?t:null,Fo(r,o,i),e.current.lanes=i,gt(e,i,n),nu(e,n),e}function ju(e,t,r,n){var i=t.current,o=eu(),s=tu(i);return r=qu(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ko(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fo(i,t,s))&&(ru(e,i,s,o),qo(e,i,s)),s}function Ju(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Hu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Ac=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ba=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return ba=!1,function(e,t,r){switch(t.tag){case 3:Pa(t),po();break;case 5:Xo(t);break;case 1:Ci(t.type)&&Ui(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;xi(Ao,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(xi(es,1&es.current),t.flags|=128,null):0!==(r&t.child.childLanes)?La(e,t,r):(xi(es,1&es.current),null!==(e=Ja(e,t,r))?e.sibling:null);xi(es,1&es.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return za(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(es,es.current),n)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,r)}return Ja(e,t,r)}(e,t,r);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&$i(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ja(e,t),e=t.pendingProps;var i=Ri(t,Ni.current);Io(t,r),i=ys(null,t,n,e,i,r);var s=gs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(n)?(s=!0,Ui(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,n,e,r),t=Na(null,t,n,!0,s,r)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Cu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(n),e=ra(n,e),i){case 0:t=xa(null,t,n,e,r);break e;case 1:t=Ma(null,t,n,e,r);break e;case 11:t=Sa(null,t,n,e,r);break e;case 14:t=Ea(null,t,n,ra(n.type,e),r);break e}throw Error(o(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,xa(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ma(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 3:e:{if(Pa(t),null===e)throw Error(o(387));n=t.pendingProps,i=(s=t.memoizedState).element,Do(e,t),jo(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ia(e,t,n,r,i=ua(Error(o(423)),t));break e}if(n!==i){t=Ia(e,t,n,r,i=ua(Error(o(424)),t));break e}for(no=ui(t.stateNode.containerInfo.firstChild),ro=t,io=!0,oo=null,r=Eo(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(po(),n===i){t=Ja(e,t,r);break e}wa(e,t,n,r)}t=t.child}return t;case 5:return Xo(t),null===e&&uo(t),n=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ri(n,i)?a=null:null!==s&&ri(n,s)&&(t.flags|=32),ka(e,t),wa(e,t,a,r),t.child;case 6:return null===e&&uo(t),null;case 13:return La(e,t,r);case 4:return Yo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=So(t,null,n,r):wa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Sa(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 7:return wa(e,t,t.pendingProps,r),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,xi(Ao,n._currentValue),n._currentValue=a,null!==s)if(an(s.value,a)){if(s.children===i.children&&!Pi.current){t=Ja(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var u=c.firstContext;null!==u;){if(u.context===n){if(1===s.tag){(u=Ko(-1,r&-r)).tag=2;var l=s.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}s.lanes|=r,null!==(u=s.alternate)&&(u.lanes|=r),Po(s.return,r,t),c.lanes|=r;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=r,null!==(c=a.alternate)&&(c.lanes|=r),Po(a,r,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Io(t,r),n=n(i=Ro(i)),t.flags|=1,wa(e,t,n,r),t.child;case 14:return i=ra(n=t.type,t.pendingProps),Ea(e,t,n,i=ra(n.type,i),r);case 15:return Aa(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ra(n,i),ja(e,t),t.tag=1,Ci(n)?(e=!0,Ui(t)):e=!1,Io(t,r),sa(t,n,i),ca(t,n,i,r),Na(null,t,n,!0,e,r);case 19:return za(e,t,r);case 22:return _a(e,t,r)}throw Error(o(156,t.tag))};var Vu="function"===typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function $u(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Ju(s);a.call(e)}}ju(t,s,e,i)}else s=function(e,t,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var e=Ju(s);o.call(e)}}var s=zu(t,n,e,0,null,!1,0,"",Xu);return e._reactRootContainer=s,e[pi]=s.current,zn(8===e.nodeType?e.parentNode:e),lu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var a=n;n=function(){var e=Ju(c);a.call(e)}}var c=Fu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=c,e[pi]=c.current,zn(8===e.nodeType?e.parentNode:e),lu((function(){ju(t,c,r,n)})),c}(r,t,e,i,n);return Ju(s)}Zu.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));ju(e,t,null,null)},Zu.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lu((function(){ju(null,e,null,null)})),t[pi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&0!==t&&t<Ot[r].priority;r++);Ot.splice(r,0,e),0===r&&Lt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(vt(t,1|r),nu(t,Qe()),0===(6&Nc)&&(zc=Qe()+500,zi()))}break;case 13:lu((function(){var t=Bo(e,1);if(null!==t){var r=eu();ru(t,e,1,r)}})),Hu(e,1)}},Et=function(e){if(13===e.tag){var t=Bo(e,134217728);if(null!==t)ru(t,e,134217728,eu());Hu(e,134217728)}},At=function(e){if(13===e.tag){var t=tu(e),r=Bo(e,t);if(null!==r)ru(r,e,t,eu());Hu(e,t)}},_t=function(){return bt},kt=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},Ee=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Si(n);if(!i)throw Error(o(90));V(n),X(n,i)}}}break;case"textarea":oe(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ne=uu,Pe=lu;var el={usingClientEntryPoint:!1,Events:[bi,wi,Si,xe,Me,uu]},tl={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{it=nl.inject(rl),ot=nl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(o(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Yu(e))throw Error(o(299));var r=!1,n="",i=Vu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fu(e,1,!1,null,0,r,0,n,i),e[pi]=t.current,zn(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lu(e)},t.hydrate=function(e,t,r){if(!Qu(t))throw Error(o(200));return $u(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Yu(e))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,i=!1,s="",a=Vu;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),t=zu(t,null,e,1,null!=r?r:null,i,0,s,a),e[pi]=t.current,zn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Zu(t)},t.render=function(e,t,r){if(!Qu(t))throw Error(o(200));return $u(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(o(40));return!!e._reactRootContainer&&(lu((function(){$u(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qu(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $u(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},1153:(e,t,r)=>{"use strict";var n=r(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var w=b.prototype=new v;w.constructor=b,m(w,g.prototype),w.isPureReactComponent=!0;var S=Array.isArray,E=Object.prototype.hasOwnProperty,A={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:r,type:e,key:s,ref:a,props:o,_owner:A.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var M=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0}}if(c)return s=s(c=e),e=""===o?"."+N(c,0):o,S(s)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),P(s,t,i,"",(function(e){return e}))):null!=s&&(x(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(M,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",S(e))for(var u=0;u<e.length;u++){var l=o+N(a=e[u],u);c+=P(a,t,i,l,s)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(a=e.next()).done;)c+=P(a=a.value,t,i,l=o+N(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function I(e,t,r){if(null==e)return e;var n=[],i=0;return P(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},O={transition:null},T={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:O,ReactCurrentOwner:A};function B(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,r){I(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=A.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!_.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:r,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=B,t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,r){return C.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,r){return C.current.useReducer(e,t,r)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return C.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return C.current.useTransition()},t.version="18.3.1"},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},579:(e,t,r)=>{"use strict";e.exports=r(1153)},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<o(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,s=i>>>1;n<s;){var a=2*(n+1)-1,c=e[a],u=a+1,l=e[u];if(0>o(c,r))u<i&&0>o(l,c)?(e[n]=l,e[u]=r,n=u):(e[n]=c,e[a]=r,n=a);else{if(!(u<i&&0>o(l,r)))break e;e[n]=l,e[u]=r,n=u}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],l=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,r(u,t)}t=n(l)}}function S(e){if(y=!1,w(e),!m)if(null!==n(u))m=!0,O(E);else{var t=n(l);null!==t&&T(S,t.startTime-e)}}function E(e,r){m=!1,y&&(y=!1,v(x),x=-1),p=!0;var o=h;try{for(w(r),f=n(u);null!==f&&(!(f.expirationTime>r)||e&&!P());){var s=f.callback;if("function"===typeof s){f.callback=null,h=f.priorityLevel;var a=s(f.expirationTime<=r);r=t.unstable_now(),"function"===typeof a?f.callback=a:f===n(u)&&i(u),w(r)}else i(u);f=n(u)}if(null!==f)var c=!0;else{var d=n(l);null!==d&&T(S,d.startTime-r),c=!1}return c}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,_=!1,k=null,x=-1,M=5,N=-1;function P(){return!(t.unstable_now()-N<M)}function I(){if(null!==k){var e=t.unstable_now();N=e;var r=!0;try{r=k(!0,e)}finally{r?A():(_=!1,k=null)}}else _=!1}if("function"===typeof b)A=function(){b(I)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,C=R.port2;R.port1.onmessage=I,A=function(){C.postMessage(null)}}else A=function(){g(I,0)};function O(e){k=e,_||(_=!0,A())}function T(e,r){x=g((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,r(l,e),null===n(u)&&e===n(l)&&(y?(v(x),x=-1):y=!0,T(S,o-s))):(e.sortIndex=a,r(u,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},4874:function(e){"use strict";!function(t){const r=2147483647;function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,c=528734635,u=1541459225;const l=new Uint32Array(64);function d(e){let d=0,f=e.length;for(;f>=64;){let h,p,m,y,g,v=r,b=n,w=i,S=o,E=s,A=a,_=c,k=u;for(p=0;p<16;p++)m=d+4*p,l[p]=(255&e[m])<<24|(255&e[m+1])<<16|(255&e[m+2])<<8|255&e[m+3];for(p=16;p<64;p++)h=l[p-2],y=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,h=l[p-15],g=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,l[p]=(y+l[p-7]|0)+(g+l[p-16]|0)|0;for(p=0;p<64;p++)y=(((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&A^~E&_)|0)+(k+(t[p]+l[p]|0)|0)|0,g=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&b^v&w^b&w)|0,k=_,_=A,A=E,E=S+y|0,S=w,w=b,b=v,v=y+g|0;r=r+v|0,n=n+b|0,i=i+w|0,o=o+S|0,s=s+E|0,a=a+A|0,c=c+_|0,u=u+k|0,d+=64,f-=64}}d(e);let f,h=e.length%64,p=e.length/536870912|0,m=e.length<<3,y=h<56?56:120,g=e.slice(e.length-h,e.length);for(g.push(128),f=h+1;f<y;f++)g.push(0);return g.push(p>>>24&255),g.push(p>>>16&255),g.push(p>>>8&255),g.push(p>>>0&255),g.push(m>>>24&255),g.push(m>>>16&255),g.push(m>>>8&255),g.push(m>>>0&255),d(g),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);const i=64+t.length+4,o=new Array(i),s=new Array(64);let a,c=[];for(a=0;a<64;a++)o[a]=54;for(a=0;a<e.length;a++)o[a]^=e[a];for(a=0;a<t.length;a++)o[64+a]=t[a];for(a=i-4;a<i;a++)o[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<e.length;a++)s[a]^=e[a];function u(){for(let e=i-1;e>=i-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;r>=32;)u(),c=c.concat(n(s.concat(n(o)))),r-=32;return r>0&&(u(),c=c.concat(n(s.concat(n(o))).slice(0,r))),c}function o(e,t,r,n,i){let o;for(u(e,16*(2*r-1),i,0,16),o=0;o<2*r;o++)c(e,16*o,i,16),a(i,n),u(i,0,e,t+16*o,16);for(o=0;o<r;o++)u(e,t+2*o*16,e,16*o,16);for(o=0;o<r;o++)u(e,t+16*(2*o+1),e,16*(o+r),16)}function s(e,t){return e<<t|e>>>32-t}function a(e,t){u(e,0,t,0,16);for(let r=8;r>0;r-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function c(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function u(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function l(e){if(!e||"number"!==typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!==typeof r||r%1||r<0||r>=256)return!1}return!0}function d(e,t){if("number"!==typeof e||e%1)throw new Error("invalid "+t);return e}function f(e,t,n,s,a,f,h){if(n=d(n,"N"),s=d(s,"r"),a=d(a,"p"),f=d(f,"dkLen"),0===n||0!==(n&n-1))throw new Error("N must be power of 2");if(n>r/128/s)throw new Error("N too large");if(s>r/128/a)throw new Error("r too large");if(!l(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!l(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let p=i(e,t,128*a*s);const m=new Uint32Array(32*a*s);for(let r=0;r<m.length;r++){const e=4*r;m[r]=(255&p[e+3])<<24|(255&p[e+2])<<16|(255&p[e+1])<<8|255&p[e+0]}const y=new Uint32Array(64*s),g=new Uint32Array(32*s*n),v=32*s,b=new Uint32Array(16),w=new Uint32Array(16),S=a*n*2;let E,A,_=0,k=null,x=!1,M=0,N=0;const P=h?parseInt(1e3/s):4294967295,I="undefined"!==typeof setImmediate?setImmediate:setTimeout,R=function(){if(x)return h(new Error("cancelled"),_/S);let t;switch(M){case 0:A=32*N*s,u(m,A,y,0,v),M=1,E=0;case 1:t=n-E,t>P&&(t=P);for(let e=0;e<t;e++)u(y,0,g,(E+e)*v,v),o(y,v,s,b,w);if(E+=t,_+=t,h){const e=parseInt(1e3*_/S);if(e!==k){if(x=h(null,_/S),x)break;k=e}}if(E<n)break;E=0,M=2;case 2:t=n-E,t>P&&(t=P);for(let e=0;e<t;e++){const e=y[16*(2*s-1)]&n-1;c(g,e*v,y,v),o(y,v,s,b,w)}if(E+=t,_+=t,h){const e=parseInt(1e3*_/S);if(e!==k){if(x=h(null,_/S),x)break;k=e}}if(E<n)break;if(u(y,0,m,A,v),N++,N<a){M=0;break}p=[];for(let e=0;e<m.length;e++)p.push(255&m[e]),p.push(m[e]>>8&255),p.push(m[e]>>16&255),p.push(m[e]>>24&255);const r=i(e,p,f);return h&&h(null,1,r),r}h&&I(R)};if(!h)for(;;){const e=R();if(void 0!=e)return e}R()}const h={scrypt:function(e,t,r,n,i,o,s){return new Promise((function(a,c){let u=0;s&&s(0),f(e,t,r,n,i,o,(function(e,t,r){if(e)c(e);else if(r)s&&1!==u&&s(1),a(new Uint8Array(r));else if(s&&t!==u)return u=t,s(t)}))}))},syncScrypt:function(e,t,r,n,i,o){return new Uint8Array(f(e,t,r,n,i,o))}};e.exports=h}()},7035:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/user_preferences_bindings_wasm_bg.5b66183432e2ef252edc.wasm"},1848:()=>{},8954:()=>{},495:()=>{},7790:()=>{},3776:()=>{},3456:(e,t,r)=>{"use strict";r.d(t,{secp256k1:()=>ue});var n={};r.r(n),r.d(n,{OG:()=>v,My:()=>u,bytesToNumberBE:()=>f,lX:()=>h,Id:()=>g,fg:()=>S,qj:()=>y,hexToBytes:()=>d,lq:()=>p,z:()=>m,Q5:()=>A});var i=r(6413);BigInt(0);const o=BigInt(1),s=BigInt(2),a=e=>e instanceof Uint8Array,c=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function u(e){if(!a(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function l(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function d(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const t=2*n,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function f(e){return l(u(e))}function h(e){if(!a(e))throw new Error("Uint8Array expected");return l(u(Uint8Array.from(e).reverse()))}function p(e,t){return d(e.toString(16).padStart(2*t,"0"))}function m(e,t){return p(e,t).reverse()}function y(e,t,r){let n;if("string"===typeof t)try{n=d(t)}catch(o){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(o))}else{if(!a(t))throw new Error("".concat(e," must be hex string or Uint8Array"));n=Uint8Array.from(t)}const i=n.length;if("number"===typeof r&&i!==r)throw new Error("".concat(e," expected ").concat(r," bytes, got ").concat(i));return n}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!a(e))throw new Error("Uint8Array expected");n.set(e,i),i+=e.length})),n}const v=e=>(s<<BigInt(e-1))-o,b=e=>new Uint8Array(e),w=e=>Uint8Array.from(e);function S(e,t,r){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof r)throw new Error("hmacFn must be a function");let n=b(e),i=b(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return r(i,n,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b();i=a(w([0]),e),n=a(),0!==e.length&&(i=a(w([1]),e),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return g(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(u()));)c();return s(),r}}const E={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function A(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(t,r,n)=>{const i=E[r];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(r,'", expected function'));const o=e[t];if((!n||void 0!==o)&&!i(o,e))throw new Error("Invalid param ".concat(String(t),"=").concat(o," (").concat(typeof o,"), expected ").concat(r))};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}const _=BigInt(0),k=BigInt(1),x=BigInt(2),M=BigInt(3),N=BigInt(4),P=BigInt(5),I=BigInt(8);BigInt(9),BigInt(16);function R(e,t){const r=e%t;return r>=_?r:t+r}function C(e,t,r){if(r<=_||t<_)throw new Error("Expected power/modulo > 0");if(r===k)return _;let n=k;for(;t>_;)t&k&&(n=n*e%r),e=e*e%r,t>>=k;return n}function O(e,t,r){let n=e;for(;t-- >_;)n*=n,n%=r;return n}function T(e,t){if(e===_||t<=_)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let r=R(e,t),n=t,i=_,o=k,s=k,a=_;for(;r!==_;){const e=n/r,t=n%r,c=i-s*e,u=o-a*e;n=r,r=t,i=s,o=a,s=c,a=u}if(n!==k)throw new Error("invert: does not exist");return R(i,t)}function B(e){if(e%N===M){const t=(e+k)/N;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%I===P){const t=(e-P)/I;return function(e,r){const n=e.mul(r,x),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,x),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-k)/x;let r,n,i;for(r=e-k,n=0;r%x===_;r/=x,n++);for(i=x;i<e&&C(i,t,e)!==e-k;i++);if(1===n){const t=(e+k)/N;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+k)/x;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,i),r),u=e.pow(s,o),l=e.pow(s,r);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(l);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const r=e.pow(c,k<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),l=e.mul(l,c),a=t}return u}}(e)}const U=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function L(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function D(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function K(e){const t=D(e);return t+Math.ceil(t/2)}var F=r(9845),q=r(1195);class z extends q.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,F.tW)(e);const r=(0,q.ZJ)(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return(0,F.t2)(this),this.iHash.update(e),this}digestInto(e){(0,F.t2)(this),(0,F.ee)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const j=(e,t,r)=>new z(e,t).update(r).digest();j.create=(e,t)=>new z(e,t);const J=BigInt(0),G=BigInt(1);function H(e){return A(e.Fp,U.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),A(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...L(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:V,hexToBytes:W}=n,Z={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Z;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:V(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Z,r="string"===typeof e?W(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Z._parseInt(r.subarray(2)),{d:s,l:a}=Z._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return"30".concat(r(s+o+4),"02").concat(c).concat(i,"02").concat(a).concat(n)}},Y=BigInt(0),Q=BigInt(1),X=(BigInt(2),BigInt(3));BigInt(4);function $(e){const t=function(e){const t=H(e);A(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return g(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"===typeof e&&Y<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=t;if(r&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=u(e)),"string"!==typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let s;try{s="bigint"===typeof e?e:f(y("private key",e,n))}catch(c){throw new Error("private key must be ".concat(n," bytes, hex or bigint, not ").concat(typeof e))}return i&&(s=R(s,o)),a(s),s}const l=new Map;function d(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?h.ZERO:new h(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(y("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=o(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){d(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return c&&u}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,X),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,l=r.ZERO,d=r.mul(o,o),f=r.mul(s,s),p=r.mul(a,a),m=r.mul(o,s);return m=r.add(m,m),l=r.mul(o,a),l=r.add(l,l),c=r.mul(e,l),u=r.mul(i,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(m,c),l=r.mul(i,l),p=r.mul(e,p),m=r.sub(d,p),m=r.mul(e,m),m=r.add(m,l),l=r.add(d,d),d=r.add(l,d),d=r.add(d,p),d=r.mul(d,m),u=r.add(u,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,m),c=r.sub(c,d),l=r.mul(p,f),l=r.add(l,l),l=r.add(l,l),new h(c,u,l)}add(e){d(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let u=r.ZERO,l=r.ZERO,f=r.ZERO;const p=t.a,m=r.mul(t.b,X);let y=r.mul(n,s),g=r.mul(i,a),v=r.mul(o,c),b=r.add(n,i),w=r.add(s,a);b=r.mul(b,w),w=r.add(y,g),b=r.sub(b,w),w=r.add(n,o);let S=r.add(s,c);return w=r.mul(w,S),S=r.add(y,v),w=r.sub(w,S),S=r.add(i,o),u=r.add(a,c),S=r.mul(S,u),u=r.add(g,v),S=r.sub(S,u),f=r.mul(p,w),u=r.mul(m,v),f=r.add(u,f),u=r.sub(g,f),f=r.add(g,f),l=r.mul(u,f),g=r.add(y,y),g=r.add(g,y),v=r.mul(p,v),w=r.mul(m,w),g=r.add(g,v),v=r.sub(y,v),v=r.mul(p,v),w=r.add(w,v),y=r.mul(g,w),l=r.add(l,y),y=r.mul(S,w),u=r.mul(b,u),u=r.sub(u,y),y=r.mul(b,g),f=r.mul(S,f),f=r.add(f,y),new h(u,l,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return m.wNAFCached(this,l,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}))}multiplyUnsafe(e){const n=h.ZERO;if(e===Y)return n;if(a(e),e===Q)return this;const{endo:i}=t;if(!i)return m.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:c,k2:u}=i.splitScalar(e),l=n,d=n,f=this;for(;s>Y||u>Y;)s&Q&&(l=l.add(f)),u&Q&&(d=d.add(f)),f=f.double(),s>>=Q,u>>=Q;return o&&(l=l.negate()),c&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),l.add(d)}multiply(e){a(e);let n,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:l}=this.wNAF(t),{p:d,f:f}=this.wNAF(c);u=m.constTimeNegate(e,u),d=m.constTimeNegate(a,d),d=new h(r.mul(d.px,s.beta),d.py,d.pz),n=u.add(d),i=l.add(f)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=h.BASE,i=(e,t)=>t!==Y&&t!==Q&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const s=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Q)return!0;if(r)return r(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Q?this:r?r(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),n(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return u(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const p=t.nBitLength,m=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>J;)r&G&&(n=n.add(i)),i=i.double(),r>>=G;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let s=e,a=s;for(let n=0;n<r;n++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=n(t);let c=e.ZERO,u=e.BASE;const l=BigInt(2**t-1),d=2**t,f=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let n=Number(o&l);o>>=f,n>a&&(n-=d,o+=G);const s=t,h=t+Math.abs(n)-1,p=e%2!==0,m=n<0;0===n?u=u.add(r(p,i[s])):c=c.add(r(m,i[h]))}return{p:c,f:u}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}(h,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function ee(e){const t=function(e){const t=H(e);return A(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return R(e,n)}function a(e){return T(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:b,isWithinCurveOrder:w}=$({...t,toBytes(e,t,n){const i=t.toAffine(),o=r.toBytes(i.x),s=g;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===o&&4===n){return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}{const e=f(s);if(!(Y<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=b(e);let i=r.sqrt(t);return 1===(1&n)!==((i&Q)===Q)&&(i=r.neg(i)),{x:e,y:i}}var a}}),E=e=>u(p(e,t.nByteLength));function _(e){return e>n>>Q}const x=(e,t,r)=>f(e.slice(t,r));class M{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=y("compactSignature",e,2*r),new M(x(e,0,r),x(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Z.toSig(y("DER",e));return new M(t,r)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new M(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:o}=this,u=C(y("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const l=2===o||3===o?n+t.n:n;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=c.fromHex(d+E(l)),h=a(l),p=s(-u*h),m=s(i*h),g=c.BASE.multiplyAndAddUnsafe(f,p,m);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return d(this.toDERHex())}toDERHex(){return Z.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return d(this.toCompactHex())}toCompactHex(){return E(this.r)+E(this.s)}}const N={isValidPrivateKey(e){try{return l(e),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const e=K(t.n);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.length,i=D(t),o=K(t);if(n<16||n<o||n>1024)throw new Error("expected ".concat(o,"-1024 bytes of input, got ").concat(n));const s=R(r?f(e):h(e),t-k)+k;return r?m(s,i):p(s,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function P(e){const t=e instanceof Uint8Array,r="string"===typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof c}const I=t.bits2int||function(e){const r=f(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},C=t.bits2int_modN||function(e){return s(I(e))},O=v(t.nBitLength);function B(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Y<=e&&e<O))throw new Error("bigint expected < 2^".concat(t.nBitLength));return p(e,t.nByteLength)}function U(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:u}=t;let{lowS:d,prehash:f,extraEntropy:h}=i;null==d&&(d=!0),e=y("msgHash",e),f&&(e=y("prehashed msgHash",o(e)));const p=C(e),m=l(n),v=[B(m),B(p)];if(null!=h){const e=!0===h?u(r.BYTES):h;v.push(y("extraEntropy",e))}const b=g(...v),S=p;return{seed:b,k2sig:function(e){const t=I(e);if(!w(t))return;const r=a(t),n=c.BASE.multiply(t).toAffine(),i=s(n.x);if(i===Y)return;const o=s(r*s(S+i*m));if(o===Y)return;let u=(n.x===i?0:2)|Number(n.y&Q),l=o;return d&&_(o)&&(l=function(e){return _(e)?s(-e):e}(o),u^=1),new M(i,l,u)}}}const L={lowS:t.lowS,prehash:!1},F={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(P(e))throw new Error("first arg must be private key");if(!P(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L;const{seed:i,k2sig:o}=U(e,r,n),s=t;return S(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,r,n){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F;const u=e;if(r=y("msgHash",r),n=y("publicKey",n),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:l,prehash:d}=o;let f,h;try{if("string"===typeof u||u instanceof Uint8Array)try{f=M.fromDER(u)}catch(E){if(!(E instanceof Z.Err))throw E;f=M.fromCompact(u)}else{if("object"!==typeof u||"bigint"!==typeof u.r||"bigint"!==typeof u.s)throw new Error("PARSE");{const{r:e,s:t}=u;f=new M(e,t)}}h=c.fromHex(n)}catch(A){if("PARSE"===A.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&f.hasHighS())return!1;d&&(r=t.hash(r));const{r:p,s:m}=f,g=C(r),v=a(m),b=s(g*v),w=s(p*v),S=null===(i=c.BASE.multiplyAndAddUnsafe(h,b,w))||void 0===i?void 0:i.toAffine();return!!S&&s(S.x)===p},ProjectivePoint:c,Signature:M,utils:N}}function te(e){return{hash:e,hmac:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return j(e,t,(0,q.Id)(...n))},randomBytes:q.po}}const re=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ne=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ie=BigInt(1),oe=BigInt(2),se=(e,t)=>(e+t/oe)/t;function ae(e){const t=re,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=O(l,r,t)*l%t,f=O(d,r,t)*l%t,h=O(f,oe,t)*u%t,p=O(h,i,t)*h%t,m=O(p,o,t)*p%t,y=O(m,a,t)*m%t,g=O(y,c,t)*y%t,v=O(g,a,t)*m%t,b=O(v,r,t)*l%t,w=O(b,s,t)*p%t,S=O(w,n,t)*u%t,E=O(S,oe,t);if(!ce.eql(ce.sqr(E),e))throw new Error("Cannot find square root");return E}const ce=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=_)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:o}=L(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=B(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:v(i),ZERO:_,ONE:k,create:t=>R(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return _<=t&&t<e},is0:e=>e===_,isOdd:e=>(e&k)===k,neg:t=>R(-t,e),eql:(e,t)=>e===t,sqr:t=>R(t*t,e),add:(t,r)=>R(t+r,e),sub:(t,r)=>R(t-r,e),mul:(t,r)=>R(t*r,e),pow:(e,t)=>function(e,t,r){if(r<_)throw new Error("Expected power > 0");if(r===_)return e.ONE;if(r===k)return t;let n=e.ONE,i=t;for(;r>_;)r&k&&(n=e.mul(n,i)),i=e.sqr(i),r>>=k;return n}(a,e,t),div:(t,r)=>R(t*T(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>T(t,e),sqrt:n.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?m(e,o):p(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Fp.fromBytes: expected ".concat(o,", got ").concat(e.length));return r?h(e):f(e)}});return Object.freeze(a)}(re,void 0,void 0,{sqrt:ae}),ue=function(e,t){const r=t=>ee({...e,...te(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:ce,n:ne,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ne,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ie*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=se(o*e,t),c=se(-n*e,t);let u=R(e-a*r-c*i,t),l=R(-a*n-c*o,t);const d=u>s,f=l>s;if(d&&(u=t-u),f&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},i.s);BigInt(0);ue.ProjectivePoint},9845:(e,t,r)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function i(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(r.length>0&&!r.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(r,", not of length=").concat(e.length))}function o(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function s(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least ".concat(r))}r.d(t,{CG:()=>a,ai:()=>n,ee:()=>i,t2:()=>s,tW:()=>o})},6413:(e,t,r)=>{"use strict";r.d(t,{s:()=>d});var n=r(9845),i=r(1195);class o extends i.Vw{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.O8)(this.buffer)}update(e){(0,n.t2)(this);const{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.ZJ)(e)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.O8)(e);for(;o<=s-n;n+=o)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.t2)(this),(0,n.CG)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let n=a;n<o;n++)t[n]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const c=(0,i.O8)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let n=0;n<l;n++)c.setUint32(4*n,d[n],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const s=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),c=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class l extends o{constructor(){super(64,32,8,!1),this.A=0|c[0],this.B=0|c[1],this.C=0|c[2],this.D=0|c[3],this.E=0|c[4],this.F=0|c[5],this.G=0|c[6],this.H=0|c[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let i=0;i<16;i++,t+=4)u[i]=e.getUint32(t,!1);for(let s=16;s<64;s++){const e=u[s-15],t=u[s-2],r=(0,i.Ow)(e,7)^(0,i.Ow)(e,18)^e>>>3,n=(0,i.Ow)(t,17)^(0,i.Ow)(t,19)^t>>>10;u[s]=n+u[s-7]+r+u[s-16]|0}let{A:r,B:n,C:o,D:c,E:l,F:d,G:f,H:h}=this;for(let m=0;m<64;m++){const e=h+((0,i.Ow)(l,6)^(0,i.Ow)(l,11)^(0,i.Ow)(l,25))+((p=l)&d^~p&f)+a[m]+u[m]|0,t=((0,i.Ow)(r,2)^(0,i.Ow)(r,13)^(0,i.Ow)(r,22))+s(r,n,o)|0;h=f,f=d,d=l,l=c+e|0,c=o,o=n,n=r,r=e+t|0}var p;r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,c=c+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(r,n,o,c,l,d,f,h)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const d=(0,i.ld)((()=>new l))},1195:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>l,Id:()=>u,O8:()=>s,po:()=>f,Ow:()=>a,ZJ:()=>c,DH:()=>o,ld:()=>d});const n="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,i=e=>e instanceof Uint8Array,o=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),s=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),a=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function c(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!i(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}function u(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let o=0;return t.forEach((e=>{if(!i(e))throw new Error("Uint8Array expected");n.set(e,o),o+=e.length})),n}class l{clone(){return this._cloneInto()}}function d(e){const t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(n&&"function"===typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},1636:e=>{"use strict";e.exports={rE:"6.5.5"}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;__webpack_require__.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var i=Object.create(null);__webpack_require__.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,__webpack_require__.d(i,o),i}})(),__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.p="/",__webpack_require__.b=document.baseURI||self.location.href;var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{b64Decode:()=>re,b64Encode:()=>ee,zl:()=>ie,a1:()=>oe,$U:()=>ne});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{MessageApi:()=>ae,SortDirection:()=>se});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{Compression:()=>ar,qh:()=>dr,gW:()=>pr});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{v$:()=>Dn,h_:()=>Pn,L:()=>Rn,tU:()=>$r,O0:()=>Yr,N5:()=>nn,RE:()=>ln,uU:()=>an,D0:()=>pn,ErrorCode:()=>zr,yo:()=>ii,au:()=>oi,yj:()=>qn,GetKeystoreStatusRequest:()=>zn,GetKeystoreStatusResponse:()=>jn,GetKeystoreStatusResponse_KeystoreStatus:()=>Jr,H0:()=>Mn,Ct:()=>Wn,WZ:()=>Yn,InitKeystoreRequest:()=>Jn,InitKeystoreResponse:()=>Gn,Yx:()=>jr,lP:()=>Cn,Dv:()=>Bn,iw:()=>Kn,Oi:()=>Fn,X$:()=>_n,rL:()=>gn,x$:()=>wn,ob:()=>Xn,I2:()=>$n,hC:()=>Vn,QM:()=>ei});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{b64Encode:()=>ww});var o,s=__webpack_require__(6382);window.Buffer=null!==(o=window.Buffer)&&void 0!==o?o:s.hp;var a,c=__webpack_require__(5043),u=__webpack_require__.t(c,2),l=__webpack_require__(4391),d=__webpack_require__(7950),f=__webpack_require__.t(d,2);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const p="popstate";function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,r,n){return void 0===r&&(r=null),h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function v(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function b(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function w(e,t,r,n){void 0===n&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,c=a.Pop,u=null,l=d();function d(){return(s.state||{idx:null}).idx}function f(){c=a.Pop;let e=d(),t=null==e?null:e-l;l=e,u&&u({action:c,location:w.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,r="string"===typeof e?e:v(e);return r=r.replace(/ $/,"%20"),m(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==l&&(l=0,s.replaceState(h({},s.state,{idx:l}),""));let w={get action(){return c},get location(){return e(i,s)},listen(e){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(p,f),u=e,()=>{i.removeEventListener(p,f),u=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=a.Push;let n=g(w.location,e,t);r&&r(n,e),l=d()+1;let f=y(n,l),h=w.createHref(n);try{s.pushState(f,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}o&&u&&u({action:c,location:w.location,delta:1})},replace:function(e,t){c=a.Replace;let n=g(w.location,e,t);r&&r(n,e),l=d();let i=y(n,l),f=w.createHref(n);s.replaceState(i,"",f),o&&u&&u({action:c,location:w.location,delta:0})},go:e=>s.go(e)};return w}var S;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(S||(S={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function E(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function A(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function k(e,t){let r=_(e);return t?r.map(((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)):r.map((e=>e.pathnameBase))}function x(e,t,r,n){let i;void 0===n&&(n=!1),"string"===typeof e?i=b(e):(i=h({},e),m(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),m(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),m(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=r;else{let e=t.length-1;if(!n&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:i=""}="string"===typeof e?b(e):e,o=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:o,search:N(n),hash:P(i)}}(i,o),u=a&&"/"!==a&&a.endsWith("/"),l=(s||"."===a)&&r.endsWith("/");return c.pathname.endsWith("/")||!u&&!l||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),N=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",P=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const I=["post","put","patch","delete"],R=(new Set(I),["get",...I]);new Set(R),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}const O=c.createContext(null);const T=c.createContext(null);const B=c.createContext(null);const U=c.createContext({outlet:null,matches:[],isDataRoute:!1});function L(){return null!=c.useContext(B)}function D(){return L()||m(!1),c.useContext(B).location}function K(e){c.useContext(T).static||c.useLayoutEffect(e)}function F(){let{isDataRoute:e}=c.useContext(U);return e?function(){let{router:e}=j(q.UseNavigateStable),t=J(z.UseNavigateStable),r=c.useRef(!1);K((()=>{r.current=!0}));let n=c.useCallback((function(n,i){void 0===i&&(i={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,C({fromRouteId:t},i)))}),[e,t]);return n}():function(){L()||m(!1);let e=c.useContext(O),{basename:t,future:r,navigator:n}=c.useContext(T),{matches:i}=c.useContext(U),{pathname:o}=D(),s=JSON.stringify(k(i,r.v7_relativeSplatPath)),a=c.useRef(!1);return K((()=>{a.current=!0})),c.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof r)return void n.go(r);let c=x(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(c.pathname="/"===c.pathname?t:M([t,c.pathname])),(i.replace?n.replace:n.push)(c,i.state,i)}),[t,n,s,o,e])}()}c.Component;var q=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(q||{}),z=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(z||{});function j(e){let t=c.useContext(O);return t||m(!1),t}function J(e){let t=function(e){let t=c.useContext(U);return t||m(!1),t}(),r=t.matches[t.matches.length-1];return r.route.id||m(!1),r.route.id}u.startTransition;function G(e){let{basename:t="/",children:r=null,location:n,navigationType:i=a.Pop,navigator:o,static:s=!1,future:u}=e;L()&&m(!1);let l=t.replace(/^\/*/,"/"),d=c.useMemo((()=>({basename:l,navigator:o,static:s,future:C({v7_relativeSplatPath:!1},u)})),[l,u,o,s]);"string"===typeof n&&(n=b(n));let{pathname:f="/",search:h="",hash:p="",state:y=null,key:g="default"}=n,v=c.useMemo((()=>{let e=E(f,l);return null==e?null:{location:{pathname:e,search:h,hash:p,state:y,key:g},navigationType:i}}),[l,f,h,p,y,g,i]);return null==v?null:c.createElement(T.Provider,{value:d},c.createElement(B.Provider,{children:r,value:v}))}new Promise((()=>{}));c.Component;new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Qa){}new Map;const H=u.startTransition;f.flushSync,u.useId;function V(e){let{basename:t,children:r,future:n,window:i}=e,o=c.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),w((function(e,t){let{pathname:r,search:n,hash:i}=e.location;return g("",{pathname:r,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:v(t)}),null,s)));let a=o.current,[u,l]=c.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},f=c.useCallback((e=>{d&&H?H((()=>l(e))):l(e)}),[l,d]);return c.useLayoutEffect((()=>a.listen(f)),[a,f]),c.createElement(G,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:a,future:n})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var W,Z;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(W||(W={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Z||(Z={}));var Y=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Q=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const X=new Array(64),$=new Array(123);for(let tE=0;tE<64;)$[X[tE]=tE<26?tE+65:tE<52?tE+71:tE<62?tE-4:tE-59|43]=tE++;function ee(e,t,r){let n=null;const i=[];let o,s=0,a=0;for(;t<r;){const r=e[t++];switch(a){case 0:i[s++]=X[r>>2],o=(3&r)<<4,a=1;break;case 1:i[s++]=X[o|r>>4],o=(15&r)<<2,a=2;break;case 2:i[s++]=X[o|r>>6],i[s++]=X[63&r],a=0}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,i)),s=0)}return a&&(i[s++]=X[o],i[s++]=61,1===a&&(i[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,i.slice(0,s))),n.join("")):String.fromCharCode.apply(String,i.slice(0,s))}const te="invalid encoding";function re(e){const t=[];let r,n=0,i=0;for(let o=0;o<e.length;){let s=e.charCodeAt(o++);if(61===s&&i>1)break;if(void 0===(s=$[s]))throw Error(te);switch(i){case 0:r=s,i=1;break;case 1:t[n++]=r<<2|(48&s)>>4,r=s,i=2;break;case 2:t[n++]=(15&r)<<4|(60&s)>>2,r=s,i=3;break;case 3:t[n++]=(3&r)<<6|s,i=0}}if(1===i)throw Error(te);return new Uint8Array(t)}function ne(e,t){return t&&t.constructor===Uint8Array?ee(t,0,t.length):t}function ie(e,t){const r=t||{},{pathPrefix:n}=r,i=Q(r,["pathPrefix"]),o=n?"".concat(n).concat(e):e;return fetch(o,i).then((e=>e.json().then((t=>{if(!e.ok)throw t;return t}))))}function oe(e,t,r){return Y(this,void 0,void 0,(function*(){const n=r||{},{pathPrefix:i}=n,o=Q(n,["pathPrefix"]),s=i?"".concat(i).concat(e):e,a=yield fetch(s,o);if(!a.ok){const e=yield a.json(),t=e.error&&e.error.message?e.error.message:"";throw new Error(t)}if(!a.body)throw new Error("response doesnt have a body");var c;yield a.body.pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({start(e){e.buf="",e.pos=0},transform(e,t){for(void 0===t.buf&&(t.buf=""),void 0===t.pos&&(t.pos=0),t.buf+=e;t.pos<t.buf.length;)if("\n"===t.buf[t.pos]){const e=t.buf.substring(0,t.pos),r=JSON.parse(e);t.enqueue(r.result),t.buf=t.buf.substring(t.pos+1),t.pos=0}else++t.pos}})).pipeTo((c=e=>{t&&t(e)},new WritableStream({write(e){c(e)}})))}))}var se;!function(e){e.SORT_DIRECTION_UNSPECIFIED="SORT_DIRECTION_UNSPECIFIED",e.SORT_DIRECTION_ASCENDING="SORT_DIRECTION_ASCENDING",e.SORT_DIRECTION_DESCENDING="SORT_DIRECTION_DESCENDING"}(se||(se={}));class ae{static Publish(e,t){return ie("/message/v1/publish",Object.assign(Object.assign({},t),{method:"POST",body:JSON.stringify(e,ne)}))}static Subscribe(e,t,r){return oe("/message/v1/subscribe",t,Object.assign(Object.assign({},r),{method:"POST",body:JSON.stringify(e,ne)}))}static SubscribeAll(e,t,r){return oe("/message/v1/subscribe-all",t,Object.assign(Object.assign({},r),{method:"POST",body:JSON.stringify(e,ne)}))}static Query(e,t){return ie("/message/v1/query",Object.assign(Object.assign({},t),{method:"POST",body:JSON.stringify(e,ne)}))}static BatchQuery(e,t){return ie("/message/v1/batch-query",Object.assign(Object.assign({},t),{method:"POST",body:JSON.stringify(e,ne)}))}}var ce=null;try{ce=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Qa){}function ue(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function le(e){return!0===(e&&e.__isLong__)}function de(e){var t=Math.clz32(e&-e);return e?31-t:t}ue.prototype.__isLong__,Object.defineProperty(ue.prototype,"__isLong__",{value:!0}),ue.isLong=le;var fe={},he={};function pe(e,t){var r,n,i;return t?(i=0<=(e>>>=0)&&e<256)&&(n=he[e])?n:(r=ye(e,0,!0),i&&(he[e]=r),r):(i=-128<=(e|=0)&&e<128)&&(n=fe[e])?n:(r=ye(e,e<0?-1:0,!1),i&&(fe[e]=r),r)}function me(e,t){if(isNaN(e))return t?ke:_e;if(t){if(e<0)return ke;if(e>=Se)return Ie}else{if(e<=-Ee)return Re;if(e+1>=Ee)return Pe}return e<0?me(-e,t).neg():ye(e%we|0,e/we|0,t)}function ye(e,t,r){return new ue(e,t,r)}ue.fromInt=pe,ue.fromNumber=me,ue.fromBits=ye;var ge=Math.pow;function ve(e,t,r){if(0===e.length)throw Error("empty string");if("number"===typeof t?(r=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?ke:_e;if((r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return ve(e.substring(1),t,r).neg();for(var i=me(ge(r,8)),o=_e,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),r);if(a<8){var u=me(ge(r,a));o=o.mul(u).add(me(c))}else o=(o=o.mul(i)).add(me(c))}return o.unsigned=t,o}function be(e,t){return"number"===typeof e?me(e,t):"string"===typeof e?ve(e,t):ye(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}ue.fromString=ve,ue.fromValue=be;var we=4294967296,Se=we*we,Ee=Se/2,Ae=pe(1<<24),_e=pe(0);ue.ZERO=_e;var ke=pe(0,!0);ue.UZERO=ke;var xe=pe(1);ue.ONE=xe;var Me=pe(1,!0);ue.UONE=Me;var Ne=pe(-1);ue.NEG_ONE=Ne;var Pe=ye(-1,2147483647,!1);ue.MAX_VALUE=Pe;var Ie=ye(-1,-1,!0);ue.MAX_UNSIGNED_VALUE=Ie;var Re=ye(0,-2147483648,!1);ue.MIN_VALUE=Re;var Ce=ue.prototype;Ce.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ce.toNumber=function(){return this.unsigned?(this.high>>>0)*we+(this.low>>>0):this.high*we+(this.low>>>0)},Ce.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Re)){var t=me(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=me(ge(e,6),this.unsigned),o=this,s="";;){var a=o.div(i),c=(o.sub(a.mul(i)).toInt()>>>0).toString(e);if((o=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},Ce.getHighBits=function(){return this.high},Ce.getHighBitsUnsigned=function(){return this.high>>>0},Ce.getLowBits=function(){return this.low},Ce.getLowBitsUnsigned=function(){return this.low>>>0},Ce.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Re)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},Ce.isZero=function(){return 0===this.high&&0===this.low},Ce.eqz=Ce.isZero,Ce.isNegative=function(){return!this.unsigned&&this.high<0},Ce.isPositive=function(){return this.unsigned||this.high>=0},Ce.isOdd=function(){return 1===(1&this.low)},Ce.isEven=function(){return 0===(1&this.low)},Ce.equals=function(e){return le(e)||(e=be(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},Ce.eq=Ce.equals,Ce.notEquals=function(e){return!this.eq(e)},Ce.neq=Ce.notEquals,Ce.ne=Ce.notEquals,Ce.lessThan=function(e){return this.comp(e)<0},Ce.lt=Ce.lessThan,Ce.lessThanOrEqual=function(e){return this.comp(e)<=0},Ce.lte=Ce.lessThanOrEqual,Ce.le=Ce.lessThanOrEqual,Ce.greaterThan=function(e){return this.comp(e)>0},Ce.gt=Ce.greaterThan,Ce.greaterThanOrEqual=function(e){return this.comp(e)>=0},Ce.gte=Ce.greaterThanOrEqual,Ce.ge=Ce.greaterThanOrEqual,Ce.compare=function(e){if(le(e)||(e=be(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Ce.comp=Ce.compare,Ce.negate=function(){return!this.unsigned&&this.eq(Re)?Re:this.not().add(xe)},Ce.neg=Ce.negate,Ce.add=function(e){le(e)||(e=be(e));var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,c=0,u=0,l=0,d=0;return l+=(d+=i+(65535&e.low))>>>16,u+=(l+=n+a)>>>16,c+=(u+=r+s)>>>16,c+=t+o,ye((l&=65535)<<16|(d&=65535),(c&=65535)<<16|(u&=65535),this.unsigned)},Ce.subtract=function(e){return le(e)||(e=be(e)),this.add(e.neg())},Ce.sub=Ce.subtract,Ce.multiply=function(e){if(this.isZero())return this;if(le(e)||(e=be(e)),ce)return ye(ce.mul(this.low,this.high,e.low,e.high),ce.get_high(),this.unsigned);if(e.isZero())return this.unsigned?ke:_e;if(this.eq(Re))return e.isOdd()?Re:_e;if(e.eq(Re))return this.isOdd()?Re:_e;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Ae)&&e.lt(Ae))return me(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,c=65535&e.low,u=0,l=0,d=0,f=0;return d+=(f+=i*c)>>>16,l+=(d+=n*c)>>>16,d&=65535,l+=(d+=i*a)>>>16,u+=(l+=r*c)>>>16,l&=65535,u+=(l+=n*a)>>>16,l&=65535,u+=(l+=i*s)>>>16,u+=t*c+r*a+n*s+i*o,ye((d&=65535)<<16|(f&=65535),(u&=65535)<<16|(l&=65535),this.unsigned)},Ce.mul=Ce.multiply,Ce.divide=function(e){if(le(e)||(e=be(e)),e.isZero())throw Error("division by zero");var t,r,n;if(ce)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?ye((this.unsigned?ce.div_u:ce.div_s)(this.low,this.high,e.low,e.high),ce.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?ke:_e;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return ke;if(e.gt(this.shru(1)))return Me;n=ke}else{if(this.eq(Re))return e.eq(xe)||e.eq(Ne)?Re:e.eq(Re)?xe:(t=this.shr(1).div(e).shl(1)).eq(_e)?e.isNegative()?xe:Ne:(r=this.sub(e.mul(t)),n=t.add(r.div(e)));if(e.eq(Re))return this.unsigned?ke:_e;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=_e}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),o=i<=48?1:ge(2,i-48),s=me(t),a=s.mul(e);a.isNegative()||a.gt(r);)a=(s=me(t-=o,this.unsigned)).mul(e);s.isZero()&&(s=xe),n=n.add(s),r=r.sub(a)}return n},Ce.div=Ce.divide,Ce.modulo=function(e){return le(e)||(e=be(e)),ce?ye((this.unsigned?ce.rem_u:ce.rem_s)(this.low,this.high,e.low,e.high),ce.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},Ce.mod=Ce.modulo,Ce.rem=Ce.modulo,Ce.not=function(){return ye(~this.low,~this.high,this.unsigned)},Ce.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Ce.clz=Ce.countLeadingZeros,Ce.countTrailingZeros=function(){return this.low?de(this.low):de(this.high)+32},Ce.ctz=Ce.countTrailingZeros,Ce.and=function(e){return le(e)||(e=be(e)),ye(this.low&e.low,this.high&e.high,this.unsigned)},Ce.or=function(e){return le(e)||(e=be(e)),ye(this.low|e.low,this.high|e.high,this.unsigned)},Ce.xor=function(e){return le(e)||(e=be(e)),ye(this.low^e.low,this.high^e.high,this.unsigned)},Ce.shiftLeft=function(e){return le(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?ye(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):ye(0,this.low<<e-32,this.unsigned)},Ce.shl=Ce.shiftLeft,Ce.shiftRight=function(e){return le(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?ye(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):ye(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Ce.shr=Ce.shiftRight,Ce.shiftRightUnsigned=function(e){return le(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?ye(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):ye(32===e?this.high:this.high>>>e-32,0,this.unsigned)},Ce.shru=Ce.shiftRightUnsigned,Ce.shr_u=Ce.shiftRightUnsigned,Ce.rotateLeft=function(e){var t;return le(e)&&(e=e.toInt()),0===(e&=63)?this:32===e?ye(this.high,this.low,this.unsigned):e<32?(t=32-e,ye(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),ye(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},Ce.rotl=Ce.rotateLeft,Ce.rotateRight=function(e){var t;return le(e)&&(e=e.toInt()),0===(e&=63)?this:32===e?ye(this.high,this.low,this.unsigned):e<32?(t=32-e,ye(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),ye(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},Ce.rotr=Ce.rotateRight,Ce.toSigned=function(){return this.unsigned?ye(this.low,this.high,!1):this},Ce.toUnsigned=function(){return this.unsigned?this:ye(this.low,this.high,!0)},Ce.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Ce.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},Ce.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},ue.fromBytes=function(e,t,r){return r?ue.fromBytesLE(e,t):ue.fromBytesBE(e,t)},ue.fromBytesLE=function(e,t){return new ue(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},ue.fromBytesBE=function(e,t){return new ue(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};const Oe=ue;var Te=__webpack_require__(1099),Be=__webpack_require__.n(Te);const Ue={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.ecdsaCompact&&De.encode(e.ecdsaCompact,t.uint32(10).fork()).ldelim(),void 0!==e.walletEcdsaCompact&&Fe.encode(e.walletEcdsaCompact,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={ecdsaCompact:void 0,walletEcdsaCompact:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.ecdsaCompact=De.decode(r,r.uint32());break;case 2:i.walletEcdsaCompact=Fe.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({ecdsaCompact:Je(e.ecdsaCompact)?De.fromJSON(e.ecdsaCompact):void 0,walletEcdsaCompact:Je(e.walletEcdsaCompact)?Fe.fromJSON(e.walletEcdsaCompact):void 0}),toJSON(e){const t={};return void 0!==e.ecdsaCompact&&(t.ecdsaCompact=e.ecdsaCompact?De.toJSON(e.ecdsaCompact):void 0),void 0!==e.walletEcdsaCompact&&(t.walletEcdsaCompact=e.walletEcdsaCompact?Fe.toJSON(e.walletEcdsaCompact):void 0),t},fromPartial(e){const t={ecdsaCompact:void 0,walletEcdsaCompact:void 0};return t.ecdsaCompact=void 0!==e.ecdsaCompact&&null!==e.ecdsaCompact?De.fromPartial(e.ecdsaCompact):void 0,t.walletEcdsaCompact=void 0!==e.walletEcdsaCompact&&null!==e.walletEcdsaCompact?Fe.fromPartial(e.walletEcdsaCompact):void 0,t}};function Le(){return{bytes:new Uint8Array,recovery:0}}const De={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),0!==e.recovery&&t.uint32(16).uint32(e.recovery),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Le();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.bytes=r.bytes();break;case 2:i.recovery=r.uint32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({bytes:Je(e.bytes)?ze(e.bytes):new Uint8Array,recovery:Je(e.recovery)?Number(e.recovery):0}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=je(void 0!==e.bytes?e.bytes:new Uint8Array)),void 0!==e.recovery&&(t.recovery=Math.round(e.recovery)),t},fromPartial(e){var t,r;const n=Le();return n.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,n.recovery=null!==(r=e.recovery)&&void 0!==r?r:0,n}};function Ke(){return{bytes:new Uint8Array,recovery:0}}const Fe={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),0!==e.recovery&&t.uint32(16).uint32(e.recovery),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Ke();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.bytes=r.bytes();break;case 2:i.recovery=r.uint32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({bytes:Je(e.bytes)?ze(e.bytes):new Uint8Array,recovery:Je(e.recovery)?Number(e.recovery):0}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=je(void 0!==e.bytes?e.bytes:new Uint8Array)),void 0!==e.recovery&&(t.recovery=Math.round(e.recovery)),t},fromPartial(e){var t,r;const n=Ke();return n.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,n.recovery=null!==(r=e.recovery)&&void 0!==r?r:0,n}};var qe=(()=>{if("undefined"!==typeof qe)return qe;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function ze(e){if(qe.Buffer)return Uint8Array.from(qe.Buffer.from(e,"base64"));{const t=qe.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function je(e){if(qe.Buffer)return qe.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),qe.btoa(t.join(""))}}function Je(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());function Ge(){return{createdNs:Oe.UZERO,secp256k1Uncompressed:void 0}}const He={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return e.createdNs.isZero()||t.uint32(8).uint64(e.createdNs),void 0!==e.secp256k1Uncompressed&&We.encode(e.secp256k1Uncompressed,t.uint32(26).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Ge();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.createdNs=r.uint64();break;case 3:i.secp256k1Uncompressed=We.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({createdNs:st(e.createdNs)?Oe.fromValue(e.createdNs):Oe.UZERO,secp256k1Uncompressed:st(e.secp256k1Uncompressed)?We.fromJSON(e.secp256k1Uncompressed):void 0}),toJSON(e){const t={};return void 0!==e.createdNs&&(t.createdNs=(e.createdNs||Oe.UZERO).toString()),void 0!==e.secp256k1Uncompressed&&(t.secp256k1Uncompressed=e.secp256k1Uncompressed?We.toJSON(e.secp256k1Uncompressed):void 0),t},fromPartial(e){const t=Ge();return t.createdNs=void 0!==e.createdNs&&null!==e.createdNs?Oe.fromValue(e.createdNs):Oe.UZERO,t.secp256k1Uncompressed=void 0!==e.secp256k1Uncompressed&&null!==e.secp256k1Uncompressed?We.fromPartial(e.secp256k1Uncompressed):void 0,t}};function Ve(){return{bytes:new Uint8Array}}const We={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Ve();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.bytes=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({bytes:st(e.bytes)?it(e.bytes):new Uint8Array}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=ot(void 0!==e.bytes?e.bytes:new Uint8Array)),t},fromPartial(e){var t;const r=Ve();return r.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,r}};function Ze(){return{keyBytes:new Uint8Array,signature:void 0}}const Ye={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.keyBytes.length&&t.uint32(10).bytes(e.keyBytes),void 0!==e.signature&&Ue.encode(e.signature,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Ze();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.keyBytes=r.bytes();break;case 2:i.signature=Ue.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({keyBytes:st(e.keyBytes)?it(e.keyBytes):new Uint8Array,signature:st(e.signature)?Ue.fromJSON(e.signature):void 0}),toJSON(e){const t={};return void 0!==e.keyBytes&&(t.keyBytes=ot(void 0!==e.keyBytes?e.keyBytes:new Uint8Array)),void 0!==e.signature&&(t.signature=e.signature?Ue.toJSON(e.signature):void 0),t},fromPartial(e){var t;const r=Ze();return r.keyBytes=null!==(t=e.keyBytes)&&void 0!==t?t:new Uint8Array,r.signature=void 0!==e.signature&&null!==e.signature?Ue.fromPartial(e.signature):void 0,r}};const Qe={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.identityKey&&Ye.encode(e.identityKey,t.uint32(10).fork()).ldelim(),void 0!==e.preKey&&Ye.encode(e.preKey,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={identityKey:void 0,preKey:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.identityKey=Ye.decode(r,r.uint32());break;case 2:i.preKey=Ye.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({identityKey:st(e.identityKey)?Ye.fromJSON(e.identityKey):void 0,preKey:st(e.preKey)?Ye.fromJSON(e.preKey):void 0}),toJSON(e){const t={};return void 0!==e.identityKey&&(t.identityKey=e.identityKey?Ye.toJSON(e.identityKey):void 0),void 0!==e.preKey&&(t.preKey=e.preKey?Ye.toJSON(e.preKey):void 0),t},fromPartial(e){const t={identityKey:void 0,preKey:void 0};return t.identityKey=void 0!==e.identityKey&&null!==e.identityKey?Ye.fromPartial(e.identityKey):void 0,t.preKey=void 0!==e.preKey&&null!==e.preKey?Ye.fromPartial(e.preKey):void 0,t}};function Xe(){return{timestamp:Oe.UZERO,signature:void 0,secp256k1Uncompressed:void 0}}const $e={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return e.timestamp.isZero()||t.uint32(8).uint64(e.timestamp),void 0!==e.signature&&Ue.encode(e.signature,t.uint32(18).fork()).ldelim(),void 0!==e.secp256k1Uncompressed&&tt.encode(e.secp256k1Uncompressed,t.uint32(26).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Xe();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.timestamp=r.uint64();break;case 2:i.signature=Ue.decode(r,r.uint32());break;case 3:i.secp256k1Uncompressed=tt.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({timestamp:st(e.timestamp)?Oe.fromValue(e.timestamp):Oe.UZERO,signature:st(e.signature)?Ue.fromJSON(e.signature):void 0,secp256k1Uncompressed:st(e.secp256k1Uncompressed)?tt.fromJSON(e.secp256k1Uncompressed):void 0}),toJSON(e){const t={};return void 0!==e.timestamp&&(t.timestamp=(e.timestamp||Oe.UZERO).toString()),void 0!==e.signature&&(t.signature=e.signature?Ue.toJSON(e.signature):void 0),void 0!==e.secp256k1Uncompressed&&(t.secp256k1Uncompressed=e.secp256k1Uncompressed?tt.toJSON(e.secp256k1Uncompressed):void 0),t},fromPartial(e){const t=Xe();return t.timestamp=void 0!==e.timestamp&&null!==e.timestamp?Oe.fromValue(e.timestamp):Oe.UZERO,t.signature=void 0!==e.signature&&null!==e.signature?Ue.fromPartial(e.signature):void 0,t.secp256k1Uncompressed=void 0!==e.secp256k1Uncompressed&&null!==e.secp256k1Uncompressed?tt.fromPartial(e.secp256k1Uncompressed):void 0,t}};function et(){return{bytes:new Uint8Array}}const tt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=et();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.bytes=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({bytes:st(e.bytes)?it(e.bytes):new Uint8Array}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=ot(void 0!==e.bytes?e.bytes:new Uint8Array)),t},fromPartial(e){var t;const r=et();return r.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,r}};const rt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.identityKey&&$e.encode(e.identityKey,t.uint32(10).fork()).ldelim(),void 0!==e.preKey&&$e.encode(e.preKey,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={identityKey:void 0,preKey:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.identityKey=$e.decode(r,r.uint32());break;case 2:i.preKey=$e.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({identityKey:st(e.identityKey)?$e.fromJSON(e.identityKey):void 0,preKey:st(e.preKey)?$e.fromJSON(e.preKey):void 0}),toJSON(e){const t={};return void 0!==e.identityKey&&(t.identityKey=e.identityKey?$e.toJSON(e.identityKey):void 0),void 0!==e.preKey&&(t.preKey=e.preKey?$e.toJSON(e.preKey):void 0),t},fromPartial(e){const t={identityKey:void 0,preKey:void 0};return t.identityKey=void 0!==e.identityKey&&null!==e.identityKey?$e.fromPartial(e.identityKey):void 0,t.preKey=void 0!==e.preKey&&null!==e.preKey?$e.fromPartial(e.preKey):void 0,t}};var nt=(()=>{if("undefined"!==typeof nt)return nt;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function it(e){if(nt.Buffer)return Uint8Array.from(nt.Buffer.from(e,"base64"));{const t=nt.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function ot(e){if(nt.Buffer)return nt.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),nt.btoa(t.join(""))}}function st(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());function at(){return{identityKey:void 0,authDataBytes:new Uint8Array,authDataSignature:void 0}}const ct={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.identityKey&&$e.encode(e.identityKey,t.uint32(10).fork()).ldelim(),0!==e.authDataBytes.length&&t.uint32(18).bytes(e.authDataBytes),void 0!==e.authDataSignature&&Ue.encode(e.authDataSignature,t.uint32(26).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=at();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.identityKey=$e.decode(r,r.uint32());break;case 2:i.authDataBytes=r.bytes();break;case 3:i.authDataSignature=Ue.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({identityKey:ht(e.identityKey)?$e.fromJSON(e.identityKey):void 0,authDataBytes:ht(e.authDataBytes)?ft(e.authDataBytes):new Uint8Array,authDataSignature:ht(e.authDataSignature)?Ue.fromJSON(e.authDataSignature):void 0}),toJSON(e){const t={};return void 0!==e.identityKey&&(t.identityKey=e.identityKey?$e.toJSON(e.identityKey):void 0),void 0!==e.authDataBytes&&(t.authDataBytes=function(e){if(dt.Buffer)return dt.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),dt.btoa(t.join(""))}}(void 0!==e.authDataBytes?e.authDataBytes:new Uint8Array)),void 0!==e.authDataSignature&&(t.authDataSignature=e.authDataSignature?Ue.toJSON(e.authDataSignature):void 0),t},fromPartial(e){var t;const r=at();return r.identityKey=void 0!==e.identityKey&&null!==e.identityKey?$e.fromPartial(e.identityKey):void 0,r.authDataBytes=null!==(t=e.authDataBytes)&&void 0!==t?t:new Uint8Array,r.authDataSignature=void 0!==e.authDataSignature&&null!==e.authDataSignature?Ue.fromPartial(e.authDataSignature):void 0,r}};function ut(){return{walletAddr:"",createdNs:Oe.UZERO}}const lt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.walletAddr&&t.uint32(10).string(e.walletAddr),e.createdNs.isZero()||t.uint32(16).uint64(e.createdNs),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=ut();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.walletAddr=r.string();break;case 2:i.createdNs=r.uint64();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({walletAddr:ht(e.walletAddr)?String(e.walletAddr):"",createdNs:ht(e.createdNs)?Oe.fromValue(e.createdNs):Oe.UZERO}),toJSON(e){const t={};return void 0!==e.walletAddr&&(t.walletAddr=e.walletAddr),void 0!==e.createdNs&&(t.createdNs=(e.createdNs||Oe.UZERO).toString()),t},fromPartial(e){var t;const r=ut();return r.walletAddr=null!==(t=e.walletAddr)&&void 0!==t?t:"",r.createdNs=void 0!==e.createdNs&&null!==e.createdNs?Oe.fromValue(e.createdNs):Oe.UZERO,r}};var dt=(()=>{if("undefined"!==typeof dt)return dt;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function ft(e){if(dt.Buffer)return Uint8Array.from(dt.Buffer.from(e,"base64"));{const t=dt.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function ht(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());const pt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.aes256GcmHkdfSha256&&yt.encode(e.aes256GcmHkdfSha256,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={aes256GcmHkdfSha256:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.aes256GcmHkdfSha256=yt.decode(r,r.uint32());else r.skipType(7&e)}return i},fromJSON:e=>({aes256GcmHkdfSha256:_t(e.aes256GcmHkdfSha256)?yt.fromJSON(e.aes256GcmHkdfSha256):void 0}),toJSON(e){const t={};return void 0!==e.aes256GcmHkdfSha256&&(t.aes256GcmHkdfSha256=e.aes256GcmHkdfSha256?yt.toJSON(e.aes256GcmHkdfSha256):void 0),t},fromPartial(e){const t={aes256GcmHkdfSha256:void 0};return t.aes256GcmHkdfSha256=void 0!==e.aes256GcmHkdfSha256&&null!==e.aes256GcmHkdfSha256?yt.fromPartial(e.aes256GcmHkdfSha256):void 0,t}};function mt(){return{hkdfSalt:new Uint8Array,gcmNonce:new Uint8Array,payload:new Uint8Array}}const yt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.hkdfSalt.length&&t.uint32(10).bytes(e.hkdfSalt),0!==e.gcmNonce.length&&t.uint32(18).bytes(e.gcmNonce),0!==e.payload.length&&t.uint32(26).bytes(e.payload),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=mt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.hkdfSalt=r.bytes();break;case 2:i.gcmNonce=r.bytes();break;case 3:i.payload=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({hkdfSalt:_t(e.hkdfSalt)?Et(e.hkdfSalt):new Uint8Array,gcmNonce:_t(e.gcmNonce)?Et(e.gcmNonce):new Uint8Array,payload:_t(e.payload)?Et(e.payload):new Uint8Array}),toJSON(e){const t={};return void 0!==e.hkdfSalt&&(t.hkdfSalt=At(void 0!==e.hkdfSalt?e.hkdfSalt:new Uint8Array)),void 0!==e.gcmNonce&&(t.gcmNonce=At(void 0!==e.gcmNonce?e.gcmNonce:new Uint8Array)),void 0!==e.payload&&(t.payload=At(void 0!==e.payload?e.payload:new Uint8Array)),t},fromPartial(e){var t,r,n;const i=mt();return i.hkdfSalt=null!==(t=e.hkdfSalt)&&void 0!==t?t:new Uint8Array,i.gcmNonce=null!==(r=e.gcmNonce)&&void 0!==r?r:new Uint8Array,i.payload=null!==(n=e.payload)&&void 0!==n?n:new Uint8Array,i}};function gt(){return{eciesBytes:new Uint8Array,signature:void 0}}const vt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.eciesBytes.length&&t.uint32(10).bytes(e.eciesBytes),void 0!==e.signature&&Ue.encode(e.signature,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=gt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.eciesBytes=r.bytes();break;case 2:i.signature=Ue.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({eciesBytes:_t(e.eciesBytes)?Et(e.eciesBytes):new Uint8Array,signature:_t(e.signature)?Ue.fromJSON(e.signature):void 0}),toJSON(e){const t={};return void 0!==e.eciesBytes&&(t.eciesBytes=At(void 0!==e.eciesBytes?e.eciesBytes:new Uint8Array)),void 0!==e.signature&&(t.signature=e.signature?Ue.toJSON(e.signature):void 0),t},fromPartial(e){var t;const r=gt();return r.eciesBytes=null!==(t=e.eciesBytes)&&void 0!==t?t:new Uint8Array,r.signature=void 0!==e.signature&&null!==e.signature?Ue.fromPartial(e.signature):void 0,r}};function bt(){return{ephemeralPublicKey:new Uint8Array,iv:new Uint8Array,mac:new Uint8Array,ciphertext:new Uint8Array}}const wt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.ephemeralPublicKey.length&&t.uint32(10).bytes(e.ephemeralPublicKey),0!==e.iv.length&&t.uint32(18).bytes(e.iv),0!==e.mac.length&&t.uint32(26).bytes(e.mac),0!==e.ciphertext.length&&t.uint32(34).bytes(e.ciphertext),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=bt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.ephemeralPublicKey=r.bytes();break;case 2:i.iv=r.bytes();break;case 3:i.mac=r.bytes();break;case 4:i.ciphertext=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({ephemeralPublicKey:_t(e.ephemeralPublicKey)?Et(e.ephemeralPublicKey):new Uint8Array,iv:_t(e.iv)?Et(e.iv):new Uint8Array,mac:_t(e.mac)?Et(e.mac):new Uint8Array,ciphertext:_t(e.ciphertext)?Et(e.ciphertext):new Uint8Array}),toJSON(e){const t={};return void 0!==e.ephemeralPublicKey&&(t.ephemeralPublicKey=At(void 0!==e.ephemeralPublicKey?e.ephemeralPublicKey:new Uint8Array)),void 0!==e.iv&&(t.iv=At(void 0!==e.iv?e.iv:new Uint8Array)),void 0!==e.mac&&(t.mac=At(void 0!==e.mac?e.mac:new Uint8Array)),void 0!==e.ciphertext&&(t.ciphertext=At(void 0!==e.ciphertext?e.ciphertext:new Uint8Array)),t},fromPartial(e){var t,r,n,i;const o=bt();return o.ephemeralPublicKey=null!==(t=e.ephemeralPublicKey)&&void 0!==t?t:new Uint8Array,o.iv=null!==(r=e.iv)&&void 0!==r?r:new Uint8Array,o.mac=null!==(n=e.mac)&&void 0!==n?n:new Uint8Array,o.ciphertext=null!==(i=e.ciphertext)&&void 0!==i?i:new Uint8Array,o}};var St=(()=>{if("undefined"!==typeof St)return St;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Et(e){if(St.Buffer)return Uint8Array.from(St.Buffer.from(e,"base64"));{const t=St.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function At(e){if(St.Buffer)return St.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),St.btoa(t.join(""))}}function _t(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var kt;function xt(e){switch(e){case 0:case"CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED":return kt.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED;case 1:case"CONSENT_PROOF_PAYLOAD_VERSION_1":return kt.CONSENT_PROOF_PAYLOAD_VERSION_1;default:return kt.UNRECOGNIZED}}!function(e){e[e.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED=0]="CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED",e[e.CONSENT_PROOF_PAYLOAD_VERSION_1=1]="CONSENT_PROOF_PAYLOAD_VERSION_1",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(kt||(kt={}));const Mt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.topic&&t.uint32(10).string(e.topic),void 0!==e.context&&It.encode(e.context,t.uint32(18).fork()).ldelim(),void 0!==e.aes256GcmHkdfSha256&&Pt.encode(e.aes256GcmHkdfSha256,t.uint32(26).fork()).ldelim(),void 0!==e.consentProof&&Dt.encode(e.consentProof,t.uint32(34).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={topic:"",context:void 0,aes256GcmHkdfSha256:void 0,consentProof:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.topic=r.string();break;case 2:i.context=It.decode(r,r.uint32());break;case 3:i.aes256GcmHkdfSha256=Pt.decode(r,r.uint32());break;case 4:i.consentProof=Dt.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({topic:zt(e.topic)?String(e.topic):"",context:zt(e.context)?It.fromJSON(e.context):void 0,aes256GcmHkdfSha256:zt(e.aes256GcmHkdfSha256)?Pt.fromJSON(e.aes256GcmHkdfSha256):void 0,consentProof:zt(e.consentProof)?Dt.fromJSON(e.consentProof):void 0}),toJSON(e){const t={};return void 0!==e.topic&&(t.topic=e.topic),void 0!==e.context&&(t.context=e.context?It.toJSON(e.context):void 0),void 0!==e.aes256GcmHkdfSha256&&(t.aes256GcmHkdfSha256=e.aes256GcmHkdfSha256?Pt.toJSON(e.aes256GcmHkdfSha256):void 0),void 0!==e.consentProof&&(t.consentProof=e.consentProof?Dt.toJSON(e.consentProof):void 0),t},fromPartial(e){var t;const r={topic:"",context:void 0,aes256GcmHkdfSha256:void 0,consentProof:void 0};return r.topic=null!==(t=e.topic)&&void 0!==t?t:"",r.context=void 0!==e.context&&null!==e.context?It.fromPartial(e.context):void 0,r.aes256GcmHkdfSha256=void 0!==e.aes256GcmHkdfSha256&&null!==e.aes256GcmHkdfSha256?Pt.fromPartial(e.aes256GcmHkdfSha256):void 0,r.consentProof=void 0!==e.consentProof&&null!==e.consentProof?Dt.fromPartial(e.consentProof):void 0,r}};function Nt(){return{keyMaterial:new Uint8Array}}const Pt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.keyMaterial.length&&t.uint32(10).bytes(e.keyMaterial),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Nt();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.keyMaterial=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({keyMaterial:zt(e.keyMaterial)?Ft(e.keyMaterial):new Uint8Array}),toJSON(e){const t={};return void 0!==e.keyMaterial&&(t.keyMaterial=qt(void 0!==e.keyMaterial?e.keyMaterial:new Uint8Array)),t},fromPartial(e){var t;const r=Nt();return r.keyMaterial=null!==(t=e.keyMaterial)&&void 0!==t?t:new Uint8Array,r}};const It={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.conversationId&&t.uint32(10).string(e.conversationId),Object.entries(e.metadata).forEach((e=>{let[r,n]=e;Rt.encode({key:r,value:n},t.uint32(18).fork()).ldelim()})),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={conversationId:"",metadata:{}};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.conversationId=r.string();break;case 2:const t=Rt.decode(r,r.uint32());void 0!==t.value&&(i.metadata[t.key]=t.value);break;default:r.skipType(7&e)}}return i},fromJSON(e){return{conversationId:zt(e.conversationId)?String(e.conversationId):"",metadata:(t=e.metadata,"object"===typeof t&&null!==t?Object.entries(e.metadata).reduce(((e,t)=>{let[r,n]=t;return e[r]=String(n),e}),{}):{})};var t},toJSON(e){const t={};return void 0!==e.conversationId&&(t.conversationId=e.conversationId),t.metadata={},e.metadata&&Object.entries(e.metadata).forEach((e=>{let[r,n]=e;t.metadata[r]=n})),t},fromPartial(e){var t,r;const n={conversationId:"",metadata:{}};return n.conversationId=null!==(t=e.conversationId)&&void 0!==t?t:"",n.metadata=Object.entries(null!==(r=e.metadata)&&void 0!==r?r:{}).reduce(((e,t)=>{let[r,n]=t;return void 0!==n&&(e[r]=String(n)),e}),{}),n}};const Rt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={key:"",value:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.key=r.string();break;case 2:i.value=r.string();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({key:zt(e.key)?String(e.key):"",value:zt(e.value)?String(e.value):""}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){var t,r;const n={key:"",value:""};return n.key=null!==(t=e.key)&&void 0!==t?t:"",n.value=null!==(r=e.value)&&void 0!==r?r:"",n}};function Ct(){return{sender:void 0,recipient:void 0,createdNs:Oe.UZERO}}const Ot={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.sender&&Qe.encode(e.sender,t.uint32(10).fork()).ldelim(),void 0!==e.recipient&&Qe.encode(e.recipient,t.uint32(18).fork()).ldelim(),e.createdNs.isZero()||t.uint32(24).uint64(e.createdNs),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Ct();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.sender=Qe.decode(r,r.uint32());break;case 2:i.recipient=Qe.decode(r,r.uint32());break;case 3:i.createdNs=r.uint64();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({sender:zt(e.sender)?Qe.fromJSON(e.sender):void 0,recipient:zt(e.recipient)?Qe.fromJSON(e.recipient):void 0,createdNs:zt(e.createdNs)?Oe.fromValue(e.createdNs):Oe.UZERO}),toJSON(e){const t={};return void 0!==e.sender&&(t.sender=e.sender?Qe.toJSON(e.sender):void 0),void 0!==e.recipient&&(t.recipient=e.recipient?Qe.toJSON(e.recipient):void 0),void 0!==e.createdNs&&(t.createdNs=(e.createdNs||Oe.UZERO).toString()),t},fromPartial(e){const t=Ct();return t.sender=void 0!==e.sender&&null!==e.sender?Qe.fromPartial(e.sender):void 0,t.recipient=void 0!==e.recipient&&null!==e.recipient?Qe.fromPartial(e.recipient):void 0,t.createdNs=void 0!==e.createdNs&&null!==e.createdNs?Oe.fromValue(e.createdNs):Oe.UZERO,t}};function Tt(){return{headerBytes:new Uint8Array,ciphertext:void 0}}const Bt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.headerBytes.length&&t.uint32(10).bytes(e.headerBytes),void 0!==e.ciphertext&&pt.encode(e.ciphertext,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Tt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.headerBytes=r.bytes();break;case 2:i.ciphertext=pt.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({headerBytes:zt(e.headerBytes)?Ft(e.headerBytes):new Uint8Array,ciphertext:zt(e.ciphertext)?pt.fromJSON(e.ciphertext):void 0}),toJSON(e){const t={};return void 0!==e.headerBytes&&(t.headerBytes=qt(void 0!==e.headerBytes?e.headerBytes:new Uint8Array)),void 0!==e.ciphertext&&(t.ciphertext=e.ciphertext?pt.toJSON(e.ciphertext):void 0),t},fromPartial(e){var t;const r=Tt();return r.headerBytes=null!==(t=e.headerBytes)&&void 0!==t?t:new Uint8Array,r.ciphertext=void 0!==e.ciphertext&&null!==e.ciphertext?pt.fromPartial(e.ciphertext):void 0,r}};const Ut={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.v1&&Bt.encode(e.v1,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={v1:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.v1=Bt.decode(r,r.uint32());else r.skipType(7&e)}return i},fromJSON:e=>({v1:zt(e.v1)?Bt.fromJSON(e.v1):void 0}),toJSON(e){const t={};return void 0!==e.v1&&(t.v1=e.v1?Bt.toJSON(e.v1):void 0),t},fromPartial(e){const t={v1:void 0};return t.v1=void 0!==e.v1&&null!==e.v1?Bt.fromPartial(e.v1):void 0,t}};function Lt(){return{signature:"",timestamp:Oe.UZERO,payloadVersion:0}}const Dt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.signature&&t.uint32(10).string(e.signature),e.timestamp.isZero()||t.uint32(16).uint64(e.timestamp),0!==e.payloadVersion&&t.uint32(24).int32(e.payloadVersion),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Lt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.signature=r.string();break;case 2:i.timestamp=r.uint64();break;case 3:i.payloadVersion=r.int32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({signature:zt(e.signature)?String(e.signature):"",timestamp:zt(e.timestamp)?Oe.fromValue(e.timestamp):Oe.UZERO,payloadVersion:zt(e.payloadVersion)?xt(e.payloadVersion):0}),toJSON(e){const t={};return void 0!==e.signature&&(t.signature=e.signature),void 0!==e.timestamp&&(t.timestamp=(e.timestamp||Oe.UZERO).toString()),void 0!==e.payloadVersion&&(t.payloadVersion=function(e){switch(e){case kt.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED:return"CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED";case kt.CONSENT_PROOF_PAYLOAD_VERSION_1:return"CONSENT_PROOF_PAYLOAD_VERSION_1";case kt.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.payloadVersion)),t},fromPartial(e){var t,r;const n=Lt();return n.signature=null!==(t=e.signature)&&void 0!==t?t:"",n.timestamp=void 0!==e.timestamp&&null!==e.timestamp?Oe.fromValue(e.timestamp):Oe.UZERO,n.payloadVersion=null!==(r=e.payloadVersion)&&void 0!==r?r:0,n}};var Kt=(()=>{if("undefined"!==typeof Kt)return Kt;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Ft(e){if(Kt.Buffer)return Uint8Array.from(Kt.Buffer.from(e,"base64"));{const t=Kt.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function qt(e){if(Kt.Buffer)return Kt.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),Kt.btoa(t.join(""))}}function zt(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());function jt(){return{topic:"",peerAddress:"",createdNs:Oe.UZERO,context:void 0,consentProofPayload:void 0}}const Jt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.topic&&t.uint32(10).string(e.topic),""!==e.peerAddress&&t.uint32(18).string(e.peerAddress),e.createdNs.isZero()||t.uint32(24).uint64(e.createdNs),void 0!==e.context&&It.encode(e.context,t.uint32(34).fork()).ldelim(),void 0!==e.consentProofPayload&&Dt.encode(e.consentProofPayload,t.uint32(42).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=jt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.topic=r.string();break;case 2:i.peerAddress=r.string();break;case 3:i.createdNs=r.uint64();break;case 4:i.context=It.decode(r,r.uint32());break;case 5:i.consentProofPayload=Dt.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({topic:Gt(e.topic)?String(e.topic):"",peerAddress:Gt(e.peerAddress)?String(e.peerAddress):"",createdNs:Gt(e.createdNs)?Oe.fromValue(e.createdNs):Oe.UZERO,context:Gt(e.context)?It.fromJSON(e.context):void 0,consentProofPayload:Gt(e.consentProofPayload)?Dt.fromJSON(e.consentProofPayload):void 0}),toJSON(e){const t={};return void 0!==e.topic&&(t.topic=e.topic),void 0!==e.peerAddress&&(t.peerAddress=e.peerAddress),void 0!==e.createdNs&&(t.createdNs=(e.createdNs||Oe.UZERO).toString()),void 0!==e.context&&(t.context=e.context?It.toJSON(e.context):void 0),void 0!==e.consentProofPayload&&(t.consentProofPayload=e.consentProofPayload?Dt.toJSON(e.consentProofPayload):void 0),t},fromPartial(e){var t,r;const n=jt();return n.topic=null!==(t=e.topic)&&void 0!==t?t:"",n.peerAddress=null!==(r=e.peerAddress)&&void 0!==r?r:"",n.createdNs=void 0!==e.createdNs&&null!==e.createdNs?Oe.fromValue(e.createdNs):Oe.UZERO,n.context=void 0!==e.context&&null!==e.context?It.fromPartial(e.context):void 0,n.consentProofPayload=void 0!==e.consentProofPayload&&null!==e.consentProofPayload?Dt.fromPartial(e.consentProofPayload):void 0,n}};function Gt(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());function Ht(){return{sender:void 0,recipient:void 0,timestamp:Oe.UZERO}}const Vt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.sender&&rt.encode(e.sender,t.uint32(10).fork()).ldelim(),void 0!==e.recipient&&rt.encode(e.recipient,t.uint32(18).fork()).ldelim(),e.timestamp.isZero()||t.uint32(24).uint64(e.timestamp),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Ht();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.sender=rt.decode(r,r.uint32());break;case 2:i.recipient=rt.decode(r,r.uint32());break;case 3:i.timestamp=r.uint64();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({sender:sr(e.sender)?rt.fromJSON(e.sender):void 0,recipient:sr(e.recipient)?rt.fromJSON(e.recipient):void 0,timestamp:sr(e.timestamp)?Oe.fromValue(e.timestamp):Oe.UZERO}),toJSON(e){const t={};return void 0!==e.sender&&(t.sender=e.sender?rt.toJSON(e.sender):void 0),void 0!==e.recipient&&(t.recipient=e.recipient?rt.toJSON(e.recipient):void 0),void 0!==e.timestamp&&(t.timestamp=(e.timestamp||Oe.UZERO).toString()),t},fromPartial(e){const t=Ht();return t.sender=void 0!==e.sender&&null!==e.sender?rt.fromPartial(e.sender):void 0,t.recipient=void 0!==e.recipient&&null!==e.recipient?rt.fromPartial(e.recipient):void 0,t.timestamp=void 0!==e.timestamp&&null!==e.timestamp?Oe.fromValue(e.timestamp):Oe.UZERO,t}};function Wt(){return{headerBytes:new Uint8Array,ciphertext:void 0}}const Zt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.headerBytes.length&&t.uint32(10).bytes(e.headerBytes),void 0!==e.ciphertext&&pt.encode(e.ciphertext,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Wt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.headerBytes=r.bytes();break;case 2:i.ciphertext=pt.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({headerBytes:sr(e.headerBytes)?ir(e.headerBytes):new Uint8Array,ciphertext:sr(e.ciphertext)?pt.fromJSON(e.ciphertext):void 0}),toJSON(e){const t={};return void 0!==e.headerBytes&&(t.headerBytes=or(void 0!==e.headerBytes?e.headerBytes:new Uint8Array)),void 0!==e.ciphertext&&(t.ciphertext=e.ciphertext?pt.toJSON(e.ciphertext):void 0),t},fromPartial(e){var t;const r=Wt();return r.headerBytes=null!==(t=e.headerBytes)&&void 0!==t?t:new Uint8Array,r.ciphertext=void 0!==e.ciphertext&&null!==e.ciphertext?pt.fromPartial(e.ciphertext):void 0,r}};function Yt(){return{createdNs:Oe.UZERO,topic:""}}const Qt={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return e.createdNs.isZero()||t.uint32(8).uint64(e.createdNs),""!==e.topic&&t.uint32(18).string(e.topic),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Yt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.createdNs=r.uint64();break;case 2:i.topic=r.string();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({createdNs:sr(e.createdNs)?Oe.fromValue(e.createdNs):Oe.UZERO,topic:sr(e.topic)?String(e.topic):""}),toJSON(e){const t={};return void 0!==e.createdNs&&(t.createdNs=(e.createdNs||Oe.UZERO).toString()),void 0!==e.topic&&(t.topic=e.topic),t},fromPartial(e){var t;const r=Yt();return r.createdNs=void 0!==e.createdNs&&null!==e.createdNs?Oe.fromValue(e.createdNs):Oe.UZERO,r.topic=null!==(t=e.topic)&&void 0!==t?t:"",r}};function Xt(){return{headerBytes:new Uint8Array,ciphertext:void 0,senderHmac:void 0,shouldPush:void 0}}const $t={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.headerBytes.length&&t.uint32(10).bytes(e.headerBytes),void 0!==e.ciphertext&&pt.encode(e.ciphertext,t.uint32(18).fork()).ldelim(),void 0!==e.senderHmac&&t.uint32(26).bytes(e.senderHmac),void 0!==e.shouldPush&&t.uint32(32).bool(e.shouldPush),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Xt();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.headerBytes=r.bytes();break;case 2:i.ciphertext=pt.decode(r,r.uint32());break;case 3:i.senderHmac=r.bytes();break;case 4:i.shouldPush=r.bool();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({headerBytes:sr(e.headerBytes)?ir(e.headerBytes):new Uint8Array,ciphertext:sr(e.ciphertext)?pt.fromJSON(e.ciphertext):void 0,senderHmac:sr(e.senderHmac)?ir(e.senderHmac):void 0,shouldPush:sr(e.shouldPush)?Boolean(e.shouldPush):void 0}),toJSON(e){const t={};return void 0!==e.headerBytes&&(t.headerBytes=or(void 0!==e.headerBytes?e.headerBytes:new Uint8Array)),void 0!==e.ciphertext&&(t.ciphertext=e.ciphertext?pt.toJSON(e.ciphertext):void 0),void 0!==e.senderHmac&&(t.senderHmac=void 0!==e.senderHmac?or(e.senderHmac):void 0),void 0!==e.shouldPush&&(t.shouldPush=e.shouldPush),t},fromPartial(e){var t,r,n;const i=Xt();return i.headerBytes=null!==(t=e.headerBytes)&&void 0!==t?t:new Uint8Array,i.ciphertext=void 0!==e.ciphertext&&null!==e.ciphertext?pt.fromPartial(e.ciphertext):void 0,i.senderHmac=null!==(r=e.senderHmac)&&void 0!==r?r:void 0,i.shouldPush=null!==(n=e.shouldPush)&&void 0!==n?n:void 0,i}};const er={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.v1&&Zt.encode(e.v1,t.uint32(10).fork()).ldelim(),void 0!==e.v2&&$t.encode(e.v2,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={v1:void 0,v2:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.v1=Zt.decode(r,r.uint32());break;case 2:i.v2=$t.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({v1:sr(e.v1)?Zt.fromJSON(e.v1):void 0,v2:sr(e.v2)?$t.fromJSON(e.v2):void 0}),toJSON(e){const t={};return void 0!==e.v1&&(t.v1=e.v1?Zt.toJSON(e.v1):void 0),void 0!==e.v2&&(t.v2=e.v2?$t.toJSON(e.v2):void 0),t},fromPartial(e){const t={v1:void 0,v2:void 0};return t.v1=void 0!==e.v1&&null!==e.v1?Zt.fromPartial(e.v1):void 0,t.v2=void 0!==e.v2&&null!==e.v2?$t.fromPartial(e.v2):void 0,t}};function tr(){return{id:"",messageVersion:"",senderAddress:"",recipientAddress:void 0,sentNs:Oe.UZERO,contentTopic:"",conversation:void 0,contentBytes:new Uint8Array}}const rr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.id&&t.uint32(10).string(e.id),""!==e.messageVersion&&t.uint32(18).string(e.messageVersion),""!==e.senderAddress&&t.uint32(26).string(e.senderAddress),void 0!==e.recipientAddress&&t.uint32(34).string(e.recipientAddress),e.sentNs.isZero()||t.uint32(40).uint64(e.sentNs),""!==e.contentTopic&&t.uint32(50).string(e.contentTopic),void 0!==e.conversation&&Jt.encode(e.conversation,t.uint32(58).fork()).ldelim(),0!==e.contentBytes.length&&t.uint32(66).bytes(e.contentBytes),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=tr();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.id=r.string();break;case 2:i.messageVersion=r.string();break;case 3:i.senderAddress=r.string();break;case 4:i.recipientAddress=r.string();break;case 5:i.sentNs=r.uint64();break;case 6:i.contentTopic=r.string();break;case 7:i.conversation=Jt.decode(r,r.uint32());break;case 8:i.contentBytes=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({id:sr(e.id)?String(e.id):"",messageVersion:sr(e.messageVersion)?String(e.messageVersion):"",senderAddress:sr(e.senderAddress)?String(e.senderAddress):"",recipientAddress:sr(e.recipientAddress)?String(e.recipientAddress):void 0,sentNs:sr(e.sentNs)?Oe.fromValue(e.sentNs):Oe.UZERO,contentTopic:sr(e.contentTopic)?String(e.contentTopic):"",conversation:sr(e.conversation)?Jt.fromJSON(e.conversation):void 0,contentBytes:sr(e.contentBytes)?ir(e.contentBytes):new Uint8Array}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.messageVersion&&(t.messageVersion=e.messageVersion),void 0!==e.senderAddress&&(t.senderAddress=e.senderAddress),void 0!==e.recipientAddress&&(t.recipientAddress=e.recipientAddress),void 0!==e.sentNs&&(t.sentNs=(e.sentNs||Oe.UZERO).toString()),void 0!==e.contentTopic&&(t.contentTopic=e.contentTopic),void 0!==e.conversation&&(t.conversation=e.conversation?Jt.toJSON(e.conversation):void 0),void 0!==e.contentBytes&&(t.contentBytes=or(void 0!==e.contentBytes?e.contentBytes:new Uint8Array)),t},fromPartial(e){var t,r,n,i,o,s;const a=tr();return a.id=null!==(t=e.id)&&void 0!==t?t:"",a.messageVersion=null!==(r=e.messageVersion)&&void 0!==r?r:"",a.senderAddress=null!==(n=e.senderAddress)&&void 0!==n?n:"",a.recipientAddress=null!==(i=e.recipientAddress)&&void 0!==i?i:void 0,a.sentNs=void 0!==e.sentNs&&null!==e.sentNs?Oe.fromValue(e.sentNs):Oe.UZERO,a.contentTopic=null!==(o=e.contentTopic)&&void 0!==o?o:"",a.conversation=void 0!==e.conversation&&null!==e.conversation?Jt.fromPartial(e.conversation):void 0,a.contentBytes=null!==(s=e.contentBytes)&&void 0!==s?s:new Uint8Array,a}};var nr=(()=>{if("undefined"!==typeof nr)return nr;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function ir(e){if(nr.Buffer)return Uint8Array.from(nr.Buffer.from(e,"base64"));{const t=nr.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function or(e){if(nr.Buffer)return nr.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),nr.btoa(t.join(""))}}function sr(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var ar;function cr(e){switch(e){case 0:case"COMPRESSION_DEFLATE":return ar.COMPRESSION_DEFLATE;case 1:case"COMPRESSION_GZIP":return ar.COMPRESSION_GZIP;default:return ar.UNRECOGNIZED}}!function(e){e[e.COMPRESSION_DEFLATE=0]="COMPRESSION_DEFLATE",e[e.COMPRESSION_GZIP=1]="COMPRESSION_GZIP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(ar||(ar={}));const ur={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.authorityId&&t.uint32(10).string(e.authorityId),""!==e.typeId&&t.uint32(18).string(e.typeId),0!==e.versionMajor&&t.uint32(24).uint32(e.versionMajor),0!==e.versionMinor&&t.uint32(32).uint32(e.versionMinor),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={authorityId:"",typeId:"",versionMajor:0,versionMinor:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.authorityId=r.string();break;case 2:i.typeId=r.string();break;case 3:i.versionMajor=r.uint32();break;case 4:i.versionMinor=r.uint32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({authorityId:vr(e.authorityId)?String(e.authorityId):"",typeId:vr(e.typeId)?String(e.typeId):"",versionMajor:vr(e.versionMajor)?Number(e.versionMajor):0,versionMinor:vr(e.versionMinor)?Number(e.versionMinor):0}),toJSON(e){const t={};return void 0!==e.authorityId&&(t.authorityId=e.authorityId),void 0!==e.typeId&&(t.typeId=e.typeId),void 0!==e.versionMajor&&(t.versionMajor=Math.round(e.versionMajor)),void 0!==e.versionMinor&&(t.versionMinor=Math.round(e.versionMinor)),t},fromPartial(e){var t,r,n,i;const o={authorityId:"",typeId:"",versionMajor:0,versionMinor:0};return o.authorityId=null!==(t=e.authorityId)&&void 0!==t?t:"",o.typeId=null!==(r=e.typeId)&&void 0!==r?r:"",o.versionMajor=null!==(n=e.versionMajor)&&void 0!==n?n:0,o.versionMinor=null!==(i=e.versionMinor)&&void 0!==i?i:0,o}};function lr(){return{type:void 0,parameters:{},fallback:void 0,compression:void 0,content:new Uint8Array}}const dr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.type&&ur.encode(e.type,t.uint32(10).fork()).ldelim(),Object.entries(e.parameters).forEach((e=>{let[r,n]=e;fr.encode({key:r,value:n},t.uint32(18).fork()).ldelim()})),void 0!==e.fallback&&t.uint32(26).string(e.fallback),void 0!==e.compression&&t.uint32(40).int32(e.compression),0!==e.content.length&&t.uint32(34).bytes(e.content),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=lr();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.type=ur.decode(r,r.uint32());break;case 2:const t=fr.decode(r,r.uint32());void 0!==t.value&&(i.parameters[t.key]=t.value);break;case 3:i.fallback=r.string();break;case 5:i.compression=r.int32();break;case 4:i.content=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON(e){return{type:vr(e.type)?ur.fromJSON(e.type):void 0,parameters:(t=e.parameters,"object"===typeof t&&null!==t?Object.entries(e.parameters).reduce(((e,t)=>{let[r,n]=t;return e[r]=String(n),e}),{}):{}),fallback:vr(e.fallback)?String(e.fallback):void 0,compression:vr(e.compression)?cr(e.compression):void 0,content:vr(e.content)?yr(e.content):new Uint8Array};var t},toJSON(e){const t={};return void 0!==e.type&&(t.type=e.type?ur.toJSON(e.type):void 0),t.parameters={},e.parameters&&Object.entries(e.parameters).forEach((e=>{let[r,n]=e;t.parameters[r]=n})),void 0!==e.fallback&&(t.fallback=e.fallback),void 0!==e.compression&&(t.compression=void 0!==e.compression?function(e){switch(e){case ar.COMPRESSION_DEFLATE:return"COMPRESSION_DEFLATE";case ar.COMPRESSION_GZIP:return"COMPRESSION_GZIP";case ar.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.compression):void 0),void 0!==e.content&&(t.content=gr(void 0!==e.content?e.content:new Uint8Array)),t},fromPartial(e){var t,r,n,i;const o=lr();return o.type=void 0!==e.type&&null!==e.type?ur.fromPartial(e.type):void 0,o.parameters=Object.entries(null!==(t=e.parameters)&&void 0!==t?t:{}).reduce(((e,t)=>{let[r,n]=t;return void 0!==n&&(e[r]=String(n)),e}),{}),o.fallback=null!==(r=e.fallback)&&void 0!==r?r:void 0,o.compression=null!==(n=e.compression)&&void 0!==n?n:void 0,o.content=null!==(i=e.content)&&void 0!==i?i:new Uint8Array,o}};const fr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={key:"",value:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.key=r.string();break;case 2:i.value=r.string();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({key:vr(e.key)?String(e.key):"",value:vr(e.value)?String(e.value):""}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){var t,r;const n={key:"",value:""};return n.key=null!==(t=e.key)&&void 0!==t?t:"",n.value=null!==(r=e.value)&&void 0!==r?r:"",n}};function hr(){return{payload:new Uint8Array,sender:void 0,signature:void 0}}const pr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.payload.length&&t.uint32(10).bytes(e.payload),void 0!==e.sender&&Qe.encode(e.sender,t.uint32(18).fork()).ldelim(),void 0!==e.signature&&Ue.encode(e.signature,t.uint32(26).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=hr();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.payload=r.bytes();break;case 2:i.sender=Qe.decode(r,r.uint32());break;case 3:i.signature=Ue.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({payload:vr(e.payload)?yr(e.payload):new Uint8Array,sender:vr(e.sender)?Qe.fromJSON(e.sender):void 0,signature:vr(e.signature)?Ue.fromJSON(e.signature):void 0}),toJSON(e){const t={};return void 0!==e.payload&&(t.payload=gr(void 0!==e.payload?e.payload:new Uint8Array)),void 0!==e.sender&&(t.sender=e.sender?Qe.toJSON(e.sender):void 0),void 0!==e.signature&&(t.signature=e.signature?Ue.toJSON(e.signature):void 0),t},fromPartial(e){var t;const r=hr();return r.payload=null!==(t=e.payload)&&void 0!==t?t:new Uint8Array,r.sender=void 0!==e.sender&&null!==e.sender?Qe.fromPartial(e.sender):void 0,r.signature=void 0!==e.signature&&null!==e.signature?Ue.fromPartial(e.signature):void 0,r}};var mr=(()=>{if("undefined"!==typeof mr)return mr;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function yr(e){if(mr.Buffer)return Uint8Array.from(mr.Buffer.from(e,"base64"));{const t=mr.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function gr(e){if(mr.Buffer)return mr.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),mr.btoa(t.join(""))}}function vr(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var br=(()=>{if("undefined"!==typeof br)return br;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());function wr(){return{createdNs:Oe.UZERO,secp256k1:void 0,publicKey:void 0}}const Sr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return e.createdNs.isZero()||t.uint32(8).uint64(e.createdNs),void 0!==e.secp256k1&&Ar.encode(e.secp256k1,t.uint32(18).fork()).ldelim(),void 0!==e.publicKey&&Ye.encode(e.publicKey,t.uint32(26).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=wr();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.createdNs=r.uint64();break;case 2:i.secp256k1=Ar.decode(r,r.uint32());break;case 3:i.publicKey=Ye.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({createdNs:Lr(e.createdNs)?Oe.fromValue(e.createdNs):Oe.UZERO,secp256k1:Lr(e.secp256k1)?Ar.fromJSON(e.secp256k1):void 0,publicKey:Lr(e.publicKey)?Ye.fromJSON(e.publicKey):void 0}),toJSON(e){const t={};return void 0!==e.createdNs&&(t.createdNs=(e.createdNs||Oe.UZERO).toString()),void 0!==e.secp256k1&&(t.secp256k1=e.secp256k1?Ar.toJSON(e.secp256k1):void 0),void 0!==e.publicKey&&(t.publicKey=e.publicKey?Ye.toJSON(e.publicKey):void 0),t},fromPartial(e){const t=wr();return t.createdNs=void 0!==e.createdNs&&null!==e.createdNs?Oe.fromValue(e.createdNs):Oe.UZERO,t.secp256k1=void 0!==e.secp256k1&&null!==e.secp256k1?Ar.fromPartial(e.secp256k1):void 0,t.publicKey=void 0!==e.publicKey&&null!==e.publicKey?Ye.fromPartial(e.publicKey):void 0,t}};function Er(){return{bytes:new Uint8Array}}const Ar={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Er();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.bytes=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({bytes:Lr(e.bytes)?Br(e.bytes):new Uint8Array}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=Ur(void 0!==e.bytes?e.bytes:new Uint8Array)),t},fromPartial(e){var t;const r=Er();return r.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,r}};const _r={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();void 0!==e.identityKey&&Sr.encode(e.identityKey,t.uint32(10).fork()).ldelim();for(const r of e.preKeys)Sr.encode(r,t.uint32(18).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={identityKey:void 0,preKeys:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.identityKey=Sr.decode(r,r.uint32());break;case 2:i.preKeys.push(Sr.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return i},fromJSON:e=>({identityKey:Lr(e.identityKey)?Sr.fromJSON(e.identityKey):void 0,preKeys:Array.isArray(null===e||void 0===e?void 0:e.preKeys)?e.preKeys.map((e=>Sr.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.identityKey&&(t.identityKey=e.identityKey?Sr.toJSON(e.identityKey):void 0),e.preKeys?t.preKeys=e.preKeys.map((e=>e?Sr.toJSON(e):void 0)):t.preKeys=[],t},fromPartial(e){var t;const r={identityKey:void 0,preKeys:[]};return r.identityKey=void 0!==e.identityKey&&null!==e.identityKey?Sr.fromPartial(e.identityKey):void 0,r.preKeys=(null===(t=e.preKeys)||void 0===t?void 0:t.map((e=>Sr.fromPartial(e))))||[],r}};function kr(){return{timestamp:Oe.UZERO,secp256k1:void 0,publicKey:void 0}}const xr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return e.timestamp.isZero()||t.uint32(8).uint64(e.timestamp),void 0!==e.secp256k1&&Nr.encode(e.secp256k1,t.uint32(18).fork()).ldelim(),void 0!==e.publicKey&&$e.encode(e.publicKey,t.uint32(26).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=kr();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.timestamp=r.uint64();break;case 2:i.secp256k1=Nr.decode(r,r.uint32());break;case 3:i.publicKey=$e.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({timestamp:Lr(e.timestamp)?Oe.fromValue(e.timestamp):Oe.UZERO,secp256k1:Lr(e.secp256k1)?Nr.fromJSON(e.secp256k1):void 0,publicKey:Lr(e.publicKey)?$e.fromJSON(e.publicKey):void 0}),toJSON(e){const t={};return void 0!==e.timestamp&&(t.timestamp=(e.timestamp||Oe.UZERO).toString()),void 0!==e.secp256k1&&(t.secp256k1=e.secp256k1?Nr.toJSON(e.secp256k1):void 0),void 0!==e.publicKey&&(t.publicKey=e.publicKey?$e.toJSON(e.publicKey):void 0),t},fromPartial(e){const t=kr();return t.timestamp=void 0!==e.timestamp&&null!==e.timestamp?Oe.fromValue(e.timestamp):Oe.UZERO,t.secp256k1=void 0!==e.secp256k1&&null!==e.secp256k1?Nr.fromPartial(e.secp256k1):void 0,t.publicKey=void 0!==e.publicKey&&null!==e.publicKey?$e.fromPartial(e.publicKey):void 0,t}};function Mr(){return{bytes:new Uint8Array}}const Nr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Mr();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.bytes=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({bytes:Lr(e.bytes)?Br(e.bytes):new Uint8Array}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=Ur(void 0!==e.bytes?e.bytes:new Uint8Array)),t},fromPartial(e){var t;const r=Mr();return r.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,r}};const Pr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();void 0!==e.identityKey&&xr.encode(e.identityKey,t.uint32(10).fork()).ldelim();for(const r of e.preKeys)xr.encode(r,t.uint32(18).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={identityKey:void 0,preKeys:[]};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.identityKey=xr.decode(r,r.uint32());break;case 2:i.preKeys.push(xr.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return i},fromJSON:e=>({identityKey:Lr(e.identityKey)?xr.fromJSON(e.identityKey):void 0,preKeys:Array.isArray(null===e||void 0===e?void 0:e.preKeys)?e.preKeys.map((e=>xr.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.identityKey&&(t.identityKey=e.identityKey?xr.toJSON(e.identityKey):void 0),e.preKeys?t.preKeys=e.preKeys.map((e=>e?xr.toJSON(e):void 0)):t.preKeys=[],t},fromPartial(e){var t;const r={identityKey:void 0,preKeys:[]};return r.identityKey=void 0!==e.identityKey&&null!==e.identityKey?xr.fromPartial(e.identityKey):void 0,r.preKeys=(null===(t=e.preKeys)||void 0===t?void 0:t.map((e=>xr.fromPartial(e))))||[],r}};const Ir={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.v1&&Pr.encode(e.v1,t.uint32(10).fork()).ldelim(),void 0!==e.v2&&_r.encode(e.v2,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={v1:void 0,v2:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.v1=Pr.decode(r,r.uint32());break;case 2:i.v2=_r.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({v1:Lr(e.v1)?Pr.fromJSON(e.v1):void 0,v2:Lr(e.v2)?_r.fromJSON(e.v2):void 0}),toJSON(e){const t={};return void 0!==e.v1&&(t.v1=e.v1?Pr.toJSON(e.v1):void 0),void 0!==e.v2&&(t.v2=e.v2?_r.toJSON(e.v2):void 0),t},fromPartial(e){const t={v1:void 0,v2:void 0};return t.v1=void 0!==e.v1&&null!==e.v1?Pr.fromPartial(e.v1):void 0,t.v2=void 0!==e.v2&&null!==e.v2?_r.fromPartial(e.v2):void 0,t}};function Rr(){return{walletPreKey:new Uint8Array,ciphertext:void 0}}const Cr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.walletPreKey.length&&t.uint32(10).bytes(e.walletPreKey),void 0!==e.ciphertext&&pt.encode(e.ciphertext,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Rr();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.walletPreKey=r.bytes();break;case 2:i.ciphertext=pt.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({walletPreKey:Lr(e.walletPreKey)?Br(e.walletPreKey):new Uint8Array,ciphertext:Lr(e.ciphertext)?pt.fromJSON(e.ciphertext):void 0}),toJSON(e){const t={};return void 0!==e.walletPreKey&&(t.walletPreKey=Ur(void 0!==e.walletPreKey?e.walletPreKey:new Uint8Array)),void 0!==e.ciphertext&&(t.ciphertext=e.ciphertext?pt.toJSON(e.ciphertext):void 0),t},fromPartial(e){var t;const r=Rr();return r.walletPreKey=null!==(t=e.walletPreKey)&&void 0!==t?t:new Uint8Array,r.ciphertext=void 0!==e.ciphertext&&null!==e.ciphertext?pt.fromPartial(e.ciphertext):void 0,r}};const Or={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.v1&&Cr.encode(e.v1,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={v1:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.v1=Cr.decode(r,r.uint32());else r.skipType(7&e)}return i},fromJSON:e=>({v1:Lr(e.v1)?Cr.fromJSON(e.v1):void 0}),toJSON(e){const t={};return void 0!==e.v1&&(t.v1=e.v1?Cr.toJSON(e.v1):void 0),t},fromPartial(e){const t={v1:void 0};return t.v1=void 0!==e.v1&&null!==e.v1?Cr.fromPartial(e.v1):void 0,t}};var Tr=(()=>{if("undefined"!==typeof Tr)return Tr;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Br(e){if(Tr.Buffer)return Uint8Array.from(Tr.Buffer.from(e,"base64"));{const t=Tr.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function Ur(e){if(Tr.Buffer)return Tr.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),Tr.btoa(t.join(""))}}function Lr(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());const Dr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.keyBundle&&rt.encode(e.keyBundle,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={keyBundle:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.keyBundle=rt.decode(r,r.uint32());else r.skipType(7&e)}return i},fromJSON:e=>({keyBundle:qr(e.keyBundle)?rt.fromJSON(e.keyBundle):void 0}),toJSON(e){const t={};return void 0!==e.keyBundle&&(t.keyBundle=e.keyBundle?rt.toJSON(e.keyBundle):void 0),t},fromPartial(e){const t={keyBundle:void 0};return t.keyBundle=void 0!==e.keyBundle&&null!==e.keyBundle?rt.fromPartial(e.keyBundle):void 0,t}};const Kr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.keyBundle&&Qe.encode(e.keyBundle,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={keyBundle:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.keyBundle=Qe.decode(r,r.uint32());else r.skipType(7&e)}return i},fromJSON:e=>({keyBundle:qr(e.keyBundle)?Qe.fromJSON(e.keyBundle):void 0}),toJSON(e){const t={};return void 0!==e.keyBundle&&(t.keyBundle=e.keyBundle?Qe.toJSON(e.keyBundle):void 0),t},fromPartial(e){const t={keyBundle:void 0};return t.keyBundle=void 0!==e.keyBundle&&null!==e.keyBundle?Qe.fromPartial(e.keyBundle):void 0,t}};const Fr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.v1&&Dr.encode(e.v1,t.uint32(10).fork()).ldelim(),void 0!==e.v2&&Kr.encode(e.v2,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={v1:void 0,v2:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.v1=Dr.decode(r,r.uint32());break;case 2:i.v2=Kr.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({v1:qr(e.v1)?Dr.fromJSON(e.v1):void 0,v2:qr(e.v2)?Kr.fromJSON(e.v2):void 0}),toJSON(e){const t={};return void 0!==e.v1&&(t.v1=e.v1?Dr.toJSON(e.v1):void 0),void 0!==e.v2&&(t.v2=e.v2?Kr.toJSON(e.v2):void 0),t},fromPartial(e){const t={v1:void 0,v2:void 0};return t.v1=void 0!==e.v1&&null!==e.v1?Dr.fromPartial(e.v1):void 0,t.v2=void 0!==e.v2&&null!==e.v2?Kr.fromPartial(e.v2):void 0,t}};function qr(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var zr,jr,Jr;function Gr(e){switch(e){case 0:case"ERROR_CODE_UNSPECIFIED":return zr.ERROR_CODE_UNSPECIFIED;case 1:case"ERROR_CODE_INVALID_INPUT":return zr.ERROR_CODE_INVALID_INPUT;case 2:case"ERROR_CODE_NO_MATCHING_PREKEY":return zr.ERROR_CODE_NO_MATCHING_PREKEY;default:return zr.UNRECOGNIZED}}function Hr(e){switch(e){case 0:case"JOB_TYPE_UNSPECIFIED":return jr.JOB_TYPE_UNSPECIFIED;case 1:case"JOB_TYPE_REFRESH_V1":return jr.JOB_TYPE_REFRESH_V1;case 2:case"JOB_TYPE_REFRESH_V2":return jr.JOB_TYPE_REFRESH_V2;case 3:case"JOB_TYPE_REFRESH_PPPP":return jr.JOB_TYPE_REFRESH_PPPP;default:return jr.UNRECOGNIZED}}function Vr(e){switch(e){case jr.JOB_TYPE_UNSPECIFIED:return"JOB_TYPE_UNSPECIFIED";case jr.JOB_TYPE_REFRESH_V1:return"JOB_TYPE_REFRESH_V1";case jr.JOB_TYPE_REFRESH_V2:return"JOB_TYPE_REFRESH_V2";case jr.JOB_TYPE_REFRESH_PPPP:return"JOB_TYPE_REFRESH_PPPP";case jr.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function Wr(e){switch(e){case 0:case"KEYSTORE_STATUS_UNSPECIFIED":return Jr.KEYSTORE_STATUS_UNSPECIFIED;case 1:case"KEYSTORE_STATUS_UNINITIALIZED":return Jr.KEYSTORE_STATUS_UNINITIALIZED;case 2:case"KEYSTORE_STATUS_INITIALIZED":return Jr.KEYSTORE_STATUS_INITIALIZED;default:return Jr.UNRECOGNIZED}}!function(e){e[e.ERROR_CODE_UNSPECIFIED=0]="ERROR_CODE_UNSPECIFIED",e[e.ERROR_CODE_INVALID_INPUT=1]="ERROR_CODE_INVALID_INPUT",e[e.ERROR_CODE_NO_MATCHING_PREKEY=2]="ERROR_CODE_NO_MATCHING_PREKEY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(zr||(zr={})),function(e){e[e.JOB_TYPE_UNSPECIFIED=0]="JOB_TYPE_UNSPECIFIED",e[e.JOB_TYPE_REFRESH_V1=1]="JOB_TYPE_REFRESH_V1",e[e.JOB_TYPE_REFRESH_V2=2]="JOB_TYPE_REFRESH_V2",e[e.JOB_TYPE_REFRESH_PPPP=3]="JOB_TYPE_REFRESH_PPPP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(jr||(jr={})),function(e){e[e.KEYSTORE_STATUS_UNSPECIFIED=0]="KEYSTORE_STATUS_UNSPECIFIED",e[e.KEYSTORE_STATUS_UNINITIALIZED=1]="KEYSTORE_STATUS_UNINITIALIZED",e[e.KEYSTORE_STATUS_INITIALIZED=2]="KEYSTORE_STATUS_INITIALIZED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Jr||(Jr={}));const Zr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.message&&t.uint32(10).string(e.message),0!==e.code&&t.uint32(16).int32(e.code),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={message:"",code:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.message=r.string();break;case 2:i.code=r.int32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({message:pi(e.message)?String(e.message):"",code:pi(e.code)?Gr(e.code):0}),toJSON(e){const t={};return void 0!==e.message&&(t.message=e.message),void 0!==e.code&&(t.code=function(e){switch(e){case zr.ERROR_CODE_UNSPECIFIED:return"ERROR_CODE_UNSPECIFIED";case zr.ERROR_CODE_INVALID_INPUT:return"ERROR_CODE_INVALID_INPUT";case zr.ERROR_CODE_NO_MATCHING_PREKEY:return"ERROR_CODE_NO_MATCHING_PREKEY";case zr.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.code)),t},fromPartial(e){var t,r;const n={message:"",code:0};return n.message=null!==(t=e.message)&&void 0!==t?t:"",n.code=null!==(r=e.code)&&void 0!==r?r:0,n}};const Yr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.requests)Xr.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={requests:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.requests.push(Xr.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({requests:Array.isArray(null===e||void 0===e?void 0:e.requests)?e.requests.map((e=>Xr.fromJSON(e))):[]}),toJSON(e){const t={};return e.requests?t.requests=e.requests.map((e=>e?Xr.toJSON(e):void 0)):t.requests=[],t},fromPartial(e){var t;const r={requests:[]};return r.requests=(null===(t=e.requests)||void 0===t?void 0:t.map((e=>Xr.fromPartial(e))))||[],r}};function Qr(){return{payload:void 0,peerKeys:void 0,headerBytes:new Uint8Array,isSender:!1}}const Xr={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.payload&&pt.encode(e.payload,t.uint32(10).fork()).ldelim(),void 0!==e.peerKeys&&rt.encode(e.peerKeys,t.uint32(18).fork()).ldelim(),0!==e.headerBytes.length&&t.uint32(26).bytes(e.headerBytes),!0===e.isSender&&t.uint32(32).bool(e.isSender),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Qr();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.payload=pt.decode(r,r.uint32());break;case 2:i.peerKeys=rt.decode(r,r.uint32());break;case 3:i.headerBytes=r.bytes();break;case 4:i.isSender=r.bool();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({payload:pi(e.payload)?pt.fromJSON(e.payload):void 0,peerKeys:pi(e.peerKeys)?rt.fromJSON(e.peerKeys):void 0,headerBytes:pi(e.headerBytes)?di(e.headerBytes):new Uint8Array,isSender:!!pi(e.isSender)&&Boolean(e.isSender)}),toJSON(e){const t={};return void 0!==e.payload&&(t.payload=e.payload?pt.toJSON(e.payload):void 0),void 0!==e.peerKeys&&(t.peerKeys=e.peerKeys?rt.toJSON(e.peerKeys):void 0),void 0!==e.headerBytes&&(t.headerBytes=fi(void 0!==e.headerBytes?e.headerBytes:new Uint8Array)),void 0!==e.isSender&&(t.isSender=e.isSender),t},fromPartial(e){var t,r;const n=Qr();return n.payload=void 0!==e.payload&&null!==e.payload?pt.fromPartial(e.payload):void 0,n.peerKeys=void 0!==e.peerKeys&&null!==e.peerKeys?rt.fromPartial(e.peerKeys):void 0,n.headerBytes=null!==(t=e.headerBytes)&&void 0!==t?t:new Uint8Array,n.isSender=null!==(r=e.isSender)&&void 0!==r&&r,n}};const $r={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.responses)en.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={responses:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.responses.push(en.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({responses:Array.isArray(null===e||void 0===e?void 0:e.responses)?e.responses.map((e=>en.fromJSON(e))):[]}),toJSON(e){const t={};return e.responses?t.responses=e.responses.map((e=>e?en.toJSON(e):void 0)):t.responses=[],t},fromPartial(e){var t;const r={responses:[]};return r.responses=(null===(t=e.responses)||void 0===t?void 0:t.map((e=>en.fromPartial(e))))||[],r}};const en={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.result&&rn.encode(e.result,t.uint32(10).fork()).ldelim(),void 0!==e.error&&Zr.encode(e.error,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={result:void 0,error:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.result=rn.decode(r,r.uint32());break;case 2:i.error=Zr.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({result:pi(e.result)?rn.fromJSON(e.result):void 0,error:pi(e.error)?Zr.fromJSON(e.error):void 0}),toJSON(e){const t={};return void 0!==e.result&&(t.result=e.result?rn.toJSON(e.result):void 0),void 0!==e.error&&(t.error=e.error?Zr.toJSON(e.error):void 0),t},fromPartial(e){const t={result:void 0,error:void 0};return t.result=void 0!==e.result&&null!==e.result?rn.fromPartial(e.result):void 0,t.error=void 0!==e.error&&null!==e.error?Zr.fromPartial(e.error):void 0,t}};function tn(){return{decrypted:new Uint8Array}}const rn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.decrypted.length&&t.uint32(10).bytes(e.decrypted),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=tn();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.decrypted=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({decrypted:pi(e.decrypted)?di(e.decrypted):new Uint8Array}),toJSON(e){const t={};return void 0!==e.decrypted&&(t.decrypted=fi(void 0!==e.decrypted?e.decrypted:new Uint8Array)),t},fromPartial(e){var t;const r=tn();return r.decrypted=null!==(t=e.decrypted)&&void 0!==t?t:new Uint8Array,r}};const nn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.requests)sn.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={requests:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.requests.push(sn.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({requests:Array.isArray(null===e||void 0===e?void 0:e.requests)?e.requests.map((e=>sn.fromJSON(e))):[]}),toJSON(e){const t={};return e.requests?t.requests=e.requests.map((e=>e?sn.toJSON(e):void 0)):t.requests=[],t},fromPartial(e){var t;const r={requests:[]};return r.requests=(null===(t=e.requests)||void 0===t?void 0:t.map((e=>sn.fromPartial(e))))||[],r}};function on(){return{payload:void 0,headerBytes:new Uint8Array,contentTopic:""}}const sn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.payload&&pt.encode(e.payload,t.uint32(10).fork()).ldelim(),0!==e.headerBytes.length&&t.uint32(18).bytes(e.headerBytes),""!==e.contentTopic&&t.uint32(26).string(e.contentTopic),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=on();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.payload=pt.decode(r,r.uint32());break;case 2:i.headerBytes=r.bytes();break;case 3:i.contentTopic=r.string();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({payload:pi(e.payload)?pt.fromJSON(e.payload):void 0,headerBytes:pi(e.headerBytes)?di(e.headerBytes):new Uint8Array,contentTopic:pi(e.contentTopic)?String(e.contentTopic):""}),toJSON(e){const t={};return void 0!==e.payload&&(t.payload=e.payload?pt.toJSON(e.payload):void 0),void 0!==e.headerBytes&&(t.headerBytes=fi(void 0!==e.headerBytes?e.headerBytes:new Uint8Array)),void 0!==e.contentTopic&&(t.contentTopic=e.contentTopic),t},fromPartial(e){var t,r;const n=on();return n.payload=void 0!==e.payload&&null!==e.payload?pt.fromPartial(e.payload):void 0,n.headerBytes=null!==(t=e.headerBytes)&&void 0!==t?t:new Uint8Array,n.contentTopic=null!==(r=e.contentTopic)&&void 0!==r?r:"",n}};const an={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.requests)un.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={requests:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.requests.push(un.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({requests:Array.isArray(null===e||void 0===e?void 0:e.requests)?e.requests.map((e=>un.fromJSON(e))):[]}),toJSON(e){const t={};return e.requests?t.requests=e.requests.map((e=>e?un.toJSON(e):void 0)):t.requests=[],t},fromPartial(e){var t;const r={requests:[]};return r.requests=(null===(t=e.requests)||void 0===t?void 0:t.map((e=>un.fromPartial(e))))||[],r}};function cn(){return{recipient:void 0,payload:new Uint8Array,headerBytes:new Uint8Array}}const un={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.recipient&&rt.encode(e.recipient,t.uint32(10).fork()).ldelim(),0!==e.payload.length&&t.uint32(18).bytes(e.payload),0!==e.headerBytes.length&&t.uint32(26).bytes(e.headerBytes),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=cn();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.recipient=rt.decode(r,r.uint32());break;case 2:i.payload=r.bytes();break;case 3:i.headerBytes=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({recipient:pi(e.recipient)?rt.fromJSON(e.recipient):void 0,payload:pi(e.payload)?di(e.payload):new Uint8Array,headerBytes:pi(e.headerBytes)?di(e.headerBytes):new Uint8Array}),toJSON(e){const t={};return void 0!==e.recipient&&(t.recipient=e.recipient?rt.toJSON(e.recipient):void 0),void 0!==e.payload&&(t.payload=fi(void 0!==e.payload?e.payload:new Uint8Array)),void 0!==e.headerBytes&&(t.headerBytes=fi(void 0!==e.headerBytes?e.headerBytes:new Uint8Array)),t},fromPartial(e){var t,r;const n=cn();return n.recipient=void 0!==e.recipient&&null!==e.recipient?rt.fromPartial(e.recipient):void 0,n.payload=null!==(t=e.payload)&&void 0!==t?t:new Uint8Array,n.headerBytes=null!==(r=e.headerBytes)&&void 0!==r?r:new Uint8Array,n}};const ln={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.responses)dn.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={responses:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.responses.push(dn.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({responses:Array.isArray(null===e||void 0===e?void 0:e.responses)?e.responses.map((e=>dn.fromJSON(e))):[]}),toJSON(e){const t={};return e.responses?t.responses=e.responses.map((e=>e?dn.toJSON(e):void 0)):t.responses=[],t},fromPartial(e){var t;const r={responses:[]};return r.responses=(null===(t=e.responses)||void 0===t?void 0:t.map((e=>dn.fromPartial(e))))||[],r}};const dn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.result&&hn.encode(e.result,t.uint32(10).fork()).ldelim(),void 0!==e.error&&Zr.encode(e.error,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={result:void 0,error:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.result=hn.decode(r,r.uint32());break;case 2:i.error=Zr.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({result:pi(e.result)?hn.fromJSON(e.result):void 0,error:pi(e.error)?Zr.fromJSON(e.error):void 0}),toJSON(e){const t={};return void 0!==e.result&&(t.result=e.result?hn.toJSON(e.result):void 0),void 0!==e.error&&(t.error=e.error?Zr.toJSON(e.error):void 0),t},fromPartial(e){const t={result:void 0,error:void 0};return t.result=void 0!==e.result&&null!==e.result?hn.fromPartial(e.result):void 0,t.error=void 0!==e.error&&null!==e.error?Zr.fromPartial(e.error):void 0,t}};function fn(){return{encrypted:void 0,senderHmac:new Uint8Array}}const hn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.encrypted&&pt.encode(e.encrypted,t.uint32(10).fork()).ldelim(),0!==e.senderHmac.length&&t.uint32(18).bytes(e.senderHmac),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=fn();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.encrypted=pt.decode(r,r.uint32());break;case 2:i.senderHmac=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({encrypted:pi(e.encrypted)?pt.fromJSON(e.encrypted):void 0,senderHmac:pi(e.senderHmac)?di(e.senderHmac):new Uint8Array}),toJSON(e){const t={};return void 0!==e.encrypted&&(t.encrypted=e.encrypted?pt.toJSON(e.encrypted):void 0),void 0!==e.senderHmac&&(t.senderHmac=fi(void 0!==e.senderHmac?e.senderHmac:new Uint8Array)),t},fromPartial(e){var t;const r=fn();return r.encrypted=void 0!==e.encrypted&&null!==e.encrypted?pt.fromPartial(e.encrypted):void 0,r.senderHmac=null!==(t=e.senderHmac)&&void 0!==t?t:new Uint8Array,r}};const pn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.requests)yn.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={requests:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.requests.push(yn.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({requests:Array.isArray(null===e||void 0===e?void 0:e.requests)?e.requests.map((e=>yn.fromJSON(e))):[]}),toJSON(e){const t={};return e.requests?t.requests=e.requests.map((e=>e?yn.toJSON(e):void 0)):t.requests=[],t},fromPartial(e){var t;const r={requests:[]};return r.requests=(null===(t=e.requests)||void 0===t?void 0:t.map((e=>yn.fromPartial(e))))||[],r}};function mn(){return{payload:new Uint8Array,headerBytes:new Uint8Array,contentTopic:""}}const yn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.payload.length&&t.uint32(10).bytes(e.payload),0!==e.headerBytes.length&&t.uint32(18).bytes(e.headerBytes),""!==e.contentTopic&&t.uint32(26).string(e.contentTopic),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=mn();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.payload=r.bytes();break;case 2:i.headerBytes=r.bytes();break;case 3:i.contentTopic=r.string();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({payload:pi(e.payload)?di(e.payload):new Uint8Array,headerBytes:pi(e.headerBytes)?di(e.headerBytes):new Uint8Array,contentTopic:pi(e.contentTopic)?String(e.contentTopic):""}),toJSON(e){const t={};return void 0!==e.payload&&(t.payload=fi(void 0!==e.payload?e.payload:new Uint8Array)),void 0!==e.headerBytes&&(t.headerBytes=fi(void 0!==e.headerBytes?e.headerBytes:new Uint8Array)),void 0!==e.contentTopic&&(t.contentTopic=e.contentTopic),t},fromPartial(e){var t,r,n;const i=mn();return i.payload=null!==(t=e.payload)&&void 0!==t?t:new Uint8Array,i.headerBytes=null!==(r=e.headerBytes)&&void 0!==r?r:new Uint8Array,i.contentTopic=null!==(n=e.contentTopic)&&void 0!==n?n:"",i}};const gn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.requests)bn.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={requests:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.requests.push(bn.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({requests:Array.isArray(null===e||void 0===e?void 0:e.requests)?e.requests.map((e=>bn.fromJSON(e))):[]}),toJSON(e){const t={};return e.requests?t.requests=e.requests.map((e=>e?bn.toJSON(e):void 0)):t.requests=[],t},fromPartial(e){var t;const r={requests:[]};return r.requests=(null===(t=e.requests)||void 0===t?void 0:t.map((e=>bn.fromPartial(e))))||[],r}};function vn(){return{payload:new Uint8Array}}const bn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.payload.length&&t.uint32(10).bytes(e.payload),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=vn();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.payload=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({payload:pi(e.payload)?di(e.payload):new Uint8Array}),toJSON(e){const t={};return void 0!==e.payload&&(t.payload=fi(void 0!==e.payload?e.payload:new Uint8Array)),t},fromPartial(e){var t;const r=vn();return r.payload=null!==(t=e.payload)&&void 0!==t?t:new Uint8Array,r}};const wn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.responses)Sn.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={responses:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.responses.push(Sn.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({responses:Array.isArray(null===e||void 0===e?void 0:e.responses)?e.responses.map((e=>Sn.fromJSON(e))):[]}),toJSON(e){const t={};return e.responses?t.responses=e.responses.map((e=>e?Sn.toJSON(e):void 0)):t.responses=[],t},fromPartial(e){var t;const r={responses:[]};return r.responses=(null===(t=e.responses)||void 0===t?void 0:t.map((e=>Sn.fromPartial(e))))||[],r}};const Sn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.result&&An.encode(e.result,t.uint32(10).fork()).ldelim(),void 0!==e.error&&Zr.encode(e.error,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={result:void 0,error:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.result=An.decode(r,r.uint32());break;case 2:i.error=Zr.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({result:pi(e.result)?An.fromJSON(e.result):void 0,error:pi(e.error)?Zr.fromJSON(e.error):void 0}),toJSON(e){const t={};return void 0!==e.result&&(t.result=e.result?An.toJSON(e.result):void 0),void 0!==e.error&&(t.error=e.error?Zr.toJSON(e.error):void 0),t},fromPartial(e){const t={result:void 0,error:void 0};return t.result=void 0!==e.result&&null!==e.result?An.fromPartial(e.result):void 0,t.error=void 0!==e.error&&null!==e.error?Zr.fromPartial(e.error):void 0,t}};function En(){return{encrypted:new Uint8Array}}const An={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.encrypted.length&&t.uint32(10).bytes(e.encrypted),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=En();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.encrypted=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({encrypted:pi(e.encrypted)?di(e.encrypted):new Uint8Array}),toJSON(e){const t={};return void 0!==e.encrypted&&(t.encrypted=fi(void 0!==e.encrypted?e.encrypted:new Uint8Array)),t},fromPartial(e){var t;const r=En();return r.encrypted=null!==(t=e.encrypted)&&void 0!==t?t:new Uint8Array,r}};const _n={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.requests)xn.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={requests:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.requests.push(xn.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({requests:Array.isArray(null===e||void 0===e?void 0:e.requests)?e.requests.map((e=>xn.fromJSON(e))):[]}),toJSON(e){const t={};return e.requests?t.requests=e.requests.map((e=>e?xn.toJSON(e):void 0)):t.requests=[],t},fromPartial(e){var t;const r={requests:[]};return r.requests=(null===(t=e.requests)||void 0===t?void 0:t.map((e=>xn.fromPartial(e))))||[],r}};function kn(){return{payload:new Uint8Array}}const xn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.payload.length&&t.uint32(10).bytes(e.payload),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=kn();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.payload=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({payload:pi(e.payload)?di(e.payload):new Uint8Array}),toJSON(e){const t={};return void 0!==e.payload&&(t.payload=fi(void 0!==e.payload?e.payload:new Uint8Array)),t},fromPartial(e){var t;const r=kn();return r.payload=null!==(t=e.payload)&&void 0!==t?t:new Uint8Array,r}};const Mn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.identifier&&t.uint32(10).string(e.identifier),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={identifier:""};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.identifier=r.string();else r.skipType(7&e)}return i},fromJSON:e=>({identifier:pi(e.identifier)?String(e.identifier):""}),toJSON(e){const t={};return void 0!==e.identifier&&(t.identifier=e.identifier),t},fromPartial(e){var t;const r={identifier:""};return r.identifier=null!==(t=e.identifier)&&void 0!==t?t:"",r}};function Nn(){return{context:void 0,recipient:void 0,createdNs:Oe.UZERO,consentProof:void 0}}const Pn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.context&&It.encode(e.context,t.uint32(10).fork()).ldelim(),void 0!==e.recipient&&Qe.encode(e.recipient,t.uint32(18).fork()).ldelim(),e.createdNs.isZero()||t.uint32(24).uint64(e.createdNs),void 0!==e.consentProof&&Dt.encode(e.consentProof,t.uint32(34).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Nn();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.context=It.decode(r,r.uint32());break;case 2:i.recipient=Qe.decode(r,r.uint32());break;case 3:i.createdNs=r.uint64();break;case 4:i.consentProof=Dt.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({context:pi(e.context)?It.fromJSON(e.context):void 0,recipient:pi(e.recipient)?Qe.fromJSON(e.recipient):void 0,createdNs:pi(e.createdNs)?Oe.fromValue(e.createdNs):Oe.UZERO,consentProof:pi(e.consentProof)?Dt.fromJSON(e.consentProof):void 0}),toJSON(e){const t={};return void 0!==e.context&&(t.context=e.context?It.toJSON(e.context):void 0),void 0!==e.recipient&&(t.recipient=e.recipient?Qe.toJSON(e.recipient):void 0),void 0!==e.createdNs&&(t.createdNs=(e.createdNs||Oe.UZERO).toString()),void 0!==e.consentProof&&(t.consentProof=e.consentProof?Dt.toJSON(e.consentProof):void 0),t},fromPartial(e){const t=Nn();return t.context=void 0!==e.context&&null!==e.context?It.fromPartial(e.context):void 0,t.recipient=void 0!==e.recipient&&null!==e.recipient?Qe.fromPartial(e.recipient):void 0,t.createdNs=void 0!==e.createdNs&&null!==e.createdNs?Oe.fromValue(e.createdNs):Oe.UZERO,t.consentProof=void 0!==e.consentProof&&null!==e.consentProof?Dt.fromPartial(e.consentProof):void 0,t}};function In(){return{conversation:void 0,payload:new Uint8Array}}const Rn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.conversation&&Jt.encode(e.conversation,t.uint32(10).fork()).ldelim(),0!==e.payload.length&&t.uint32(18).bytes(e.payload),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=In();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.conversation=Jt.decode(r,r.uint32());break;case 2:i.payload=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({conversation:pi(e.conversation)?Jt.fromJSON(e.conversation):void 0,payload:pi(e.payload)?di(e.payload):new Uint8Array}),toJSON(e){const t={};return void 0!==e.conversation&&(t.conversation=e.conversation?Jt.toJSON(e.conversation):void 0),void 0!==e.payload&&(t.payload=fi(void 0!==e.payload?e.payload:new Uint8Array)),t},fromPartial(e){var t;const r=In();return r.conversation=void 0!==e.conversation&&null!==e.conversation?Jt.fromPartial(e.conversation):void 0,r.payload=null!==(t=e.payload)&&void 0!==t?t:new Uint8Array,r}};const Cn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.requests)Tn.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={requests:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.requests.push(Tn.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({requests:Array.isArray(null===e||void 0===e?void 0:e.requests)?e.requests.map((e=>Tn.fromJSON(e))):[]}),toJSON(e){const t={};return e.requests?t.requests=e.requests.map((e=>e?Tn.toJSON(e):void 0)):t.requests=[],t},fromPartial(e){var t;const r={requests:[]};return r.requests=(null===(t=e.requests)||void 0===t?void 0:t.map((e=>Tn.fromPartial(e))))||[],r}};function On(){return{contentTopic:"",timestampNs:Oe.UZERO,payload:new Uint8Array}}const Tn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.contentTopic&&t.uint32(10).string(e.contentTopic),e.timestampNs.isZero()||t.uint32(16).uint64(e.timestampNs),0!==e.payload.length&&t.uint32(26).bytes(e.payload),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=On();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.contentTopic=r.string();break;case 2:i.timestampNs=r.uint64();break;case 3:i.payload=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({contentTopic:pi(e.contentTopic)?String(e.contentTopic):"",timestampNs:pi(e.timestampNs)?Oe.fromValue(e.timestampNs):Oe.UZERO,payload:pi(e.payload)?di(e.payload):new Uint8Array}),toJSON(e){const t={};return void 0!==e.contentTopic&&(t.contentTopic=e.contentTopic),void 0!==e.timestampNs&&(t.timestampNs=(e.timestampNs||Oe.UZERO).toString()),void 0!==e.payload&&(t.payload=fi(void 0!==e.payload?e.payload:new Uint8Array)),t},fromPartial(e){var t,r;const n=On();return n.contentTopic=null!==(t=e.contentTopic)&&void 0!==t?t:"",n.timestampNs=void 0!==e.timestampNs&&null!==e.timestampNs?Oe.fromValue(e.timestampNs):Oe.UZERO,n.payload=null!==(r=e.payload)&&void 0!==r?r:new Uint8Array,n}};const Bn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.responses)Un.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={responses:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.responses.push(Un.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({responses:Array.isArray(null===e||void 0===e?void 0:e.responses)?e.responses.map((e=>Un.fromJSON(e))):[]}),toJSON(e){const t={};return e.responses?t.responses=e.responses.map((e=>e?Un.toJSON(e):void 0)):t.responses=[],t},fromPartial(e){var t;const r={responses:[]};return r.responses=(null===(t=e.responses)||void 0===t?void 0:t.map((e=>Un.fromPartial(e))))||[],r}};const Un={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.result&&Ln.encode(e.result,t.uint32(10).fork()).ldelim(),void 0!==e.error&&Zr.encode(e.error,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={result:void 0,error:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.result=Ln.decode(r,r.uint32());break;case 2:i.error=Zr.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({result:pi(e.result)?Ln.fromJSON(e.result):void 0,error:pi(e.error)?Zr.fromJSON(e.error):void 0}),toJSON(e){const t={};return void 0!==e.result&&(t.result=e.result?Ln.toJSON(e.result):void 0),void 0!==e.error&&(t.error=e.error?Zr.toJSON(e.error):void 0),t},fromPartial(e){const t={result:void 0,error:void 0};return t.result=void 0!==e.result&&null!==e.result?Ln.fromPartial(e.result):void 0,t.error=void 0!==e.error&&null!==e.error?Zr.fromPartial(e.error):void 0,t}};const Ln={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.conversation&&Jt.encode(e.conversation,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={conversation:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.conversation=Jt.decode(r,r.uint32());else r.skipType(7&e)}return i},fromJSON:e=>({conversation:pi(e.conversation)?Jt.fromJSON(e.conversation):void 0}),toJSON(e){const t={};return void 0!==e.conversation&&(t.conversation=e.conversation?Jt.toJSON(e.conversation):void 0),t},fromPartial(e){const t={conversation:void 0};return t.conversation=void 0!==e.conversation&&null!==e.conversation?Jt.fromPartial(e.conversation):void 0,t}};const Dn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.timestampNs&&t.uint32(8).uint64(e.timestampNs),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={timestampNs:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.timestampNs=r.uint64();else r.skipType(7&e)}return i},fromJSON:e=>({timestampNs:pi(e.timestampNs)?Oe.fromValue(e.timestampNs):void 0}),toJSON(e){const t={};return void 0!==e.timestampNs&&(t.timestampNs=(e.timestampNs||void 0).toString()),t},fromPartial(e){const t={timestampNs:void 0};return t.timestampNs=void 0!==e.timestampNs&&null!==e.timestampNs?Oe.fromValue(e.timestampNs):void 0,t}};const Kn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.conversations)Jt.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={conversations:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.conversations.push(Jt.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({conversations:Array.isArray(null===e||void 0===e?void 0:e.conversations)?e.conversations.map((e=>Jt.fromJSON(e))):[]}),toJSON(e){const t={};return e.conversations?t.conversations=e.conversations.map((e=>e?Jt.toJSON(e):void 0)):t.conversations=[],t},fromPartial(e){var t;const r={conversations:[]};return r.conversations=(null===(t=e.conversations)||void 0===t?void 0:t.map((e=>Jt.fromPartial(e))))||[],r}};const Fn={encode(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create()},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={};for(;r.pos<n;){const e=r.uint32();r.skipType(7&e)}return i},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})};const qn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.conversations)Jt.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={conversations:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.conversations.push(Jt.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({conversations:Array.isArray(null===e||void 0===e?void 0:e.conversations)?e.conversations.map((e=>Jt.fromJSON(e))):[]}),toJSON(e){const t={};return e.conversations?t.conversations=e.conversations.map((e=>e?Jt.toJSON(e):void 0)):t.conversations=[],t},fromPartial(e){var t;const r={conversations:[]};return r.conversations=(null===(t=e.conversations)||void 0===t?void 0:t.map((e=>Jt.fromPartial(e))))||[],r}};const zn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.walletAddress&&t.uint32(10).string(e.walletAddress),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={walletAddress:""};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.walletAddress=r.string();else r.skipType(7&e)}return i},fromJSON:e=>({walletAddress:pi(e.walletAddress)?String(e.walletAddress):""}),toJSON(e){const t={};return void 0!==e.walletAddress&&(t.walletAddress=e.walletAddress),t},fromPartial(e){var t;const r={walletAddress:""};return r.walletAddress=null!==(t=e.walletAddress)&&void 0!==t?t:"",r}};const jn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.status&&t.uint32(8).int32(e.status),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={status:0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.status=r.int32();else r.skipType(7&e)}return i},fromJSON:e=>({status:pi(e.status)?Wr(e.status):0}),toJSON(e){const t={};return void 0!==e.status&&(t.status=function(e){switch(e){case Jr.KEYSTORE_STATUS_UNSPECIFIED:return"KEYSTORE_STATUS_UNSPECIFIED";case Jr.KEYSTORE_STATUS_UNINITIALIZED:return"KEYSTORE_STATUS_UNINITIALIZED";case Jr.KEYSTORE_STATUS_INITIALIZED:return"KEYSTORE_STATUS_INITIALIZED";case Jr.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.status)),t},fromPartial(e){var t;const r={status:0};return r.status=null!==(t=e.status)&&void 0!==t?t:0,r}};const Jn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.v1&&Pr.encode(e.v1,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={v1:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.v1=Pr.decode(r,r.uint32());else r.skipType(7&e)}return i},fromJSON:e=>({v1:pi(e.v1)?Pr.fromJSON(e.v1):void 0}),toJSON(e){const t={};return void 0!==e.v1&&(t.v1=e.v1?Pr.toJSON(e.v1):void 0),t},fromPartial(e){const t={v1:void 0};return t.v1=void 0!==e.v1&&null!==e.v1?Pr.fromPartial(e.v1):void 0,t}};const Gn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.error&&Zr.encode(e.error,t.uint32(10).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={error:void 0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.error=Zr.decode(r,r.uint32());else r.skipType(7&e)}return i},fromJSON:e=>({error:pi(e.error)?Zr.fromJSON(e.error):void 0}),toJSON(e){const t={};return void 0!==e.error&&(t.error=e.error?Zr.toJSON(e.error):void 0),t},fromPartial(e){const t={error:void 0};return t.error=void 0!==e.error&&null!==e.error?Zr.fromPartial(e.error):void 0,t}};function Hn(){return{digest:new Uint8Array,identityKey:void 0,prekeyIndex:void 0}}const Vn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.digest.length&&t.uint32(10).bytes(e.digest),void 0!==e.identityKey&&t.uint32(16).bool(e.identityKey),void 0!==e.prekeyIndex&&t.uint32(24).uint32(e.prekeyIndex),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Hn();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.digest=r.bytes();break;case 2:i.identityKey=r.bool();break;case 3:i.prekeyIndex=r.uint32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({digest:pi(e.digest)?di(e.digest):new Uint8Array,identityKey:pi(e.identityKey)?Boolean(e.identityKey):void 0,prekeyIndex:pi(e.prekeyIndex)?Number(e.prekeyIndex):void 0}),toJSON(e){const t={};return void 0!==e.digest&&(t.digest=fi(void 0!==e.digest?e.digest:new Uint8Array)),void 0!==e.identityKey&&(t.identityKey=e.identityKey),void 0!==e.prekeyIndex&&(t.prekeyIndex=Math.round(e.prekeyIndex)),t},fromPartial(e){var t,r,n;const i=Hn();return i.digest=null!==(t=e.digest)&&void 0!==t?t:new Uint8Array,i.identityKey=null!==(r=e.identityKey)&&void 0!==r?r:void 0,i.prekeyIndex=null!==(n=e.prekeyIndex)&&void 0!==n?n:void 0,i}};const Wn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.jobType&&t.uint32(8).int32(e.jobType),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={jobType:0};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.jobType=r.int32();else r.skipType(7&e)}return i},fromJSON:e=>({jobType:pi(e.jobType)?Hr(e.jobType):0}),toJSON(e){const t={};return void 0!==e.jobType&&(t.jobType=Vr(e.jobType)),t},fromPartial(e){var t;const r={jobType:0};return r.jobType=null!==(t=e.jobType)&&void 0!==t?t:0,r}};function Zn(){return{lastRunNs:Oe.ZERO}}const Yn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return e.lastRunNs.isZero()||t.uint32(8).int64(e.lastRunNs),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Zn();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.lastRunNs=r.int64();else r.skipType(7&e)}return i},fromJSON:e=>({lastRunNs:pi(e.lastRunNs)?Oe.fromValue(e.lastRunNs):Oe.ZERO}),toJSON(e){const t={};return void 0!==e.lastRunNs&&(t.lastRunNs=(e.lastRunNs||Oe.ZERO).toString()),t},fromPartial(e){const t=Zn();return t.lastRunNs=void 0!==e.lastRunNs&&null!==e.lastRunNs?Oe.fromValue(e.lastRunNs):Oe.ZERO,t}};function Qn(){return{jobType:0,lastRunNs:Oe.ZERO}}const Xn={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.jobType&&t.uint32(8).int32(e.jobType),e.lastRunNs.isZero()||t.uint32(16).int64(e.lastRunNs),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Qn();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.jobType=r.int32();break;case 2:i.lastRunNs=r.int64();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({jobType:pi(e.jobType)?Hr(e.jobType):0,lastRunNs:pi(e.lastRunNs)?Oe.fromValue(e.lastRunNs):Oe.ZERO}),toJSON(e){const t={};return void 0!==e.jobType&&(t.jobType=Vr(e.jobType)),void 0!==e.lastRunNs&&(t.lastRunNs=(e.lastRunNs||Oe.ZERO).toString()),t},fromPartial(e){var t;const r=Qn();return r.jobType=null!==(t=e.jobType)&&void 0!==t?t:0,r.lastRunNs=void 0!==e.lastRunNs&&null!==e.lastRunNs?Oe.fromValue(e.lastRunNs):Oe.ZERO,r}};const $n={encode(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create()},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={};for(;r.pos<n;){const e=r.uint32();r.skipType(7&e)}return i},fromJSON:e=>({}),toJSON:e=>({}),fromPartial:e=>({})};const ei={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return Object.entries(e.topics).forEach((e=>{let[r,n]=e;ni.encode({key:r,value:n},t.uint32(10).fork()).ldelim()})),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={topics:{}};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1){const e=ni.decode(r,r.uint32());void 0!==e.value&&(i.topics[e.key]=e.value)}else r.skipType(7&e)}return i},fromJSON:e=>({topics:hi(e.topics)?Object.entries(e.topics).reduce(((e,t)=>{let[r,n]=t;return e[r]=ri.fromJSON(n),e}),{}):{}}),toJSON(e){const t={topics:{}};return e.topics&&Object.entries(e.topics).forEach((e=>{let[r,n]=e;t.topics[r]=ri.toJSON(n)})),t},fromPartial(e){var t;const r={topics:{}};return r.topics=Object.entries(null!==(t=e.topics)&&void 0!==t?t:{}).reduce(((e,t)=>{let[r,n]=t;return void 0!==n&&(e[r]=ri.fromPartial(n)),e}),{}),r}};function ti(){return{createdNs:Oe.UZERO,peerAddress:"",invitation:void 0}}const ri={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return e.createdNs.isZero()||t.uint32(8).uint64(e.createdNs),""!==e.peerAddress&&t.uint32(18).string(e.peerAddress),void 0!==e.invitation&&Mt.encode(e.invitation,t.uint32(26).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=ti();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.createdNs=r.uint64();break;case 2:i.peerAddress=r.string();break;case 3:i.invitation=Mt.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({createdNs:pi(e.createdNs)?Oe.fromValue(e.createdNs):Oe.UZERO,peerAddress:pi(e.peerAddress)?String(e.peerAddress):"",invitation:pi(e.invitation)?Mt.fromJSON(e.invitation):void 0}),toJSON(e){const t={};return void 0!==e.createdNs&&(t.createdNs=(e.createdNs||Oe.UZERO).toString()),void 0!==e.peerAddress&&(t.peerAddress=e.peerAddress),void 0!==e.invitation&&(t.invitation=e.invitation?Mt.toJSON(e.invitation):void 0),t},fromPartial(e){var t;const r=ti();return r.createdNs=void 0!==e.createdNs&&null!==e.createdNs?Oe.fromValue(e.createdNs):Oe.UZERO,r.peerAddress=null!==(t=e.peerAddress)&&void 0!==t?t:"",r.invitation=void 0!==e.invitation&&null!==e.invitation?Mt.fromPartial(e.invitation):void 0,r}};const ni={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&ri.encode(e.value,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={key:"",value:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.key=r.string();break;case 2:i.value=ri.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({key:pi(e.key)?String(e.key):"",value:pi(e.value)?ri.fromJSON(e.value):void 0}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value?ri.toJSON(e.value):void 0),t},fromPartial(e){var t;const r={key:"",value:void 0};return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=void 0!==e.value&&null!==e.value?ri.fromPartial(e.value):void 0,r}};const ii={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.topics)t.uint32(10).string(r);return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={topics:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.topics.push(r.string());else r.skipType(7&e)}return i},fromJSON:e=>({topics:Array.isArray(null===e||void 0===e?void 0:e.topics)?e.topics.map((e=>String(e))):[]}),toJSON(e){const t={};return e.topics?t.topics=e.topics.map((e=>e)):t.topics=[],t},fromPartial(e){var t;const r={topics:[]};return r.topics=(null===(t=e.topics)||void 0===t?void 0:t.map((e=>e)))||[],r}};const oi={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return Object.entries(e.hmacKeys).forEach((e=>{let[r,n]=e;ui.encode({key:r,value:n},t.uint32(10).fork()).ldelim()})),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={hmacKeys:{}};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1){const e=ui.decode(r,r.uint32());void 0!==e.value&&(i.hmacKeys[e.key]=e.value)}else r.skipType(7&e)}return i},fromJSON:e=>({hmacKeys:hi(e.hmacKeys)?Object.entries(e.hmacKeys).reduce(((e,t)=>{let[r,n]=t;return e[r]=ci.fromJSON(n),e}),{}):{}}),toJSON(e){const t={hmacKeys:{}};return e.hmacKeys&&Object.entries(e.hmacKeys).forEach((e=>{let[r,n]=e;t.hmacKeys[r]=ci.toJSON(n)})),t},fromPartial(e){var t;const r={hmacKeys:{}};return r.hmacKeys=Object.entries(null!==(t=e.hmacKeys)&&void 0!==t?t:{}).reduce(((e,t)=>{let[r,n]=t;return void 0!==n&&(e[r]=ci.fromPartial(n)),e}),{}),r}};function si(){return{thirtyDayPeriodsSinceEpoch:0,hmacKey:new Uint8Array}}const ai={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.thirtyDayPeriodsSinceEpoch&&t.uint32(8).int32(e.thirtyDayPeriodsSinceEpoch),0!==e.hmacKey.length&&t.uint32(18).bytes(e.hmacKey),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=si();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.thirtyDayPeriodsSinceEpoch=r.int32();break;case 2:i.hmacKey=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({thirtyDayPeriodsSinceEpoch:pi(e.thirtyDayPeriodsSinceEpoch)?Number(e.thirtyDayPeriodsSinceEpoch):0,hmacKey:pi(e.hmacKey)?di(e.hmacKey):new Uint8Array}),toJSON(e){const t={};return void 0!==e.thirtyDayPeriodsSinceEpoch&&(t.thirtyDayPeriodsSinceEpoch=Math.round(e.thirtyDayPeriodsSinceEpoch)),void 0!==e.hmacKey&&(t.hmacKey=fi(void 0!==e.hmacKey?e.hmacKey:new Uint8Array)),t},fromPartial(e){var t,r;const n=si();return n.thirtyDayPeriodsSinceEpoch=null!==(t=e.thirtyDayPeriodsSinceEpoch)&&void 0!==t?t:0,n.hmacKey=null!==(r=e.hmacKey)&&void 0!==r?r:new Uint8Array,n}};const ci={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.values)ai.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={values:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.values.push(ai.decode(r,r.uint32()));else r.skipType(7&e)}return i},fromJSON:e=>({values:Array.isArray(null===e||void 0===e?void 0:e.values)?e.values.map((e=>ai.fromJSON(e))):[]}),toJSON(e){const t={};return e.values?t.values=e.values.map((e=>e?ai.toJSON(e):void 0)):t.values=[],t},fromPartial(e){var t;const r={values:[]};return r.values=(null===(t=e.values)||void 0===t?void 0:t.map((e=>ai.fromPartial(e))))||[],r}};const ui={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&ci.encode(e.value,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={key:"",value:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.key=r.string();break;case 2:i.value=ci.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({key:pi(e.key)?String(e.key):"",value:pi(e.value)?ci.fromJSON(e.value):void 0}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value?ci.toJSON(e.value):void 0),t},fromPartial(e){var t;const r={key:"",value:void 0};return r.key=null!==(t=e.key)&&void 0!==t?t:"",r.value=void 0!==e.value&&null!==e.value?ci.fromPartial(e.value):void 0,r}};var li=(()=>{if("undefined"!==typeof li)return li;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function di(e){if(li.Buffer)return Uint8Array.from(li.Buffer.from(e,"base64"));{const t=li.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function fi(e){if(li.Buffer)return li.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),li.btoa(t.join(""))}}function hi(e){return"object"===typeof e&&null!==e}function pi(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());const mi={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.allowAddress&&yi.encode(e.allowAddress,t.uint32(10).fork()).ldelim(),void 0!==e.denyAddress&&gi.encode(e.denyAddress,t.uint32(18).fork()).ldelim(),void 0!==e.allowGroup&&vi.encode(e.allowGroup,t.uint32(26).fork()).ldelim(),void 0!==e.denyGroup&&bi.encode(e.denyGroup,t.uint32(34).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={allowAddress:void 0,denyAddress:void 0,allowGroup:void 0,denyGroup:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.allowAddress=yi.decode(r,r.uint32());break;case 2:i.denyAddress=gi.decode(r,r.uint32());break;case 3:i.allowGroup=vi.decode(r,r.uint32());break;case 4:i.denyGroup=bi.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({allowAddress:Ai(e.allowAddress)?yi.fromJSON(e.allowAddress):void 0,denyAddress:Ai(e.denyAddress)?gi.fromJSON(e.denyAddress):void 0,allowGroup:Ai(e.allowGroup)?vi.fromJSON(e.allowGroup):void 0,denyGroup:Ai(e.denyGroup)?bi.fromJSON(e.denyGroup):void 0}),toJSON(e){const t={};return void 0!==e.allowAddress&&(t.allowAddress=e.allowAddress?yi.toJSON(e.allowAddress):void 0),void 0!==e.denyAddress&&(t.denyAddress=e.denyAddress?gi.toJSON(e.denyAddress):void 0),void 0!==e.allowGroup&&(t.allowGroup=e.allowGroup?vi.toJSON(e.allowGroup):void 0),void 0!==e.denyGroup&&(t.denyGroup=e.denyGroup?bi.toJSON(e.denyGroup):void 0),t},fromPartial(e){const t={allowAddress:void 0,denyAddress:void 0,allowGroup:void 0,denyGroup:void 0};return t.allowAddress=void 0!==e.allowAddress&&null!==e.allowAddress?yi.fromPartial(e.allowAddress):void 0,t.denyAddress=void 0!==e.denyAddress&&null!==e.denyAddress?gi.fromPartial(e.denyAddress):void 0,t.allowGroup=void 0!==e.allowGroup&&null!==e.allowGroup?vi.fromPartial(e.allowGroup):void 0,t.denyGroup=void 0!==e.denyGroup&&null!==e.denyGroup?bi.fromPartial(e.denyGroup):void 0,t}};const yi={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.walletAddresses)t.uint32(10).string(r);return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={walletAddresses:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.walletAddresses.push(r.string());else r.skipType(7&e)}return i},fromJSON:e=>({walletAddresses:Array.isArray(null===e||void 0===e?void 0:e.walletAddresses)?e.walletAddresses.map((e=>String(e))):[]}),toJSON(e){const t={};return e.walletAddresses?t.walletAddresses=e.walletAddresses.map((e=>e)):t.walletAddresses=[],t},fromPartial(e){var t;const r={walletAddresses:[]};return r.walletAddresses=(null===(t=e.walletAddresses)||void 0===t?void 0:t.map((e=>e)))||[],r}};const gi={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.walletAddresses)t.uint32(10).string(r);return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={walletAddresses:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.walletAddresses.push(r.string());else r.skipType(7&e)}return i},fromJSON:e=>({walletAddresses:Array.isArray(null===e||void 0===e?void 0:e.walletAddresses)?e.walletAddresses.map((e=>String(e))):[]}),toJSON(e){const t={};return e.walletAddresses?t.walletAddresses=e.walletAddresses.map((e=>e)):t.walletAddresses=[],t},fromPartial(e){var t;const r={walletAddresses:[]};return r.walletAddresses=(null===(t=e.walletAddresses)||void 0===t?void 0:t.map((e=>e)))||[],r}};const vi={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.groupIds)t.uint32(10).bytes(r);return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={groupIds:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.groupIds.push(r.bytes());else r.skipType(7&e)}return i},fromJSON:e=>({groupIds:Array.isArray(null===e||void 0===e?void 0:e.groupIds)?e.groupIds.map((e=>Si(e))):[]}),toJSON(e){const t={};return e.groupIds?t.groupIds=e.groupIds.map((e=>Ei(void 0!==e?e:new Uint8Array))):t.groupIds=[],t},fromPartial(e){var t;const r={groupIds:[]};return r.groupIds=(null===(t=e.groupIds)||void 0===t?void 0:t.map((e=>e)))||[],r}};const bi={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();for(const r of e.groupIds)t.uint32(10).bytes(r);return t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={groupIds:[]};for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.groupIds.push(r.bytes());else r.skipType(7&e)}return i},fromJSON:e=>({groupIds:Array.isArray(null===e||void 0===e?void 0:e.groupIds)?e.groupIds.map((e=>Si(e))):[]}),toJSON(e){const t={};return e.groupIds?t.groupIds=e.groupIds.map((e=>Ei(void 0!==e?e:new Uint8Array))):t.groupIds=[],t},fromPartial(e){var t;const r={groupIds:[]};return r.groupIds=(null===(t=e.groupIds)||void 0===t?void 0:t.map((e=>e)))||[],r}};var wi=(()=>{if("undefined"!==typeof wi)return wi;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Si(e){if(wi.Buffer)return Uint8Array.from(wi.Buffer.from(e,"base64"));{const t=wi.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function Ei(e){if(wi.Buffer)return wi.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),wi.btoa(t.join(""))}}function Ai(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var _i=(()=>{if("undefined"!==typeof _i)return _i;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var ki=(()=>{if("undefined"!==typeof ki)return ki;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var xi=__webpack_require__(495),Mi=__webpack_require__.t(xi,2);const Ni=BigInt(0),Pi=BigInt(1),Ii=BigInt(2),Ri=BigInt(3),Ci=BigInt(8),Oi=Object.freeze({a:Ni,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Pi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Ti=(e,t)=>(e+t/Ii)/t,Bi={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=Oi,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Pi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Ti(o*e,t),c=Ti(-n*e,t);let u=uo(e-a*r-c*i,t),l=uo(-a*n-c*o,t);const d=u>s,f=l>s;if(d&&(u=t-u),f&&(l=t-l),u>s||l>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:f,k2:l}}},Ui=32,Li=32,Di=Ui+1,Ki=2*Ui+1;function Fi(e){const{a:t,b:r}=Oi,n=uo(e*e),i=uo(n*e);return uo(i+t*e+r)}const qi=Oi.a===Ni;class zi extends Error{constructor(e){super(e)}}function ji(e){if(!(e instanceof Ji))throw new TypeError("JacobianPoint expected")}class Ji{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof Vi))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Vi.ZERO)?Ji.ZERO:new Ji(e.x,e.y,Pi)}static toAffineBatch(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi.P;const r=new Array(e.length),n=fo(e.reduce(((e,n,i)=>n===Ni?e:(r[i]=e,uo(e*n,t))),Pi),t);return e.reduceRight(((e,n,i)=>n===Ni?e:(r[i]=uo(e*r[i],t),uo(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return Ji.toAffineBatch(e).map(Ji.fromAffine)}equals(e){ji(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=uo(n*n),c=uo(s*s),u=uo(t*c),l=uo(i*a),d=uo(uo(r*s)*c),f=uo(uo(o*n)*a);return u===l&&d===f}negate(){return new Ji(this.x,uo(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=uo(e*e),i=uo(t*t),o=uo(i*i),s=e+i,a=uo(Ii*(uo(s*s)-n-o)),c=uo(Ri*n),u=uo(c*c),l=uo(u-Ii*a),d=uo(c*(a-l)-Ci*o),f=uo(Ii*t*r);return new Ji(l,d,f)}add(e){ji(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e;if(i===Ni||o===Ni)return this;if(t===Ni||r===Ni)return e;const a=uo(n*n),c=uo(s*s),u=uo(t*c),l=uo(i*a),d=uo(uo(r*s)*c),f=uo(uo(o*n)*a),h=uo(l-u),p=uo(f-d);if(h===Ni)return p===Ni?this.double():Ji.ZERO;const m=uo(h*h),y=uo(h*m),g=uo(u*m),v=uo(p*p-y-Ii*g),b=uo(p*(g-v)-d*y),w=uo(n*s*h);return new Ji(v,b,w)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Ji.ZERO;if("bigint"===typeof e&&e===Ni)return t;let r=co(e);if(r===Pi)return this;if(!qi){let e=t,n=this;for(;r>Ni;)r&Pi&&(e=e.add(n)),n=n.double(),r>>=Pi;return e}let{k1neg:n,k1:i,k2neg:o,k2:s}=Bi.splitScalar(r),a=t,c=t,u=this;for(;i>Ni||s>Ni;)i&Pi&&(a=a.add(u)),s&Pi&&(c=c.add(u)),u=u.double(),i>>=Pi,s>>=Pi;return n&&(a=a.negate()),o&&(c=c.negate()),c=new Ji(uo(c.x*Bi.beta),c.y,c.z),a.add(c)}precomputeWindow(e){const t=qi?128/e+1:256/e+1,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(Ji.BASE)&&(t=Vi.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&Hi.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=Ji.normalizeZ(n),Hi.set(t,n)));let i=Ji.ZERO,o=Ji.BASE;const s=1+(qi?128/r:256/r),a=2**(r-1),c=BigInt(2**r-1),u=2**r,l=BigInt(r);for(let d=0;d<s;d++){const t=d*a;let r=Number(e&c);e>>=l,r>a&&(r-=u,e+=Pi);const s=t,f=t+Math.abs(r)-1,h=d%2!==0,p=r<0;0===r?o=o.add(Gi(h,n[s])):i=i.add(Gi(p,n[f]))}return{p:i,f:o}}multiply(e,t){let r,n,i=co(e);if(qi){const{k1neg:e,k1:o,k2neg:s,k2:a}=Bi.splitScalar(i);let{p:c,f:u}=this.wNAF(o,t),{p:l,f:d}=this.wNAF(a,t);c=Gi(e,c),l=Gi(s,l),l=new Ji(uo(l.x*Bi.beta),l.y,l.z),r=c.add(l),n=u.add(d)}else{const{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return Ji.normalizeZ([r,n])[0]}toAffine(e){const{x:t,y:r,z:n}=this,i=this.equals(Ji.ZERO);null==e&&(e=i?Ci:fo(n));const o=e,s=uo(o*o),a=uo(s*o),c=uo(t*s),u=uo(r*a),l=uo(n*o);if(i)return Vi.ZERO;if(l!==Pi)throw new Error("invZ was invalid");return new Vi(c,u)}}function Gi(e,t){const r=t.negate();return e?r:t}Ji.BASE=new Ji(Oi.Gx,Oi.Gy,Pi),Ji.ZERO=new Ji(Ni,Pi,Ni);const Hi=new WeakMap;class Vi{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Hi.delete(this)}hasEvenY(){return this.y%Ii===Ni}static fromCompressedHex(e){const t=32===e.length,r=so(t?e:e.subarray(1));if(!vo(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=Oi,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),s=BigInt(44),a=BigInt(88),c=e*e*e%t,u=c*c*e%t,l=lo(u,Ri)*u%t,d=lo(l,Ri)*u%t,f=lo(d,Ii)*c%t,h=lo(f,n)*f%t,p=lo(h,i)*h%t,m=lo(p,s)*p%t,y=lo(m,a)*m%t,g=lo(y,s)*p%t,v=lo(g,Ri)*u%t,b=lo(v,o)*h%t,w=lo(b,r)*c%t,S=lo(w,Ii),E=S*S%t;if(E!==e)throw new Error("Cannot find square root");return S}(Fi(r));const i=(n&Pi)===Pi;if(t)i&&(n=uo(-n));else{1===(1&e[0])!==i&&(n=uo(-n))}const o=new Vi(r,n);return o.assertValidity(),o}static fromUncompressedHex(e){const t=so(e.subarray(1,Ui+1)),r=so(e.subarray(Ui+1,2*Ui+1)),n=new Vi(t,r);return n.assertValidity(),n}static fromHex(e){const t=ao(e),r=t.length,n=t[0];if(r===Ui)return this.fromCompressedHex(t);if(r===Di&&(2===n||3===n))return this.fromCompressedHex(t);if(r===Ki&&4===n)return this.fromUncompressedHex(t);throw new Error("Point.fromHex: received invalid point. Expected 32-".concat(Di," compressed bytes or ").concat(Ki," uncompressed bytes, not ").concat(r))}static fromPrivateKey(e){return Vi.BASE.multiply(wo(e))}static fromSignature(e,t,r){const{r:n,s:i}=Eo(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=ho(ao(e)),{n:s}=Oi,a=2===r||3===r?n+s:n,c=fo(a,s),u=uo(-o*c,s),l=uo(i*c,s),d=1&r?"03":"02",f=Vi.fromHex(d+to(a)),h=Vi.BASE.multiplyAndAddUnsafe(f,u,l);if(!h)throw new Error("Cannot recover signature: point at infinify");return h.assertValidity(),h}toRawBytes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return oo(this.toHex(e))}toHex(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=to(this.x);if(e){const e=this.hasEvenY()?"02":"03";return"".concat(e).concat(t)}return"04".concat(t).concat(to(this.y))}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!vo(t)||!vo(r))throw new Error(e);const n=uo(r*r);if(uo(n-Fi(t))!==Ni)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Vi(this.x,uo(-this.y))}double(){return Ji.fromAffine(this).double().toAffine()}add(e){return Ji.fromAffine(this).add(Ji.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ji.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=Ji.fromAffine(this),i=t===Ni||t===Pi||this!==Vi.BASE?n.multiplyUnsafe(t):n.multiply(t),o=Ji.fromAffine(e).multiplyUnsafe(r),s=i.add(o);return s.equals(Ji.ZERO)?void 0:s.toAffine()}}function Wi(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Zi(e){if(e.length<2||2!==e[0])throw new Error("Invalid signature integer tag: ".concat($i(e)));const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:so(r),left:e.subarray(t+2)}}Vi.BASE=new Vi(Oi.Gx,Oi.Gy),Vi.ZERO=new Vi(Ni,Ni);class Yi{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!==typeof e&&!t)throw new TypeError("".concat(r,": Expected string or Uint8Array"));const n=t?$i(e):e;if(128!==n.length)throw new Error("".concat(r,": Expected 64-byte hex"));return new Yi(io(n.slice(0,64)),io(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!==typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error("Invalid signature tag: ".concat($i(e)));if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=Zi(e.subarray(2)),{data:n,left:i}=Zi(r);if(i.length)throw new Error("Invalid signature: left bytes after parsing: ".concat($i(i)));return{r:t,s:n}}(t?e:oo(e));return new Yi(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!go(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!go(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Oi.n>>Pi;return this.s>e}normalizeS(){return this.hasHighS()?new Yi(this.r,uo(-this.s,Oi.n)):this}toDERRawBytes(){return oo(this.toDERHex())}toDERHex(){const e=Wi(no(this.s)),t=Wi(no(this.r)),r=e.length/2,n=t.length/2,i=no(r),o=no(n),s=no(n+r+4);return"30".concat(s,"02").concat(o).concat(t,"02").concat(i).concat(e)}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return oo(this.toCompactHex())}toCompactHex(){return to(this.r)+to(this.s)}}function Qi(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const n=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(n);for(let o=0,s=0;o<t.length;o++){const e=t[o];i.set(e,s),s+=e.length}return i}const Xi=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function $i(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=Xi[e[r]];return t}const eo=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function to(e){if("bigint"!==typeof e)throw new Error("Expected bigint");if(!(Ni<=e&&e<eo))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function ro(e){const t=oo(to(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function no(e){const t=e.toString(16);return 1&t.length?"0".concat(t):t}function io(e){if("string"!==typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt("0x".concat(e))}function oo(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function so(e){return io($i(e))}function ao(e){return e instanceof Uint8Array?Uint8Array.from(e):oo(e)}function co(e){if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"===typeof e&&go(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function uo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi.P;const r=e%t;return r>=Ni?r:t+r}function lo(e,t){const{P:r}=Oi;let n=e;for(;t-- >Ni;)n*=n,n%=r;return n}function fo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oi.P;if(e===Ni||t<=Ni)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let r=uo(e,t),n=t,i=Ni,o=Pi,s=Pi,a=Ni;for(;r!==Ni;){const e=n/r,t=n%r,c=i-s*e,u=o-a*e;n=r,r=t,i=s,o=a,s=c,a=u}if(n!==Pi)throw new Error("invert: does not exist");return uo(i,t)}function ho(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=function(e){const t=8*e.length-8*Li,r=so(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;const{n:n}=Oi;return r>=n?r-n:r}let po,mo;class yo{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Uo.hmacSha256(this.k,...t)}hmacSync(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return mo(this.k,...t)}checkSync(){if("function"!==typeof mo)throw new zi("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return Qi(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return Qi(...t)}}function go(e){return Ni<e&&e<Oi.n}function vo(e){return Ni<e&&e<Oi.P}function bo(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{n:i}=Oi,o=ho(e,!0);if(!go(o))return;const s=fo(o,i),a=Vi.BASE.multiply(o),c=uo(a.x,i);if(c===Ni)return;const u=uo(s*uo(t+r*c,i),i);if(u===Ni)return;let l=new Yi(c,u),d=(a.x===l.r?0:2)|Number(a.y&Pi);return n&&l.hasHighS()&&(l=l.normalizeS(),d^=1),{sig:l,recovery:d}}function wo(e){let t;if("bigint"===typeof e)t=e;else if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"===typeof e){if(e.length!==2*Li)throw new Error("Expected 32 bytes of private key");t=io(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==Li)throw new Error("Expected 32 bytes of private key");t=so(e)}if(!go(t))throw new Error("Expected private key: 0 < key < n");return t}function So(e){return e instanceof Vi?(e.assertValidity(),e):Vi.fromHex(e)}function Eo(e){if(e instanceof Yi)return e.assertValidity(),e;try{return Yi.fromDER(e)}catch(t){return Yi.fromCompact(e)}}function Ao(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Vi.fromPrivateKey(e).toRawBytes(t)}function _o(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Vi.fromSignature(e,t,r).toRawBytes(n)}function ko(e){const t=e instanceof Uint8Array,r="string"===typeof e,n=(t||r)&&e.length;return t?n===Di||n===Ki:r?n===2*Di||n===2*Ki:e instanceof Vi}function xo(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ko(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!ko(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=So(t);return n.assertValidity(),n.multiply(wo(e)).toRawBytes(r)}function Mo(e){return so(e.length>Ui?e.slice(0,Ui):e)}function No(e){const t=Mo(e),r=uo(t,Oi.n);return Po(r<Ni?t:r)}function Po(e){return ro(e)}function Io(e,t,r){if(null==e)throw new Error('sign: expected valid message hash, not "'.concat(e,'"'));const n=ao(e),i=wo(t),o=[Po(i),No(n)];if(null!=r){!0===r&&(r=Uo.randomBytes(Ui));const e=ao(r);if(e.length!==Ui)throw new Error("sign: Expected ".concat(Ui," bytes of extra data"));o.push(e)}return{seed:Qi(...o),m:Mo(n),d:i}}function Ro(e,t){const{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function Co(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{seed:n,m:i,d:o}=Io(e,t,r.extraEntropy),s=new yo(32,Li);let a;for(await s.reseed(n);!(a=bo(await s.generate(),i,o,r.canonical));)await s.reseed();return Ro(a,r)}const Oo={strict:!0};Vi.BASE._setWindowSize(8);const To={node:Mi,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},Bo={},Uo={bytesToHex:$i,hexToBytes:oo,concatBytes:Qi,mod:uo,invert:fo,isValidPrivateKey(e){try{return wo(e),!0}catch(t){return!1}},_bigintTo32Bytes:ro,_normalizePrivateKey:wo,hashToPrivateKey:e=>{e=ao(e);const t=Li+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return ro(uo(so(e),Oi.n-Pi)+Pi)},randomBytes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(To.web)return To.web.getRandomValues(new Uint8Array(e));if(To.node){const{randomBytes:t}=To.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Uo.hashToPrivateKey(Uo.randomBytes(Li+8)),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vi.BASE;const r=t===Vi.BASE?t:new Vi(t.x,t.y);return r._setWindowSize(e),r.multiply(Ri),r},sha256:async function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(To.web){const e=await To.web.subtle.digest("SHA-256",Qi(...t));return new Uint8Array(e)}if(To.node){const{createHash:e}=To.node,r=e("sha256");return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(To.web){const t=await To.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Qi(...r),i=await To.web.subtle.sign("HMAC",t,n);return new Uint8Array(i)}if(To.node){const{createHmac:t}=To.node,n=t("sha256",e);return r.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async function(e){let t=Bo[e];if(void 0===t){const r=await Uo.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=Qi(r,r),Bo[e]=t}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Uo.sha256(t,...n)},taggedHashSync:function(e){if("function"!==typeof po)throw new zi("sha256Sync is undefined, you need to set it");let t=Bo[e];if(void 0===t){const r=po(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=Qi(r,r),Bo[e]=t}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return po(t,...n)},_JacobianPoint:Ji};Object.defineProperties(Uo,{sha256Sync:{configurable:!1,get:()=>po,set(e){po||(po=e)}},hmacSha256Sync:{configurable:!1,get:()=>mo,set(e){mo||(mo=e)}}});var Lo=__webpack_require__(3456);class Do extends Error{constructor(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"viem@".concat("2.7.15")});const n=r.cause instanceof Do?r.cause.details:null!==(t=r.cause)&&void 0!==t&&t.message?r.cause.message:r.details,i=r.cause instanceof Do&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?["Docs: https://viem.sh".concat(i).concat(r.docsSlug?"#".concat(r.docsSlug):"")]:[],...n?["Details: ".concat(n)]:[],"Version: ".concat(this.version)].join("\n"),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return Ko(this,e)}}function Ko(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e?Ko(e.cause,t):t?null:e}class Fo extends Do{constructor(e){let{max:t,min:r,signed:n,size:i,value:o}=e;super('Number "'.concat(o,'" is not in safe ').concat(i?"".concat(8*i,"-bit ").concat(n?"signed":"unsigned"," "):"","integer range ").concat(t?"(".concat(r," to ").concat(t,")"):"(above ".concat(r,")"))),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class qo extends Do{constructor(e){let{givenSize:t,maxSize:r}=e;super("Size cannot exceed ".concat(r," bytes. Given size: ").concat(t," bytes.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}class zo extends Do{constructor(e){let{size:t,targetSize:r,type:n}=e;super("".concat(n.charAt(0).toUpperCase()).concat(n.slice(1).toLowerCase()," size (").concat(t,") exceeds padding size (").concat(r,").")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function jo(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?function(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)return e;const n=e.replace("0x","");if(n.length>2*r)throw new zo({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return"0x".concat(n["right"===t?"padEnd":"padStart"](2*r,"0"))}(e,{dir:t,size:r}):function(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)return e;if(e.length>r)throw new zo({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const o="right"===t;n[o?i:r-i-1]=e[o?i:e.length-i-1]}return n}(e,{dir:t,size:r})}function Jo(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&("string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function Go(e){return Jo(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function Ho(e,t){let{size:r}=t;if(Go(e)>r)throw new qo({givenSize:Go(e),maxSize:r})}function Vo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:r}=t;t.size&&Ho(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function Wo(e){return Number(Vo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}const Zo=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Yo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?Xo(e,t):"string"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=$o.encode(e);return Qo(r,t)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="0x".concat(Number(e));if("number"===typeof t.size)return Ho(r,{size:t.size}),jo(r,{size:t.size});return r}(e,t):Qo(e,t)}function Qo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="";for(let i=0;i<e.length;i++)r+=Zo[e[i]];const n="0x".concat(r);return"number"===typeof t.size?(Ho(n,{size:t.size}),jo(n,{dir:"right",size:t.size})):n}function Xo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:r,size:n}=t,i=BigInt(e);let o;n?o=r?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"===typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s="bigint"===typeof o&&r?-o-1n:0;if(o&&i>o||i<s){const t="bigint"===typeof e?"n":"";throw new Fo({max:o?"".concat(o).concat(t):void 0,min:"".concat(s).concat(t),signed:r,size:n,value:"".concat(e).concat(t)})}const a="0x".concat((r&&i<0?(1n<<BigInt(8*n))+BigInt(i):i).toString(16));return n?jo(a,{size:n}):a}const $o=new TextEncoder;const es=new TextEncoder;function ts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e,t){const r=Xo(e,t);return is(r)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Uint8Array(1);if(r[0]=Number(e),"number"===typeof t.size)return Ho(r,{size:t.size}),jo(r,{size:t.size});return r}(e,t):Jo(e)?is(e,t):os(e,t)}const rs={zero:48,nine:57,A:65,F:70,a:97,f:102};function ns(e){return e>=rs.zero&&e<=rs.nine?e-rs.zero:e>=rs.A&&e<=rs.F?e-(rs.A-10):e>=rs.a&&e<=rs.f?e-(rs.a-10):void 0}function is(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;t.size&&(Ho(r,{size:t.size}),r=jo(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n="0".concat(n));const i=n.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const e=ns(n.charCodeAt(a++)),t=ns(n.charCodeAt(a++));if(void 0===e||void 0===t)throw new Do('Invalid byte sequence ("'.concat(n[a-2]).concat(n[a-1],'" in "').concat(n,'").'));o[s]=16*e+t}return o}function os(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=es.encode(e);return"number"===typeof t.size?(Ho(r,{size:t.size}),jo(r,{dir:"right",size:t.size})):r}const ss="\x19Ethereum Signed Message:\n";function as(e){return"string"===typeof e[0]?function(e){return"0x".concat(e.reduce(((e,t)=>e+t.replace("0x","")),""))}(e):function(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}(e)}var cs=__webpack_require__(9845);const us=BigInt(2**32-1),ls=BigInt(32);function ds(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&us),l:Number(e>>ls&us)}:{h:0|Number(e>>ls&us),l:0|Number(e&us)}}function fs(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=ds(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}const hs=(e,t,r)=>e<<r|t>>>32-r,ps=(e,t,r)=>t<<r|e>>>32-r,ms=(e,t,r)=>t<<r-32|e>>>64-r,ys=(e,t,r)=>e<<r-32|t>>>64-r;var gs=__webpack_require__(1195);const[vs,bs,ws]=[[],[],[]],Ss=BigInt(0),Es=BigInt(1),As=BigInt(2),_s=BigInt(7),ks=BigInt(256),xs=BigInt(113);for(let tE=0,rE=Es,nE=1,iE=0;tE<24;tE++){[nE,iE]=[iE,(2*nE+3*iE)%5],vs.push(2*(5*iE+nE)),bs.push((tE+1)*(tE+2)/2%64);let e=Ss;for(let t=0;t<7;t++)rE=(rE<<Es^(rE>>_s)*xs)%ks,rE&As&&(e^=Es<<(Es<<BigInt(t))-Es);ws.push(e)}const[Ms,Ns]=fs(ws,!0),Ps=(e,t,r)=>r>32?ms(e,t,r):hs(e,t,r),Is=(e,t,r)=>r>32?ys(e,t,r):ps(e,t,r);class Rs extends gs.Vw{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,cs.ai)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,gs.DH)(this.state)}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,i=(n+2)%10,o=r[i],s=r[i+1],a=Ps(o,s,1)^r[t],c=Is(o,s,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=a,e[n+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=bs[r],o=Ps(t,i,n),s=Is(t,i,n),a=vs[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=Ms[n],e[1]^=Ns[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,cs.t2)(this);const{blockLen:t,state:r}=this,n=(e=(0,gs.ZJ)(e)).length;for(let i=0;i<n;){const o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!==(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,cs.t2)(this,!1),(0,cs.ee)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,cs.ai)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,cs.CG)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new Rs(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Cs=(e,t,r)=>(0,gs.ld)((()=>new Rs(t,e,r))),Os=Cs(1,136,32);function Ts(e,t){const r=t||"hex",n=Os(Jo(e,{strict:!1})?ts(e):e);return"bytes"===r?n:Yo(n)}function Bs(e,t){const r="string"===typeof e?os(e):e.raw instanceof Uint8Array?e.raw:ts(e.raw);return Ts(as([os("".concat(ss).concat(r.length)),r]),t)}class Us extends Do{constructor(e){let{address:t}=e;super('Address "'.concat(t,'" is invalid.'),{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class Ls extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,t){return super.set(e,t),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const Ds=/^0x[a-fA-F0-9]{40}$/,Ks=new Ls(8192);function Fs(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Ks.has(e))return Ks.get(e);const r=!!Ds.test(e)&&(e.toLowerCase()===e||!t||qs(e)===e);return Ks.set(e,r),r}function qs(e,t){const r=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),n=Ts(os(r),"bytes"),i=(t?r.substring("".concat(t,"0x").length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&n[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());return"0x".concat(i.join(""))}function zs(e,t){if(!Fs(e))throw new Us({address:e});return qs(e,t)}async function js(e){let{hash:t,signature:r}=e;return function(e){const t=Ts("0x".concat(e.substring(4))).substring(26);return qs("0x".concat(t))}(await async function(e){let{hash:t,signature:r}=e;const n=Jo(r)?r:Yo(r),i=Jo(t)?t:Yo(t);let o=Wo("0x".concat(n.slice(130)));0!==o&&1!==o||(o+=27);const{secp256k1:s}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,3456)),a=s.Signature.fromCompact(n.substring(2,130)).addRecoveryBit(o-27).recoverPublicKey(i.substring(2)).toHex(!1);return"0x".concat(a)}({hash:t,signature:r}))}async function Js(e){let{address:t,message:r,signature:n}=e;return function(e,t){if(!Fs(e,{strict:!1}))throw new Us({address:e});if(!Fs(t,{strict:!1}))throw new Us({address:t});return e.toLowerCase()===t.toLowerCase()}(zs(t),await async function(e){let{message:t,signature:r}=e;return js({hash:Bs(t),signature:r})}({message:r,signature:n}))}new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const Gs=new Error("request for lock canceled");var Hs=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class Vs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gs;this._value=e,this._cancelError=t,this._queue=[],this._weightedWaiters=[]}acquire(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise(((r,n)=>{const i={resolve:r,reject:n,weight:e,priority:t},o=Ws(this._queue,(e=>t<=e.priority));-1===o&&e<=this._value?this._dispatchItem(i):this._queue.splice(o+1,0,i)}))}runExclusive(e){return Hs(this,arguments,void 0,(function(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function*(){const[i,o]=yield t.acquire(r,n);try{return yield e(i)}finally{o()}}()}))}waitForUnlock(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return this._couldLockImmediately(e,t)?Promise.resolve():new Promise((r=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),function(e,t){const r=Ws(e,(e=>t.priority<=e.priority));e.splice(r+1,0,t)}(this._weightedWaiters[e-1],{resolve:r,priority:t})}))}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatchQueue()}release(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));this._value+=e,this._dispatchQueue()}cancel(){this._queue.forEach((e=>e.reject(this._cancelError))),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(e){const t=this._value;this._value-=e.weight,e.resolve([t,this._newReleaser(e.weight)])}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let e=this._value;e>0;e--){const t=this._weightedWaiters[e-1];t&&(t.forEach((e=>e.resolve())),this._weightedWaiters[e-1]=[])}else{const e=this._queue[0].priority;for(let t=this._value;t>0;t--){const r=this._weightedWaiters[t-1];if(!r)continue;const n=r.findIndex((t=>t.priority<=e));(-1===n?r:r.splice(0,n)).forEach((e=>e.resolve()))}}}_couldLockImmediately(e,t){return(0===this._queue.length||this._queue[0].priority<t)&&e<=this._value}}function Ws(e,t){for(let r=e.length-1;r>=0;r--)if(t(e[r]))return r;return-1}var Zs=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class Ys{constructor(e){this._semaphore=new Vs(1,e)}acquire(){return Zs(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function*(){const[,r]=yield e._semaphore.acquire(1,t);return r}()}))}runExclusive(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._semaphore.runExclusive((()=>e()),1,t)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._semaphore.waitForUnlock(1,e)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}var Qs=__webpack_require__(8086),Xs=__webpack_require__(9640);const $s=new Array(64),ea=new Array(123);for(let tE=0;tE<64;)ea[$s[tE]=tE<26?tE+65:tE<52?tE+71:tE<62?tE-4:tE-59|43]=tE++;var ta;!function(e){e.SORT_DIRECTION_UNSPECIFIED="SORT_DIRECTION_UNSPECIFIED",e.SORT_DIRECTION_ASCENDING="SORT_DIRECTION_ASCENDING",e.SORT_DIRECTION_DESCENDING="SORT_DIRECTION_DESCENDING"}(ta||(ta={}));var ra=(()=>{if("undefined"!==typeof ra)return ra;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var na=(()=>{if("undefined"!==typeof na)return na;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var ia=(()=>{if("undefined"!==typeof ia)return ia;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var oa=(()=>{if("undefined"!==typeof oa)return oa;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var sa;!function(e){e[e.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED=0]="CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED",e[e.CONSENT_PROOF_PAYLOAD_VERSION_1=1]="CONSENT_PROOF_PAYLOAD_VERSION_1",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(sa||(sa={}));var aa=(()=>{if("undefined"!==typeof aa)return aa;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var ca=(()=>{if("undefined"!==typeof ca)return ca;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var ua;function la(e){switch(e){case 0:case"COMPRESSION_DEFLATE":return ua.COMPRESSION_DEFLATE;case 1:case"COMPRESSION_GZIP":return ua.COMPRESSION_GZIP;default:return ua.UNRECOGNIZED}}!function(e){e[e.COMPRESSION_DEFLATE=0]="COMPRESSION_DEFLATE",e[e.COMPRESSION_GZIP=1]="COMPRESSION_GZIP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(ua||(ua={}));const da={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.authorityId&&t.uint32(10).string(e.authorityId),""!==e.typeId&&t.uint32(18).string(e.typeId),0!==e.versionMajor&&t.uint32(24).uint32(e.versionMajor),0!==e.versionMinor&&t.uint32(32).uint32(e.versionMinor),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={authorityId:"",typeId:"",versionMajor:0,versionMinor:0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.authorityId=r.string();break;case 2:i.typeId=r.string();break;case 3:i.versionMajor=r.uint32();break;case 4:i.versionMinor=r.uint32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({authorityId:va(e.authorityId)?String(e.authorityId):"",typeId:va(e.typeId)?String(e.typeId):"",versionMajor:va(e.versionMajor)?Number(e.versionMajor):0,versionMinor:va(e.versionMinor)?Number(e.versionMinor):0}),toJSON(e){const t={};return void 0!==e.authorityId&&(t.authorityId=e.authorityId),void 0!==e.typeId&&(t.typeId=e.typeId),void 0!==e.versionMajor&&(t.versionMajor=Math.round(e.versionMajor)),void 0!==e.versionMinor&&(t.versionMinor=Math.round(e.versionMinor)),t},fromPartial(e){var t,r,n,i;const o={authorityId:"",typeId:"",versionMajor:0,versionMinor:0};return o.authorityId=null!==(t=e.authorityId)&&void 0!==t?t:"",o.typeId=null!==(r=e.typeId)&&void 0!==r?r:"",o.versionMajor=null!==(n=e.versionMajor)&&void 0!==n?n:0,o.versionMinor=null!==(i=e.versionMinor)&&void 0!==i?i:0,o}};function fa(){return{type:void 0,parameters:{},fallback:void 0,compression:void 0,content:new Uint8Array}}const ha={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.type&&da.encode(e.type,t.uint32(10).fork()).ldelim(),Object.entries(e.parameters).forEach((e=>{let[r,n]=e;pa.encode({key:r,value:n},t.uint32(18).fork()).ldelim()})),void 0!==e.fallback&&t.uint32(26).string(e.fallback),void 0!==e.compression&&t.uint32(40).int32(e.compression),0!==e.content.length&&t.uint32(34).bytes(e.content),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=fa();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.type=da.decode(r,r.uint32());break;case 2:const t=pa.decode(r,r.uint32());void 0!==t.value&&(i.parameters[t.key]=t.value);break;case 3:i.fallback=r.string();break;case 5:i.compression=r.int32();break;case 4:i.content=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON(e){return{type:va(e.type)?da.fromJSON(e.type):void 0,parameters:(t=e.parameters,"object"===typeof t&&null!==t?Object.entries(e.parameters).reduce(((e,t)=>{let[r,n]=t;return e[r]=String(n),e}),{}):{}),fallback:va(e.fallback)?String(e.fallback):void 0,compression:va(e.compression)?la(e.compression):void 0,content:va(e.content)?ya(e.content):new Uint8Array};var t},toJSON(e){const t={};return void 0!==e.type&&(t.type=e.type?da.toJSON(e.type):void 0),t.parameters={},e.parameters&&Object.entries(e.parameters).forEach((e=>{let[r,n]=e;t.parameters[r]=n})),void 0!==e.fallback&&(t.fallback=e.fallback),void 0!==e.compression&&(t.compression=void 0!==e.compression?function(e){switch(e){case ua.COMPRESSION_DEFLATE:return"COMPRESSION_DEFLATE";case ua.COMPRESSION_GZIP:return"COMPRESSION_GZIP";case ua.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.compression):void 0),void 0!==e.content&&(t.content=ga(void 0!==e.content?e.content:new Uint8Array)),t},fromPartial(e){var t,r,n,i;const o=fa();return o.type=void 0!==e.type&&null!==e.type?da.fromPartial(e.type):void 0,o.parameters=Object.entries(null!==(t=e.parameters)&&void 0!==t?t:{}).reduce(((e,t)=>{let[r,n]=t;return void 0!==n&&(e[r]=String(n)),e}),{}),o.fallback=null!==(r=e.fallback)&&void 0!==r?r:void 0,o.compression=null!==(n=e.compression)&&void 0!==n?n:void 0,o.content=null!==(i=e.content)&&void 0!==i?i:new Uint8Array,o}};const pa={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={key:"",value:""};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.key=r.string();break;case 2:i.value=r.string();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({key:va(e.key)?String(e.key):"",value:va(e.value)?String(e.value):""}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){var t,r;const n={key:"",value:""};return n.key=null!==(t=e.key)&&void 0!==t?t:"",n.value=null!==(r=e.value)&&void 0!==r?r:"",n}};var ma=(()=>{if("undefined"!==typeof ma)return ma;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function ya(e){if(ma.Buffer)return Uint8Array.from(ma.Buffer.from(e,"base64"));{const t=ma.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function ga(e){if(ma.Buffer)return ma.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),ma.btoa(t.join(""))}}function va(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var ba=(()=>{if("undefined"!==typeof ba)return ba;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var wa=(()=>{if("undefined"!==typeof wa)return wa;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var Sa,Ea,Aa;!function(e){e[e.ERROR_CODE_UNSPECIFIED=0]="ERROR_CODE_UNSPECIFIED",e[e.ERROR_CODE_INVALID_INPUT=1]="ERROR_CODE_INVALID_INPUT",e[e.ERROR_CODE_NO_MATCHING_PREKEY=2]="ERROR_CODE_NO_MATCHING_PREKEY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Sa||(Sa={})),function(e){e[e.JOB_TYPE_UNSPECIFIED=0]="JOB_TYPE_UNSPECIFIED",e[e.JOB_TYPE_REFRESH_V1=1]="JOB_TYPE_REFRESH_V1",e[e.JOB_TYPE_REFRESH_V2=2]="JOB_TYPE_REFRESH_V2",e[e.JOB_TYPE_REFRESH_PPPP=3]="JOB_TYPE_REFRESH_PPPP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ea||(Ea={})),function(e){e[e.KEYSTORE_STATUS_UNSPECIFIED=0]="KEYSTORE_STATUS_UNSPECIFIED",e[e.KEYSTORE_STATUS_UNINITIALIZED=1]="KEYSTORE_STATUS_UNINITIALIZED",e[e.KEYSTORE_STATUS_INITIALIZED=2]="KEYSTORE_STATUS_INITIALIZED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Aa||(Aa={}));var _a=(()=>{if("undefined"!==typeof _a)return _a;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var ka=(()=>{if("undefined"!==typeof ka)return ka;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var xa=(()=>{if("undefined"!==typeof xa)return xa;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var Ma=(()=>{if("undefined"!==typeof Ma)return Ma;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());class Na{constructor(e){if(!e.aes256GcmHkdfSha256)throw new Error("invalid ciphertext");if(e.aes256GcmHkdfSha256.payload.length<16)throw new Error("invalid ciphertext ciphertext length: ".concat(e.aes256GcmHkdfSha256.payload.length));if(32!==e.aes256GcmHkdfSha256.hkdfSalt.length)throw new Error("invalid ciphertext salt length: ".concat(e.aes256GcmHkdfSha256.hkdfSalt.length));if(12!==e.aes256GcmHkdfSha256.gcmNonce.length)throw new Error("invalid ciphertext nonce length: ".concat(e.aes256GcmHkdfSha256.gcmNonce.length));this.aes256GcmHkdfSha256=e.aes256GcmHkdfSha256}toBytes(){return pt.encode(this).finish()}static fromBytes(e){return new Na(pt.decode(e))}}const Pa=window.crypto,Ia=(new Uint8Array).buffer,Ra=(new Uint8Array).buffer;async function Ca(e){return new Uint8Array(await Pa.subtle.digest("SHA-256",e))}async function Oa(e,t,r){const n=Pa.getRandomValues(new Uint8Array(32)),i=Pa.getRandomValues(new Uint8Array(12)),o=await Ua(t,n),s=await Pa.subtle.encrypt(Ba(i,r),o,e);return new Na({aes256GcmHkdfSha256:{payload:new Uint8Array(s),hkdfSalt:n,gcmNonce:i}})}async function Ta(e,t,r){if(!e.aes256GcmHkdfSha256)throw new Error("invalid payload ciphertext");const n=await Ua(t,e.aes256GcmHkdfSha256.hkdfSalt),i=await Pa.subtle.decrypt(Ba(e.aes256GcmHkdfSha256.gcmNonce,r),n,e.aes256GcmHkdfSha256.payload);return new Uint8Array(i)}function Ba(e,t){const r={name:"AES-GCM",iv:e};return t&&(r.additionalData=t),r}async function Ua(e,t){const r=await Pa.subtle.importKey("raw",e,"HKDF",!1,["deriveKey"]);return Pa.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:t,info:Ia},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function La(e,t){const r=await Pa.subtle.importKey("raw",e,"HKDF",!1,["deriveKey"]);return Pa.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:Ra,info:t},r,{name:"HMAC",hash:"SHA-256",length:256},!0,["sign","verify"])}async function Da(e,t,r){const n=await La(e,t),i=await Pa.subtle.sign("HMAC",n,r);return new Uint8Array(i)}async function Ka(e){const t=await Pa.subtle.exportKey("raw",e);return new Uint8Array(t)}const Fa=Uo.bytesToHex;function qa(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function za(e){const t=function(e){const{r:t,s:r}=Lo.secp256k1.Signature.fromCompact(e.slice(2,130)),n=BigInt("0x".concat(e.slice(130)));return{r:Xo(t,{size:32}),s:Xo(r,{size:32}),v:n}}(e),r=is(t.r),n=is(t.s);let i=Number(t.v);0!==i&&1!==i||(i+=27);const o=1-i%2,s=new Uint8Array(64);return s.set(r),s.set(n,r.length),{bytes:s,recovery:o}}function ja(e){if(32!==e.bytes.length)throw new Error("invalid private key length: ".concat(e.bytes.length))}class Ja{constructor(e){if(!e.secp256k1)throw new Error("invalid private key");if(ja(e.secp256k1),this.secp256k1=e.secp256k1,this.createdNs=e.createdNs,!e.publicKey)throw new Error("missing public key");this.publicKey=new tc(e.publicKey)}static async generate(e){const t={bytes:Uo.randomPrivateKey()},r=Oe.fromNumber((new Date).getTime()).mul(1e6),n=new ec({secp256k1Uncompressed:{bytes:Ao(t.bytes)},createdNs:r}),i=await e.signKey(n);return new Ja({secp256k1:t,createdNs:r,publicKey:i})}generated(){return new Date(this.createdNs.div(1e6).toNumber())}async sign(e){const[t,r]=await Co(e,this.secp256k1.bytes,{recovered:!0,der:!1});return new Za({ecdsaCompact:{bytes:t,recovery:r}})}async signKey(e){const t=e.toBytes(),r=await Ca(t),n=await this.sign(r);return new tc({keyBytes:t,signature:n})}static async signerKey(e,t){return Wa(await Ca(e.bytesToSign()),t)}sharedSecret(e){return xo(this.secp256k1.bytes,e.secp256k1Uncompressed.bytes,!1)}encrypt(e,t,r){return Oa(e,this.sharedSecret(t),r)}decrypt(e,t,r){return Ta(e,this.sharedSecret(t),r)}matches(e){return this.publicKey.equals(e)}equals(e){return qa(this.secp256k1.bytes,e.secp256k1.bytes)&&this.publicKey.equals(e.publicKey)}toBytes(){return Sr.encode(this).finish()}validatePublicKey(){return qa(Ao(this.secp256k1.bytes),this.publicKey.secp256k1Uncompressed.bytes)}static fromBytes(e){return new Ja(Sr.decode(e))}static fromLegacyKey(e,t){return new Ja({createdNs:e.timestamp.mul(1e6),secp256k1:e.secp256k1,publicKey:tc.fromLegacyKey(e.publicKey,t)})}}class Ga{constructor(e){if(!e.secp256k1)throw new Error("invalid private key");if(ja(e.secp256k1),this.timestamp=e.timestamp,this.secp256k1=e.secp256k1,!e.publicKey)throw new Error("missing public key");this.publicKey=new rc(e.publicKey)}static generate(){const e={bytes:Uo.randomPrivateKey()},t=Oe.fromNumber((new Date).getTime());return new Ga({secp256k1:e,timestamp:t,publicKey:new rc({secp256k1Uncompressed:{bytes:Ao(e.bytes)},timestamp:t})})}generated(){return new Date(this.timestamp.toNumber())}async sign(e){const[t,r]=await Co(e,this.secp256k1.bytes,{recovered:!0,der:!1});return new Za({ecdsaCompact:{bytes:t,recovery:r}})}async signKey(e){const t=await Ca(e.bytesToSign());return e.signature=await this.sign(t),e}sharedSecret(e){return xo(this.secp256k1.bytes,e.secp256k1Uncompressed.bytes,!1)}encrypt(e,t,r){return Oa(e,this.sharedSecret(t),r)}decrypt(e,t,r){return Ta(e,this.sharedSecret(t),r)}matches(e){return this.publicKey.equals(e)}validatePublicKey(){return qa(Ao(this.secp256k1.bytes),this.publicKey.secp256k1Uncompressed.bytes)}toBytes(){return xr.encode(this).finish()}static fromBytes(e){return new Ga(xr.decode(e))}}function Ha(e){if(64!==e.bytes.length)throw new Error("invalid signature length: ".concat(e.bytes.length));if(0!==e.recovery&&1!==e.recovery)throw new Error("invalid recovery bit: ".concat(e.recovery))}function Va(e,t){return e.recovery===t.recovery&&qa(e.bytes,t.bytes)}function Wa(e,t){const r=_o(e,t.bytes,t.recovery);return r?new ec({secp256k1Uncompressed:{bytes:r},createdNs:Oe.fromNumber(0)}):void 0}class Za{constructor(e){if(e.ecdsaCompact)Ha(e.ecdsaCompact),this.ecdsaCompact=e.ecdsaCompact;else{if(!e.walletEcdsaCompact)throw new Error("invalid signature");Ha(e.walletEcdsaCompact),this.walletEcdsaCompact=e.walletEcdsaCompact}}async signerKey(e){return this.ecdsaCompact?Ja.signerKey(e,this.ecdsaCompact):this.walletEcdsaCompact?Xa.signerKey(e,this.walletEcdsaCompact):void 0}getPublicKey(e){let t;if(this.ecdsaCompact)t=_o(e,this.ecdsaCompact.bytes,this.ecdsaCompact.recovery);else{if(!this.walletEcdsaCompact)throw new Error("invalid v1 signature");t=_o(e,this.walletEcdsaCompact.bytes,this.walletEcdsaCompact.recovery)}return t?new rc({secp256k1Uncompressed:{bytes:t},timestamp:Oe.fromNumber(0)}):void 0}equals(e){return this.ecdsaCompact&&e.ecdsaCompact?Va(this.ecdsaCompact,e.ecdsaCompact):!(!this.walletEcdsaCompact||!e.walletEcdsaCompact)&&Va(this.walletEcdsaCompact,e.walletEcdsaCompact)}toBytes(){return Ue.encode(this).finish()}static fromBytes(e){return new Za(Ue.decode(e))}}var Ya,Qa;(Qa=Ya||(Ya={}))[Qa.INBOX_KEY=0]="INBOX_KEY",Qa[Qa.SEND_KEY=1]="SEND_KEY";class Xa{constructor(e){this.wallet=e}static identitySigRequestText(e){return"XMTP : Create Identity\n".concat(Fa(e),"\n\nFor more info: https://xmtp.org/signatures/")}static signerKey(e,t){return Wa(is(Bs(this.identitySigRequestText(e.bytesToSign()))),t)}async signKey(e){const t=e.toBytes(),r=await this.wallet.signMessage(Xa.identitySigRequestText(t)),{bytes:n,recovery:i}=za(r),o=new Za({walletEcdsaCompact:{bytes:n,recovery:i}});return new tc({keyBytes:t,signature:o})}}const $a=new Oe(10**9).mul(10**9);class ec{constructor(e){if(null===e||void 0===e||!e.secp256k1Uncompressed)throw new Error("invalid public key");!function(e){if(65!==e.bytes.length)throw new Error("invalid public key length: ".concat(e.bytes.length));if(4!==e.bytes[0])throw new Error("unrecognized public key prefix: ".concat(e.bytes[0]))}(e.secp256k1Uncompressed),this.secp256k1Uncompressed=e.secp256k1Uncompressed,this.createdNs=e.createdNs.toUnsigned()}generated(){return new Date(this.timestamp.toNumber())}isFromLegacyKey(){return this.createdNs.lessThan($a)}get timestamp(){return(this.isFromLegacyKey()?this.createdNs:this.createdNs.div(1e6)).toUnsigned()}verify(e,t){return!!e.ecdsaCompact&&function(e,t,r){let n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Oo;try{n=Eo(e),t=ao(t)}catch(p){return!1}const{r:o,s:s}=n;if(i.strict&&n.hasHighS())return!1;const a=ho(t);let c;try{c=So(r)}catch(p){return!1}const{n:u}=Oi,l=fo(s,u),d=uo(a*l,u),f=uo(o*l,u),h=Vi.BASE.multiplyAndAddUnsafe(c,d,f);return!!h&&uo(h.x,u)===o}(e.ecdsaCompact.bytes,t,this.secp256k1Uncompressed.bytes)}async verifyKey(e){if(!e.signature)return!1;const t=await Ca(e.bytesToSign());return this.verify(e.signature,t)}equals(e){return qa(this.secp256k1Uncompressed.bytes,e.secp256k1Uncompressed.bytes)}getEthereumAddress(){return function(e){const t=Ts(Qo(e.slice(1))),r=t.substring(t.length-40);return zs("0x".concat(r))}(this.secp256k1Uncompressed.bytes)}toBytes(){return He.encode(this).finish()}static fromBytes(e){return new ec(He.decode(e))}}class tc extends ec{constructor(e){if(!e.keyBytes)throw new Error("missing key bytes");if(super(He.decode(e.keyBytes)),this.keyBytes=e.keyBytes,!e.signature)throw new Error("missing key signature");this.signature=new Za(e.signature)}get unsignedKey(){return new ec({createdNs:this.createdNs,secp256k1Uncompressed:this.secp256k1Uncompressed})}signerKey(){return this.signature.signerKey(this)}async walletSignatureAddress(){if(!this.signature.walletEcdsaCompact)throw new Error("key was not signed by a wallet");const e=await this.signerKey();if(!e)throw new Error("key signature not valid");return e.getEthereumAddress()}equals(e){return this.unsignedKey.equals(e.unsignedKey)&&this.signature.equals(e.signature)}bytesToSign(){return this.keyBytes}toBytes(){return Ye.encode(this).finish()}static fromBytes(e){return new tc(Ye.decode(e))}toLegacyKey(){if(!this.isFromLegacyKey())throw new Error("cannot be converted to legacy key");let e=this.signature;return e.walletEcdsaCompact&&(e=new Za({ecdsaCompact:e.walletEcdsaCompact})),new rc({timestamp:this.timestamp,secp256k1Uncompressed:this.secp256k1Uncompressed,signature:e})}static fromLegacyKey(e,t){if(!e.signature)throw new Error("key is not signed");let r=e.signature;return t&&(r=new Za({walletEcdsaCompact:r.ecdsaCompact})),new tc({keyBytes:e.bytesToSign(),signature:r})}}class rc extends ec{constructor(e){super({createdNs:e.timestamp.mul(1e6),secp256k1Uncompressed:e.secp256k1Uncompressed}),e.signature&&(!e.signature.ecdsaCompact&&e.signature.walletEcdsaCompact?this.signature=new Za({ecdsaCompact:{bytes:e.signature.walletEcdsaCompact.bytes,recovery:e.signature.walletEcdsaCompact.recovery}}):this.signature=new Za(e.signature))}get timestamp(){return this.createdNs.div(1e6)}bytesToSign(){return $e.encode({timestamp:this.timestamp,secp256k1Uncompressed:this.secp256k1Uncompressed}).finish()}async signWithWallet(e){const t=await e.signMessage(Xa.identitySigRequestText(this.bytesToSign())),{bytes:r,recovery:n}=za(t);this.signature=new Za({ecdsaCompact:{bytes:r,recovery:n}})}walletSignatureAddress(){if(!this.signature)throw new Error("key is not signed");const e=is(Bs(Xa.identitySigRequestText(this.bytesToSign()))),t=this.signature.getPublicKey(e);if(!t)throw new Error("key signature is malformed");return t.getEthereumAddress()}toBytes(){return $e.encode(this).finish()}static fromBytes(e){return new rc($e.decode(e))}}class nc{constructor(e){if(!e.identityKey)throw new Error("missing identity key");if(!e.preKey)throw new Error("missing pre-key");this.identityKey=new tc(e.identityKey),this.preKey=new tc(e.preKey)}walletSignatureAddress(){return this.identityKey.walletSignatureAddress()}equals(e){return this.identityKey.equals(e.identityKey)&&this.preKey.equals(e.preKey)}toBytes(){return Qe.encode(this).finish()}isFromLegacyBundle(){return this.identityKey.isFromLegacyKey()&&this.preKey.isFromLegacyKey()}toLegacyBundle(){return new ic({identityKey:this.identityKey.toLegacyKey(),preKey:this.preKey.toLegacyKey()})}static fromBytes(e){const t=Qe.decode(e);return new nc(t)}static fromLegacyBundle(e){return new nc({identityKey:tc.fromLegacyKey(e.identityKey,!0),preKey:tc.fromLegacyKey(e.preKey)})}}class ic{constructor(e){if(!e.identityKey)throw new Error("missing identity key");if(!e.preKey)throw new Error("missing pre-key");this.identityKey=new rc(e.identityKey),this.preKey=new rc(e.preKey)}equals(e){return this.identityKey.equals(e.identityKey)&&this.preKey.equals(e.preKey)}walletSignatureAddress(){return this.identityKey.walletSignatureAddress()}toBytes(){return rt.encode(this).finish()}static fromBytes(e){const t=rt.decode(e);return new ic(t)}}class oc{constructor(e){this.authorityId=e.authorityId,this.typeId=e.typeId,this.versionMajor=e.versionMajor,this.versionMinor=e.versionMinor}toString(){return"".concat(this.authorityId,"/").concat(this.typeId,":").concat(this.versionMajor,".").concat(this.versionMinor)}static fromString(e){const[t,r]=e.split(":"),[n,i]=t.split("/"),[o,s]=r.split(".");return new oc({authorityId:n,typeId:i,versionMajor:Number(o),versionMinor:Number(s)})}sameAs(e){return this.authorityId===e.authorityId&&this.typeId===e.typeId}}new oc({authorityId:"xmtp.org",typeId:"fallback",versionMajor:1,versionMinor:0});const sc=new oc({authorityId:"xmtp.org",typeId:"text",versionMajor:1,versionMinor:0});var ac;!function(e){e.utf8="UTF-8"}(ac||(ac={}));class cc{get contentType(){return sc}encode(e){return{type:sc,parameters:{encoding:ac.utf8},content:(new TextEncoder).encode(e)}}decode(e){const t=e.parameters.encoding;if(t&&t!==ac.utf8)throw new Error("unrecognized encoding ".concat(t));return(new TextDecoder).decode(e.content)}fallback(e){}shouldPush(){return!0}}class uc{constructor(e,t){this.messageEnvelope=e,this.onSend=t}async messageID(){if(!this.messageEnvelope.message)throw new Error("no envelope message");return Fa(await Ca(this.messageEnvelope.message))}async send(){return this.onSend()}}class lc{constructor(e,t,r,n,i){this.messages=[],this.resolvers=[],this.topics=t,this.client=e,this.callback=this.newMessageCallback(r,n),this.onConnectionLost=i}newMessageCallback(e,t){return async r=>{if(r.message)try{const n=await e(r);if(!n)return;if(t){const e=t(n);e&&this.resubscribeToTopics(e)}const i=this.resolvers.pop();i?i({value:n}):this.messages.unshift(n)}catch(e){console.warn(e)}}}async start(){if(!this.callback)throw new Error("Missing callback for stream");this.subscriptionManager=this.client.apiClient.subscribe({contentTopics:this.topics},(async e=>{this.callback&&await(null===this||void 0===this?void 0:this.callback(e))}),this.onConnectionLost)}static async create(e,t,r,n,i){const o=new lc(e,t,r,n,i);return await o.start(),o}[Symbol.asyncIterator](){return this}async return(){return this.subscriptionManager&&await this.subscriptionManager.unsubscribe(),this.callback?(this.callback=void 0,this.resolvers.forEach((e=>e({value:void 0,done:!0}))),{value:void 0,done:!0}):{value:void 0,done:!0}}next(){const e=this.messages.pop();return e?Promise.resolve({value:e}):this.callback?new Promise((e=>this.resolvers.unshift(e))):Promise.resolve({value:void 0,done:!0})}async resubscribeToTopics(e){var t;if(!this.callback||!this.subscriptionManager)throw new Error("Missing callback for stream");if("function"==typeof(null===(t=this.subscriptionManager)||void 0===t?void 0:t.updateContentTopics))return this.subscriptionManager.updateContentTopics(e);await this.subscriptionManager.unsubscribe(),this.topics=e,this.subscriptionManager=this.client.apiClient.subscribe({contentTopics:this.topics},(async e=>{this.callback&&await(null===this||void 0===this?void 0:this.callback(e))}),this.onConnectionLost)}}const{b64Decode:dc,b64Encode:fc}=e;function hc(e,t){const r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function pc(e){return Oe.fromNumber(e.valueOf()).multiply(1e6)}function mc(e){return new Date(e.divide(1e6).toNumber())}const yc=e=>e&&pc(e).toString();class gc extends Error{constructor(e,t){super(t),this.code=e}}const vc=e=>{if(e.error)throw new gc(e.error.code,e.error.message);if(!e.result)throw new gc(zr.ERROR_CODE_UNSPECIFIED,"No result from Keystore");if("encrypted"in e.result&&!e.result.encrypted)throw new Error("Missing ciphertext");if("decrypted"in e.result&&!e.result.decrypted)throw new Error("Missing decrypted result");return e.result},bc=(e,t)=>({requests:e.map((e=>{var r,n,i,o;const s=new ic({identityKey:null===(r=e.header.sender)||void 0===r?void 0:r.identityKey,preKey:null===(n=e.header.sender)||void 0===n?void 0:n.preKey}),a=t.equals(s);return{payload:e.ciphertext,peerKeys:a?new ic({identityKey:null===(i=e.header.recipient)||void 0===i?void 0:i.identityKey,preKey:null===(o=e.header.recipient)||void 0===o?void 0:o.preKey}):s,headerBytes:e.headerBytes,isSender:a}}))}),wc=e=>"/xmtp/0/".concat(e,"/proto"),Sc=(e,t)=>{const r=[zs(e),zs(t)];return r.sort(),wc("dm-".concat(r.join("-")))},Ec=e=>wc("m-".concat(e)),Ac=e=>wc("contact-".concat(zs(e))),_c=e=>wc("intro-".concat(zs(e))),kc=e=>wc("invite-".concat(zs(e))),xc=e=>wc("userpreferences-".concat(e)),Mc=e=>{const t=/^[\x21-\x7F]+$/,r=e.indexOf("0/");if(-1!==r){const n=e.substring(r+2,e.lastIndexOf("/proto"));return t.test(n)}return!1};class Nc{constructor(e,t,r){this.conversationVersion="v1",this.context=void 0,this.peerAddress=zs(t),this.client=e,this.createdAt=r}get clientAddress(){return this.client.address}async allow(){await this.client.contacts.allow([this.peerAddress])}async deny(){await this.client.contacts.deny([this.peerAddress])}get isAllowed(){return this.client.contacts.isAllowed(this.peerAddress)}get isDenied(){return this.client.contacts.isDenied(this.peerAddress)}get consentState(){return this.client.contacts.consentState(this.peerAddress)}get topic(){return Sc(this.peerAddress,this.client.address)}get ephemeralTopic(){return Sc(this.peerAddress,this.client.address).replace("/xmtp/0/dm-","/xmtp/0/dmE-")}async messages(e){const t=Sc(this.peerAddress,this.client.address),r=await this.client.listEnvelopes(t,this.processEnvelope.bind(this),e);return this.decryptBatch(r,t,!1)}messagesPaginated(e){return this.client.listEnvelopesPaginated(this.topic,this.decodeMessage.bind(this),e)}async decodeMessage(e){if(!e.contentTopic)throw new Error("Missing content topic");const t=await this.processEnvelope(e),r=await this.decryptBatch([t],e.contentTopic,!0);if(!r.length)throw new Error("No results");return r[0]}async prepareMessage(e,t){let r,n=await this.client.getUserContact(this.peerAddress);if(!n)throw new Error("recipient ".concat(this.peerAddress," is not registered"));n instanceof ic||(n=n.toLegacyBundle());const i=null!==t&&void 0!==t&&t.ephemeral?this.ephemeralTopic:this.topic;this.client.contacts.addresses.has(this.peerAddress)?r=[i]:(r=[_c(this.peerAddress),_c(this.client.address),i],this.client.contacts.addresses.add(this.peerAddress));const{payload:o}=await this.client.encodeContent(e,t),s=await this.createMessage(o,n,null===t||void 0===t?void 0:t.timestamp),a=s.toBytes(),c={contentTopic:i,message:a,timestampNs:yc(s.sent)};return new uc(c,(async()=>(await this.client.publishEnvelopes(r.map((e=>({contentTopic:e,message:a,timestamp:s.sent})))),Tc.fromV1Message(s,e,(null===t||void 0===t?void 0:t.contentType)||sc,o,i,this))))}streamMessages(e){return lc.create(this.client,[this.topic],(async e=>this.decodeMessage(e)),void 0,e)}async processEnvelope(e){let{message:t,contentTopic:r}=e;if(!t||!t.length)throw new Error("empty envelope");const n=await Cc.fromBytes(t),{senderAddress:i,recipientAddress:o}=n;if(!i||!o||!r||Sc(i,o)!==this.topic)throw new Error("Headers do not match intended recipient");return n}streamEphemeral(e){return lc.create(this.client,[this.ephemeralTopic],this.decodeMessage.bind(this),void 0,e)}async send(e,t){let r,n=await this.client.getUserContact(this.peerAddress);if(!n)throw new Error("recipient ".concat(this.peerAddress," is not registered"));n instanceof ic||(n=n.toLegacyBundle());const i=null!==t&&void 0!==t&&t.ephemeral?this.ephemeralTopic:this.topic;this.client.contacts.addresses.has(this.peerAddress)?r=[i]:(r=[_c(this.peerAddress),_c(this.client.address),i],this.client.contacts.addresses.add(this.peerAddress));const o=(null===t||void 0===t?void 0:t.contentType)||sc,{payload:s}=await this.client.encodeContent(e,t),a=await this.createMessage(s,n,null===t||void 0===t?void 0:t.timestamp);return await this.client.publishEnvelopes(r.map((e=>({contentTopic:e,message:a.toBytes(),timestamp:a.sent})))),"unknown"===this.consentState&&await this.allow(),Tc.fromV1Message(a,e,o,s,i,this)}async decryptBatch(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=(await this.client.keystore.decryptV1(bc(e,this.client.publicKeyBundle))).responses,i=[];for(let o=0;o<n.length;o++){const s=n[o],a=e[o];try{const{decrypted:e}=vc(s);i.push(await this.buildDecodedMessage(a,e,t))}catch(e){if(r)throw e;console.warn("Error decoding content",e)}}return i}async buildDecodedMessage(e,t,r){const{content:n,contentType:i,error:o,contentFallback:s}=await this.client.decodeContent(t);return Tc.fromV1Message(e,n,i,t,r,this,o,s)}async createMessage(e,t,r){return r=r||new Date,Cc.encode(this.client.keystore,e,this.client.publicKeyBundle,t,r)}}class Pc{constructor(e,t,r,n,i,o){this.conversationVersion="v2",this.topic=t,this.createdAt=n,this.context=i,this.client=e,this.peerAddress=r,this.consentProof=o}get clientAddress(){return this.client.address}async allow(){await this.client.contacts.allow([this.peerAddress])}async deny(){await this.client.contacts.deny([this.peerAddress])}get isAllowed(){return this.client.contacts.isAllowed(this.peerAddress)}get isDenied(){return this.client.contacts.isDenied(this.peerAddress)}get consentState(){return this.client.contacts.consentState(this.peerAddress)}get consentProofPayload(){return this.consentProof}async messages(e){const t=await this.client.listEnvelopes(this.topic,this.processEnvelope.bind(this),e);return this.decryptBatch(t,!1)}messagesPaginated(e){return this.client.listEnvelopesPaginated(this.topic,this.decodeMessage.bind(this),e)}get ephemeralTopic(){return this.topic.replace("/xmtp/0/m","/xmtp/0/mE")}streamEphemeral(e){return lc.create(this.client,[this.ephemeralTopic],this.decodeMessage.bind(this),void 0,e)}streamMessages(e){return lc.create(this.client,[this.topic],this.decodeMessage.bind(this),void 0,e)}async send(e,t){const{payload:r,shouldPush:n}=await this.client.encodeContent(e,t),i=await this.createMessage(r,n,null===t||void 0===t?void 0:t.timestamp),o=null!==t&&void 0!==t&&t.ephemeral?this.ephemeralTopic:this.topic;await this.client.publishEnvelopes([{contentTopic:o,message:i.toBytes(),timestamp:i.sent}]);const s=(null===t||void 0===t?void 0:t.contentType)||sc;return"unknown"===this.consentState&&await this.allow(),Tc.fromV2Message(i,e,s,o,r,this,this.client.address)}async createMessage(e,t,r){const n={topic:this.topic,createdNs:pc(r||new Date)},i=Qt.encode(n).finish(),o=await Ca(hc(i,e)),s={payload:e,sender:this.client.signedPublicKeyBundle,signature:await this.client.keystore.signDigest({digest:o,prekeyIndex:0,identityKey:void 0})},a=pr.encode(s).finish(),{encrypted:c,senderHmac:u}=await this.encryptMessage(a,i),l={v1:void 0,v2:{headerBytes:i,ciphertext:c,senderHmac:u,shouldPush:t}},d=er.encode(l).finish();return Oc.create(l,n,d,u,t)}async decryptBatch(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=(await this.client.keystore.decryptV2(this.buildDecryptRequest(e))).responses,n=[];for(let i=0;i<r.length;i++){const o=r[i],s=e[i];try{const{decrypted:e}=vc(o);n.push(await this.buildDecodedMessage(s,e))}catch(e){if(t)throw e;console.warn("Error decoding content",e)}}return n}buildDecryptRequest(e){return{requests:e.map((e=>({payload:e.ciphertext,headerBytes:e.headerBytes,contentTopic:this.topic})))}}async encryptMessage(e,t){const{responses:r}=await this.client.keystore.encryptV2({requests:[{payload:e,headerBytes:t,contentTopic:this.topic}]});if(1!==r.length)throw new Error("Invalid response length");const{encrypted:n,senderHmac:i}=vc(r[0]);return{encrypted:n,senderHmac:i}}async buildDecodedMessage(e,t){var r,n,i;const o=pr.decode(t);if(null===(r=o.sender)||void 0===r||!r.identityKey||null===(n=o.sender)||void 0===n||!n.preKey||!o.signature)throw new Error("incomplete signed content");await async function(e,t,r){const n=null===(t=e.sender)||void 0===t?void 0:t.preKey;if(!n||!n.signature||!n.keyBytes)throw new Error("missing pre-key or pre-key signature");const i=null===(r=e.sender)||void 0===r?void 0:r.identityKey;if(!i)throw new Error("missing identity key in bundle");if(!await new tc(i).verifyKey(new tc(n)))throw new Error("pre key not signed by identity key")}(o);const s=await Ca(hc(e.headerBytes,o.payload));if(!new tc(null===(i=o.sender)||void 0===i?void 0:i.preKey).verify(new Za(o.signature),s))throw new Error("invalid signature");const a=await new nc(o.sender).walletSignatureAddress(),{content:c,contentType:u,error:l,contentFallback:d}=await this.client.decodeContent(o.payload);return Tc.fromV2Message(e,c,u,this.topic,o.payload,this,a,l,d)}async prepareMessage(e,t){const{payload:r,shouldPush:n}=await this.client.encodeContent(e,t),i=await this.createMessage(r,n,null===t||void 0===t?void 0:t.timestamp),o=i.toBytes(),s=null!==t&&void 0!==t&&t.ephemeral?this.ephemeralTopic:this.topic,a={contentTopic:s,message:o,timestampNs:yc(i.sent)};return new uc(a,(async()=>(await this.client.publishEnvelopes([{contentTopic:s,message:o,timestamp:i.sent}]),Tc.fromV2Message(i,e,(null===t||void 0===t?void 0:t.contentType)||sc,s,r,this,this.client.address))))}async processEnvelope(e){if(!e.message||!e.contentTopic)throw new Error("empty envelope");const t=er.decode(e.message);if(!t.v2)throw new Error("unknown message version");const r=Qt.decode(t.v2.headerBytes);if(r.topic!==this.topic)throw new Error("topic mismatch");return Oc.create(t,r,e.message,t.v2.senderHmac,t.v2.shouldPush)}async decodeMessage(e){if(!e.contentTopic)throw new Error("Missing content topic");const t=await this.processEnvelope(e),r=await this.decryptBatch([t],!0);if(!r.length)throw new Error("No results");return r[0]}}const Ic=e=>{var t,r;if(null!==(t=e.v1)&&void 0!==t&&t.ciphertext)return[e.v1.headerBytes,new Na(e.v1.ciphertext)];if(null!==(r=e.v2)&&void 0!==r&&r.ciphertext)return[e.v2.headerBytes,new Na(e.v2.ciphertext)];throw new Error("unknown message version")};class Rc{constructor(e,t,r){[this.headerBytes,this.ciphertext]=Ic(r),this.id=e,this.bytes=t}toBytes(){return this.bytes}}class Cc extends Rc{constructor(e,t,r,n,i){super(e,t,r),this.conversation=void 0,this.senderAddress=i,this.header=n}static async create(e,t,r){if(!t.sender)throw new Error("missing message sender");const n=new ic(t.sender).walletSignatureAddress(),i=Fa(await Ca(r));return new Cc(i,r,e,t,n)}get sent(){return new Date(this.header.timestamp.toNumber())}get recipientAddress(){var e;if(null!==(e=this.header)&&void 0!==e&&null!==(e=e.recipient)&&void 0!==e&&e.identityKey)return new rc(this.header.recipient.identityKey).walletSignatureAddress()}async decrypt(e,t){const r=(await e.decryptV1(bc([this],t))).responses;if(!r.length)throw new Error("No response from Keystore");const{decrypted:n}=vc(r[0]);return n}static fromBytes(e){const t=er.decode(e),[r]=Ic(t),n=Vt.decode(r);if(!n)throw new Error("missing message header");if(!n.sender)throw new Error("missing message sender");if(!n.sender.identityKey)throw new Error("missing message sender identity key");if(!n.sender.preKey)throw new Error("missing message sender pre-key");if(!n.recipient)throw new Error("missing message recipient");if(!n.recipient.identityKey)throw new Error("missing message recipient identity-key");if(!n.recipient.preKey)throw new Error("missing message recipient pre-key");return Cc.create(t,n,e)}static async encode(e,t,r,n,i){const o={sender:r,recipient:n,timestamp:Oe.fromNumber(i.getTime())},s=Vt.encode(o).finish(),a=await e.encryptV1({requests:[{recipient:n,headerBytes:s,payload:t}]});if(!a.responses.length)throw new Error("No response from Keystore");const{encrypted:c}=vc(a.responses[0]),u={v1:{headerBytes:s,ciphertext:c},v2:void 0},l=er.encode(u).finish();return Cc.create(u,o,l)}}class Oc extends Rc{constructor(e,t,r,n,i,o){super(e,t,r),this.header=n,this.senderHmac=i,this.shouldPush=o}static async create(e,t,r,n,i){const o=Fa(await Ca(r));return new Oc(o,r,e,t,n,i)}get sent(){return mc(this.header.createdNs)}}class Tc{constructor(e){let{id:t,messageVersion:r,senderAddress:n,recipientAddress:i,conversation:o,contentBytes:s,contentType:a,contentTopic:c,content:u,sent:l,error:d,contentFallback:f}=e;this.id=t,this.messageVersion=r,this.senderAddress=n,this.recipientAddress=i,this.conversation=o,this.contentType=a,this.sent=l,this.error=d,this.content=u,this.contentTopic=c,this.contentBytes=s,this.contentFallback=f}toBytes(){var e,t;return rr.encode({...this,conversation:{topic:this.conversation.topic,context:null!==(e=this.conversation.context)&&void 0!==e?e:void 0,createdNs:pc(this.conversation.createdAt),peerAddress:this.conversation.peerAddress,consentProofPayload:null!==(t=this.conversation.consentProof)&&void 0!==t?t:void 0},sentNs:pc(this.sent)}).finish()}static async fromBytes(e,t){const r=rr.decode(e),n=r.messageVersion;if("v1"!==n&&"v2"!==n)throw new Error("Invalid message version");if(!r.conversation)throw new Error("No conversation reference found");const{content:i,contentType:o,error:s,contentFallback:a}=await t.decodeContent(r.contentBytes);return new Tc({...r,content:i,contentType:o,error:s,messageVersion:n,sent:mc(r.sentNs),conversation:Bc(r.conversation,t,n),contentFallback:a})}static fromV1Message(e,t,r,n,i,o,s,a){const{id:c,senderAddress:u,recipientAddress:l,sent:d}=e;if(!u)throw new Error("Sender address is required");return new Tc({id:c,messageVersion:"v1",senderAddress:u,recipientAddress:l,sent:d,content:t,contentBytes:n,contentType:r,contentTopic:i,conversation:o,error:s,contentFallback:a})}static fromV2Message(e,t,r,n,i,o,s,a,c){const{id:u,sent:l}=e;return new Tc({id:u,messageVersion:"v2",senderAddress:s,sent:l,content:t,contentBytes:i,contentType:r,contentTopic:n,conversation:o,error:a,contentFallback:c})}}function Bc(e,t,r){if("v1"===r)return new Nc(t,e.peerAddress,mc(e.createdNs));if("v2"===r)return new Pc(t,e.topic,e.peerAddress,mc(e.createdNs),e.context,e.consentProofPayload);throw new Error("Unknown conversation version ".concat(r))}class Uc extends Error{constructor(e){super("no pre-key matches: ".concat(Fa(e.secp256k1Uncompressed.bytes)))}}class Lc{constructor(e){if(this.version=2,!e.identityKey)throw new Error("missing identity key");this.identityKey=new Ja(e.identityKey),this.preKeys=(e.preKeys||[]).map((e=>new Ja(e)))}static async generate(e){const t=await Ja.generate(new Xa(e)),r=new Lc({identityKey:t,preKeys:[]});return await r.addPreKey(),r}getCurrentPreKey(){return this.preKeys[0]}findPreKey(e){const t=this.preKeys.find((t=>t.matches(e)));if(!t)throw new Uc(e);return t}async addPreKey(){this._publicKeyBundle=void 0;const e=await Ja.generate(this.identityKey);this.preKeys.unshift(e)}getPublicKeyBundle(){return this._publicKeyBundle||(this._publicKeyBundle=new nc({identityKey:this.identityKey.publicKey,preKey:this.getCurrentPreKey().publicKey})),this._publicKeyBundle}async sharedSecret(e,t,r){if(!e.identityKey||!e.preKey)throw new Error("invalid peer key bundle");if(!await e.identityKey.verifyKey(e.preKey))throw new Error("peer preKey signature invalid");if(!this.identityKey)throw new Error("missing identity key");let n,i,o;r?(o=this.findPreKey(t),n=o.sharedSecret(e.identityKey),i=this.identityKey.sharedSecret(e.preKey)):(o=this.findPreKey(t),n=this.identityKey.sharedSecret(e.preKey),i=o.sharedSecret(e.identityKey));const s=o.sharedSecret(e.preKey),a=new Uint8Array(n.length+i.length+s.length);return a.set(n,0),a.set(i,n.length),a.set(s,n.length+i.length),a}encode(){return Ir.encode({v1:void 0,v2:this}).finish()}validatePublicKeys(){return!!this.identityKey.validatePublicKey()&&this.preKeys.every((e=>e.validatePublicKey()))}equals(e){if(this.preKeys.length!==e.preKeys.length)return!1;for(let t=0;t<this.preKeys.length;t++)if(!this.preKeys[t].equals(e.preKeys[t]))return!1;return this.identityKey.equals(e.identityKey)}static fromLegacyBundle(e){return new Lc({identityKey:Ja.fromLegacyKey(e.identityKey,!0),preKeys:e.preKeys.map((e=>Ja.fromLegacyKey(e)))})}}class Dc{constructor(e){if(this.version=1,!e.identityKey)throw new Error("missing identity key");this.identityKey=new Ga(e.identityKey),this.preKeys=(e.preKeys||[]).map((e=>new Ga(e)))}static async generate(e){const t=Ga.generate();e&&await t.publicKey.signWithWallet(e);const r=new Dc({identityKey:t,preKeys:[]});return await r.addPreKey(),r}getCurrentPreKey(){return this.preKeys[0]}findPreKey(e){const t=this.preKeys.find((t=>t.matches(e)));if(!t)throw new Uc(e);return t}async addPreKey(){this._publicKeyBundle=void 0;const e=Ga.generate();await this.identityKey.signKey(e.publicKey),this.preKeys.unshift(e)}getPublicKeyBundle(){return this._publicKeyBundle||(this._publicKeyBundle=new ic({identityKey:this.identityKey.publicKey,preKey:this.getCurrentPreKey().publicKey})),this._publicKeyBundle}validatePublicKeys(){return!!this.identityKey.validatePublicKey()&&this.preKeys.every((e=>e.validatePublicKey()))}async sharedSecret(e,t,r){if(!e.identityKey||!e.preKey)throw new Error("invalid peer key bundle");if(!await e.identityKey.verifyKey(e.preKey))throw new Error("peer preKey signature invalid");if(!this.identityKey)throw new Error("missing identity key");let n,i,o;r?(o=this.findPreKey(t),n=o.sharedSecret(e.identityKey),i=this.identityKey.sharedSecret(e.preKey)):(o=this.findPreKey(t),n=this.identityKey.sharedSecret(e.preKey),i=o.sharedSecret(e.identityKey));const s=o.sharedSecret(e.preKey),a=new Uint8Array(n.length+i.length+s.length);return a.set(n,0),a.set(i,n.length),a.set(s,n.length+i.length),a}encode(){return Ir.encode({v1:this,v2:void 0}).finish()}}function Kc(e){const t=Ir.decode(e);if(t.v1)return new Dc(t.v1);if(t.v2)return new Lc(t.v2);throw new Error("unknown private key bundle version")}class Fc{constructor(e){let{walletAddr:t,createdNs:r}=e;this.walletAddr=t,this.createdNs=r}static create(e,t){return t=t||new Date,new Fc({walletAddr:e,createdNs:pc(t)})}static fromBytes(e){const t=lt.decode(e);return new Fc(t)}toBytes(){return lt.encode(this).finish()}}class qc{constructor(e){let{identityKey:t,authDataBytes:r,authDataSignature:n}=e;if(!t)throw new Error("Missing identity key in token");if(!n)throw new Error("Missing authDataSignature in token");this.identityKey=t,this.authDataBytes=r,this.authDataSignature=n}get authData(){return this._authData||(this._authData=Fc.fromBytes(this.authDataBytes)),this._authData}get ageMs(){return(new Date).valueOf()-this.authData.createdNs.div(1e6).toNumber()}toBytes(){return ct.encode(this).finish()}static fromBytes(e){return new qc(ct.decode(e))}toBase64(){return Buffer.from(this.toBytes()).toString("base64")}}class zc{constructor(e){this.keystore=e}async createToken(e){return(e=>e instanceof qc?e:new qc(e))(await this.keystore.createAuthToken({timestampNs:e?pc(e):void 0}))}}const jc=e=>new Promise((t=>setTimeout(t,e))),Jc=e=>!!e;async function Gc(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jc,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;const s="number"==typeof o?o:1;try{return await e(...t)}catch(o){if(!i(o)||s>r)throw o;return await jc(n),Gc(e,t,r,n,i,s+1)}}class Hc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3590;this.authenticator=e,this.maxAgeMs=1e3*t}async getToken(){return(!this.token||this.token.ageMs>this.maxAgeMs)&&await this.refresh(),this.token.toBase64()}async refresh(){this.token=await this.authenticator.createToken()}}const{MessageApi:Vc,SortDirection:Wc}=t,Zc={local:"http://localhost:5555",dev:"https://dev.xmtp.network",production:"https://production.xmtp.network"};var Yc;!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(Yc||(Yc={}));class Qc extends Error{constructor(e,t){super(e),this.code=t}static fromObject(e){return new Qc(e.message,e.code)}}const Xc=e=>!!e&&!("AbortError"!==e.name&&!e.message.includes("aborted")),$c=e=>!(e=>!(!e||!("code"in e)||16!==e.code))(e),eu=e=>e.message&&e.message.length?("string"==typeof e.message&&(e.message=dc(e.message)),e):e;class tu{constructor(e,t){this.pathPrefix=e,this.maxRetries=(null===t||void 0===t?void 0:t.maxRetries)||5,this.appVersion=null===t||void 0===t?void 0:t.appVersion,this.version="xmtp-js/11.6.1",e===Zc.dev&&console.info("\nXX    XX MM    MM TTTTTT PPPPPP   DDDDD   EEEEEEE VV     VV \n XX  XX  MMM  MMM   TT   PP   PP  DD  DD  EE      VV     VV \n  XXXX   MM MM MM   TT   PPPPPP   DD   DD EEEEE    VV   VV  \n XX  XX  MM    MM   TT   PP       DD   DD EE        VV VV   \nXX    XX MM    MM   TT   PP       DDDDDD  EEEEEEE    VVV    \n\nConnected to the XMTP 'dev' network. Use 'production' for production messages.\nhttps://github.com/xmtp/xmtp-js#xmtp-production-and-dev-network-environments\n")}async _query(e){try{return await Gc(Vc.Query,[e,{pathPrefix:this.pathPrefix,mode:"cors",headers:this.headers()}],this.maxRetries,100)}catch(e){throw Qc.fromObject(e)}}_batchQuery(e){return Gc(Vc.BatchQuery,[e,{pathPrefix:this.pathPrefix,mode:"cors",headers:this.headers()}],this.maxRetries,100)}async _publish(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=await this.getToken(),n=this.headers();n.set("Authorization","Bearer ".concat(r));try{return await Gc(Vc.Publish,[e,{pathPrefix:this.pathPrefix,mode:"cors",headers:n}],this.maxRetries,100,$c)}catch(r){var i;if($c(r)||t>=1)throw Qc.fromObject(r);return await(null===(i=this.authCache)||void 0===i?void 0:i.refresh()),this._publish(e,t+1)}}_subscribe(e,t,r){const n=new AbortController;return(async()=>{for(;;){const i=(new Date).getTime();try{if(await Vc.Subscribe(e,t,{pathPrefix:this.pathPrefix,signal:n.signal,mode:"cors",headers:this.headers()}),n.signal.aborted)return;console.info("Stream connection closed. Resubscribing"),(new Date).getTime()-i<1e3&&await jc(1e3),null===r||void 0===r||r()}catch(e){if(Xc(e)||n.signal.aborted)return;console.info("Stream connection closed. Resubscribing"),(new Date).getTime()-i<1e3&&await jc(1e3),null===r||void 0===r||r()}}})(),{unsubscribe:async()=>{null===n||void 0===n||n.abort()}}}async query(e,t){let{direction:r=Wc.SORT_DIRECTION_ASCENDING,limit:n}=t;const i=[];for await(const o of this.queryIteratePages(e,{direction:r,pageSize:n&&n<100?n:100}))for(const e of o)if(i.push(e),n&&i.length===n)return i;return i}async*queryIterator(e,t){for await(const r of this.queryIteratePages(e,t))for(const e of r)yield e}queryIteratePages(e,t){try{var r=this;let{contentTopic:n,startTime:i,endTime:o}=e,{direction:s,pageSize:a=10}=t;return async function*(){if(!n||!n.length)throw new Error("Must specify content topics");const e=yc(i),t=yc(o);let c;for(;;){var u,l,d;const i={limit:a,direction:s,cursor:c},o=await r._query({contentTopics:[n],startTimeNs:e,endTimeNs:t,pagingInfo:i});if(null===(u=o.envelopes)||void 0===u||!u.length)return;if(yield o.envelopes.map(eu),null===(l=o.pagingInfo)||void 0===l||!l.cursor)return;c=null===(d=o.pagingInfo)||void 0===d?void 0:d.cursor}}()}catch(Qa){return Promise.reject(Qa)}}async batchQuery(e){const t=[];for(let i=0;i<e.length;i+=50){const r=e.slice(i,i+50),n=[];for(const e of r)n.push({contentTopics:[e.contentTopic],startTimeNs:yc(e.startTime),endTimeNs:yc(e.endTime),pagingInfo:{limit:e.pageSize||10,direction:e.direction||Wc.SORT_DIRECTION_ASCENDING}});const o={requests:n};t.push(o)}const r=await Promise.all(t.map((async e=>this._batchQuery(e)))),n=[];for(const i of r){if(!i.responses)throw new Error("BatchQueryResponse missing responses");for(const e of i.responses)e.envelopes?n.push(e.envelopes.map(eu)):n.push([])}return n}async publish(e){const t=[];for(const{contentTopic:r,message:n,timestamp:i}of e){if(!r.length)throw new Error("Content topic cannot be empty string");if(!n.length)throw new Error("0 length messages not allowed");const e=i||new Date;t.push({contentTopic:r,timestampNs:yc(e),message:Uint8Array.from(n)})}return this._publish({envelopes:t})}subscribe(e,t,r){if(!e.contentTopics.length)throw new Error("Must provide list of contentTopics to subscribe to");return this._subscribe(e,(e=>t(eu(e))),r)}getToken(){if(!this.authCache)throw new Error("AuthCache is not set on API Client");return this.authCache.getToken()}setAuthenticator(e,t){this.authCache=new Hc(e,t)}headers(){const e=new Headers;return e.set("X-Client-Version",this.version),this.appVersion&&e.set("X-App-Version",this.appVersion),e}}class ru{constructor(e,t){this.disableOffset=!1,this.jobType=e,this.mutex=new Ys,this.keystore=t}get protoJobType(){return function(e){const t={v1:jr.JOB_TYPE_REFRESH_V1,v2:jr.JOB_TYPE_REFRESH_V2,"user-preferences":jr.JOB_TYPE_REFRESH_PPPP}[e];if(!t)throw new Error("unknown job type: ".concat(e));return t}(this.jobType)}async run(e){return this.mutex.runExclusive((async()=>{const t=await this.getLastRunTime(),r=new Date,n=await e(t?this.disableOffset?t:new Date(t.getTime()-1e4):void 0);return await this.setLastRunTime(r),n}))}async resetLastRunTime(){await this.keystore.setRefreshJob({jobType:this.protoJobType,lastRunNs:pc(new Date(0))})}async getLastRunTime(){const{lastRunNs:e}=await this.keystore.getRefreshJob(Wn.fromPartial({jobType:this.protoJobType}));if(!e.equals(Oe.fromNumber(0)))return mc(e)}async setLastRunTime(e){await this.keystore.setRefreshJob({jobType:this.protoJobType,lastRunNs:pc(e)})}}const nu=e=>Boolean(e.recipientAddress&&e.senderAddress);class iu{constructor(e){this.client=e,this.v1JobRunner=new ru("v1",e.keystore),this.v2JobRunner=new ru("v2",e.keystore)}async list(){const[e,t]=await Promise.all([this.listV1Conversations(),this.listV2Conversations()]),r=e.concat(t);return r.sort(((e,t)=>e.createdAt.getTime()-t.createdAt.getTime())),r}async listFromCache(){const[e,t]=await Promise.all([this.getV1ConversationsFromKeystore(),this.getV2ConversationsFromKeystore()]),r=e.concat(t);return r.sort(((e,t)=>e.createdAt.getTime()-t.createdAt.getTime())),r}async listV1Conversations(){return this.v1JobRunner.run((async e=>{const t=await this.getIntroductionPeers({startTime:e,direction:Wc.SORT_DIRECTION_ASCENDING});return await this.client.keystore.saveV1Conversations({conversations:Array.from(t).map((e=>{let[t,r]=e;return{peerAddress:t,createdNs:pc(r),topic:Sc(t,this.client.address),context:void 0,consentProofPayload:void 0}})).filter((e=>Mc(e.topic)))}),(await this.client.keystore.getV1Conversations()).conversations.map(this.conversationReferenceToV1.bind(this))}))}async listV2Conversations(){return this.v2JobRunner.run((async e=>{const t=await this.getV2ConversationsFromKeystore(),r=await this.updateV2Conversations(e),n=new Set(t.map((e=>e.topic)));for(const i of r)n.has(i.topic)||(t.push(i),n.add(i.topic));return t.sort(((e,t)=>e.createdAt.getTime()-t.createdAt.getTime())),t}))}async getV2ConversationsFromKeystore(){return(await this.client.keystore.getV2Conversations()).conversations.map(this.conversationReferenceToV2.bind(this))}async getV1ConversationsFromKeystore(){return(await this.client.keystore.getV1Conversations()).conversations.map(this.conversationReferenceToV1.bind(this))}async updateV2Conversations(e){const t=await this.client.listInvitations({startTime:e,direction:Wc.SORT_DIRECTION_ASCENDING});return this.decodeInvites(t)}async decodeInvites(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{responses:r}=await this.client.keystore.saveInvites({requests:e.map((e=>({payload:e.message,timestampNs:Oe.fromString(e.timestampNs),contentTopic:e.contentTopic}))).filter((e=>Mc(e.contentTopic)))}),n=[];for(const i of r)try{n.push(this.saveInviteResponseToConversation(i))}catch(e){if(console.warn("Error saving invite response to conversation: ",e),t)throw e}return n}saveInviteResponseToConversation(e){let{result:t,error:r}=e;if(r||!t||!t.conversation)throw new Error("Error from keystore: ".concat(null===r||void 0===r?void 0:r.code," ").concat(null===r||void 0===r?void 0:r.message,"}"));return this.conversationReferenceToV2(t.conversation)}conversationReferenceToV2(e){return new Pc(this.client,e.topic,e.peerAddress,mc(e.createdNs),e.context,e.consentProofPayload)}conversationReferenceToV1(e){return new Nc(this.client,e.peerAddress,mc(e.createdNs))}async stream(e){const t=new Set,r=_c(this.client.address),n=kc(this.client.address),i=[r,n];return lc.create(this.client,i,(async e=>{if(e.contentTopic===r){if(!e.message)throw new Error("empty envelope");const r=await Cc.fromBytes(e.message),n=this.getPeerAddress(r);if(!(e=>!t.has(e)&&(t.add(e),!0))(n))return;return await r.decrypt(this.client.keystore,this.client.publicKeyBundle),new Nc(this.client,n,r.sent)}if(e.contentTopic===n){const t=await this.decodeInvites([e],!0);if(t.length)return t[0]}throw new Error("unrecognized invite topic")}).bind(this),void 0,e)}async streamAllMessages(e){const t=_c(this.client.address),r=kc(this.client.address),n=new Set([t,r]),i=new Map;for(const c of await this.list())n.add(c.topic),i.set(c.topic,c);const o=(e,t)=>!n.has(e)&&(i.set(e,t),n.add(e),!0),s=await lc.create(this.client,Array.from(n.values()),(async e=>{const n=e.contentTopic;if(!n||!e.message)return null;if(n===t){const t=await Cc.fromBytes(e.message);if(!nu(t))return null;const r=this.getPeerAddress(t);return new Nc(this.client,r,t.sent).decodeMessage(e)}if(n===r)return(await this.decodeInvites([e],!0))[0];const o=i.get(n);if(o instanceof Nc)return o.decodeMessage(e);if(o instanceof Pc)return o.decodeMessage(e);throw console.log("Unknown topic"),new Error("Unknown topic")}),(e=>{if(e instanceof Tc&&e.contentTopic===t){var r;const t=new Nc(this.client,(null===(r=e.recipientAddress)||void 0===r?void 0:r.toLowerCase())===this.client.address.toLowerCase()?e.senderAddress:e.recipientAddress,e.sent);return o(t.topic,t)?Array.from(n.values()):void 0}if(e instanceof Pc)return o(e.topic,e)?Array.from(n.values()):void 0}),e),a=async function*(){for await(const e of s)if(e instanceof Tc&&(yield e),e instanceof Pc)for(const t of await e.messages())yield t}();return a.return=async()=>(await(null===s||void 0===s?void 0:s.return()),{value:void 0,done:!0}),a}async getIntroductionPeers(e){const t=_c(this.client.address),r=await this.client.listEnvelopes(t,(e=>{if(!e.message)throw new Error("empty envelope");return Cc.fromBytes(e.message)}),e),n=new Map;for(const i of r){if(!nu(i))continue;const t=this.getPeerAddress(i);if(t){const r=n.get(t);if(!r||r>i.sent)try{await i.decrypt(this.client.keystore,this.client.publicKeyBundle),n.set(t,i.sent)}catch(e){continue}}}return n}async newConversation(e,t,r){let n=await this.client.getUserContact(e);if(!n)throw new Error("Recipient ".concat(e," is not on the XMTP network"));if(e.toLowerCase()===this.client.address.toLowerCase())throw new Error("self messaging not supported");if(n instanceof ic&&(null===t||void 0===t||!t.conversationId))return new Nc(this.client,e,new Date);if(null===t||void 0===t||!t.conversationId){const t=(await this.listV1Conversations()).find((t=>t.peerAddress.toLowerCase()===e.toLowerCase()));if(t){if(!this.client.signedPublicKeyBundle.isFromLegacyBundle())throw new Error("cannot resume pre-existing V1 conversation; client keys not compatible");if(!(n instanceof ic||n.isFromLegacyBundle()))throw new Error("cannot resume pre-existing V1 conversation; peer keys not compatible");return t}}n instanceof ic&&(n=nc.fromLegacyBundle(n));const i=r=>{var n,i,o,s,a;return r.peerAddress.toLowerCase()===e.toLowerCase()&&(s=t,a=null!==(n=r.context)&&void 0!==n?n:void 0,(null===(i=s)||void 0===i?void 0:i.conversationId)===(null===(o=a)||void 0===o?void 0:o.conversationId))};return(await this.getV2ConversationsFromKeystore()).find(i)||this.v2JobRunner.run((async e=>(await this.updateV2Conversations(e)).find(i)||this.createV2Convo(n,t,r)))}async createV2Convo(e,t,r){const n=new Date,{payload:i,conversation:o}=await this.client.keystore.createInvite({recipient:e,context:t,createdNs:pc(n),consentProof:r});if(!i||!o)throw new Error("Required field not returned from Keystore");const s=await e.walletSignatureAddress();return await this.client.publishEnvelopes([{contentTopic:kc(s),message:i,timestamp:n},{contentTopic:kc(this.client.address),message:i,timestamp:n}]),await this.client.contacts.allow([s]),this.conversationReferenceToV2(o)}getPeerAddress(e){var t;return(null===(t=e.recipientAddress)||void 0===t?void 0:t.toLowerCase())===this.client.address.toLowerCase()?e.senderAddress:e.recipientAddress}}class ou{constructor(e){this.storage=e}static create(){if("undefined"==typeof localStorage)throw new Error("Missing LocalStorage. Use ephemeralPersistence instead");return new ou(localStorage)}async getItem(e){const t=this.storage.getItem(e);return null===t?null:Uint8Array.from(Buffer.from(t,"binary"))}async setItem(e,t){this.storage.setItem(e,Buffer.from(t).toString("binary"))}}class su{constructor(){this.store=new Map}get length(){return this.store.size}clear(){this.store=new Map}getItem(e){return this.validateString(e),this.store.has(e)?String(this.store.get(e)):null}key(e){if(void 0===e)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");const t=[...this.store.keys()];return e>=t.length?null:t[e]}removeItem(e){this.validateString(e),this.store.delete(e)}setItem(e,t){this.validateString(e),this.validateString(t),this.store.set(String(e),String(t))}validateString(e){if("string"!=typeof e)throw new TypeError("Key must be a string")}}class au extends ou{static create(){return new ou(new su)}}class cu extends Error{}class uu{constructor(e){if(!e.publicKey.signature)throw new Error("Provided public key is not signed");this.identityKey=e}async createToken(e){const t=Fc.create(this.identityKey.publicKey.walletSignatureAddress(),e||new Date).toBytes(),r=Ts(t),n=await this.identityKey.sign(is(r));return new qc(ct.fromPartial({identityKey:$e.fromPartial(this.identityKey.publicKey),authDataBytes:t,authDataSignature:Ue.fromPartial(n)}))}}const lu=new(0,Qs.ec)("secp256k1"),du=Pa.subtle,fu=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),hu=Buffer.alloc(32,0);function pu(e,t){if(!e)throw new Error(t||"Assertion failed")}function mu(e){return t=e,!(!Buffer.isBuffer(t)||32!==t.length)&&e.compare(hu)>0&&e.compare(fu)<0;var t}function yu(e){const t=new Uint8Array(e);return Pa.getRandomValues(t),Buffer.from(t)}async function gu(e){const t=await du.digest("SHA-512",e);return Buffer.from(t)}function vu(e){return function(t,r,n){return new Promise((function(i){return du.importKey("raw",r,{name:"AES-CBC"},!1,[e]).then((function(r){const i={name:"AES-CBC",iv:t};return du[e](i,r,n)})).then((function(e){i(Buffer.from(new Uint8Array(e)))}))}))}}const bu=vu("encrypt"),wu=vu("decrypt");async function Su(e,t){const r=await du.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return Buffer.from(await du.sign({name:"HMAC",hash:"SHA-256"},r,t))}function Eu(e){return pu(32===e.length,"Bad private key"),pu(mu(e),"Bad private key"),Buffer.from(lu.keyFromPrivate(e).getPublic("array"))}function Au(e,t){return new Promise((function(r){pu(Buffer.isBuffer(e),"Bad private key"),pu(Buffer.isBuffer(t),"Bad public key"),pu(32===e.length,"Bad private key"),pu(mu(e),"Bad private key"),pu(65===t.length||33===t.length,"Bad public key"),65===t.length&&pu(4===t[0],"Bad public key"),33===t.length&&pu(2===t[0]||3===t[0],"Bad public key");const n=lu.keyFromPrivate(e),i=lu.keyFromPublic(t),o=n.derive(i.getPublic());r(Buffer.from(o.toArray()))}))}async function _u(e,t){await(0,Xs.Ay)();const r=e.publicKey.secp256k1Uncompressed.bytes,n=e.secp256k1.bytes;return(0,Xs.dA)(r,n,t)}async function ku(e,t){await(0,Xs.Ay)();const r=e.publicKey.secp256k1Uncompressed.bytes,n=e.secp256k1.bytes;return(0,Xs.BA)(r,n,t)}class xu{constructor(e){let{topic:t,context:r,aes256GcmHkdfSha256:n,consentProof:i}=e;if(!t||!t.length)throw new Error("Missing topic");if(!n||!n.keyMaterial||!n.keyMaterial.length)throw new Error("Missing key material");this.topic=t,this.context=r,this.aes256GcmHkdfSha256=n,this.consentProof=i}static createRandom(e,t){const r=Ec(Buffer.from(Pa.getRandomValues(new Uint8Array(32))).toString("base64").replace(/=*$/g,"").replace(/\//g,"-")),n=Pa.getRandomValues(new Uint8Array(32));return new xu({topic:r,aes256GcmHkdfSha256:{keyMaterial:n},context:e,consentProof:t})}toBytes(){return Mt.encode(this).finish()}static fromBytes(e){return new xu(Mt.decode(e))}}class Mu{constructor(e){let{sender:t,recipient:r,createdNs:n}=e;if(!t)throw new Error("Missing sender");if(!r)throw new Error("Missing recipient");this.sender=new nc(t),this.recipient=new nc(r),this.createdNs=n}toBytes(){return Ot.encode(this).finish()}static fromBytes(e){return new Mu(Ot.decode(e))}}class Nu{constructor(e){let{headerBytes:t,ciphertext:r}=e;if(!t||!t.length)throw new Error("Missing header bytes");if(!r)throw new Error("Missing ciphertext");this.headerBytes=t,this.ciphertext=new Na(r)}get header(){return this._header||(this._header=Mu.fromBytes(this.headerBytes)),this._header}async getInvitation(e){if(this._invitation)return this._invitation;const t=this.header;let r;r=e.identityKey.matches(this.header.sender.identityKey)?await e.sharedSecret(t.recipient,t.sender.preKey,!1):await e.sharedSecret(t.sender,t.recipient.preKey,!0);const n=await Ta(this.ciphertext,r,this.headerBytes);return this._invitation=xu.fromBytes(n),this._invitation}toBytes(){return Bt.encode(this).finish()}static fromBytes(e){return new Nu(Bt.decode(e))}}class Pu{constructor(e){let{v1:t}=e;if(!t)throw new Error("Missing v1 or v2 invitation");this.v1=new Nu(t)}toBytes(){return Ut.encode(this).finish()}static fromBytes(e){return new Pu(Ut.decode(e))}static async fromEnvelope(e){var t;if(!e.message||!e.timestampNs)throw new Error("invalid invitation envelope");const r=Pu.fromBytes(e.message),n=Oe.fromString(e.timestampNs),i=null===(t=r.v1)||void 0===t?void 0:t.header.createdNs;if(!i||!i.equals(n))throw new Error("envelope and header timestamp mistmatch");return r}static async createV1(e){let{sender:t,recipient:r,created:n,invitation:i}=e;const o=new Mu({sender:t.getPublicKeyBundle(),recipient:r,createdNs:pc(n)}).toBytes(),s=await t.sharedSecret(r,t.getCurrentPreKey().publicKey,!1),a=i.toBytes(),c=await Oa(a,s,o);return new Pu({v1:{headerBytes:o,ciphertext:c}})}}const Iu=(e,t)=>e instanceof gc?e:new gc(t,e.message),Ru=(e,t,r)=>Promise.all(e.map((async e=>{try{return{result:await t(e)}}catch(e){return{error:Iu(e,r)}}}))),Cu=e=>e instanceof ic?e:new ic(e),Ou=(e,t,r)=>{for(const n of t)if(!e[n])throw new gc(zr.ERROR_CODE_INVALID_INPUT,"Missing field ".concat(String(n)));for(const n of r){const t=e[n];if(!t||null===t||void 0===t||!t.length)throw new gc(zr.ERROR_CODE_INVALID_INPUT,"Missing field ".concat(String(n)))}return!0},Tu=e=>{var t;if(null===e||void 0===e||null===(t=e.aes256GcmHkdfSha256)||void 0===t||!t.keyMaterial)throw new gc(zr.ERROR_CODE_INVALID_INPUT,"Missing key material");return e.aes256GcmHkdfSha256.keyMaterial},Bu=e=>{let{invitation:t,createdNs:r,peerAddress:n}=e;return{context:t.context,topic:t.topic,peerAddress:n,createdNs:r,consentProofPayload:t.consentProof}};class Uu{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;this.persistenceKey=t,this.persistence=e,this.revision=0,this.mutex=new Ys,this.topicMap=r}get revisionKey(){return this.persistenceKey+"/revision"}static async create(e){const t=new Uu(e,"invitations/v1");return await t.refresh(),t}validate(e){return!!e.topic&&e.topic.length>0&&!!e.invitation}async refresh(){const e=await this.getRevision();if(e>this.revision)for(const[t,r]of await this.loadFromPersistence())this.topicMap.set(t,r);this.revision=e}async getRevision(){const e=await this.persistence.getItem(this.revisionKey);return e?function(e){const t=e.buffer;return new DataView(t).getInt32(0,!0)}(e):0}async setRevision(e){await this.persistence.setItem(this.revisionKey,function(e){const t=new ArrayBuffer(4);return new DataView(t).setInt32(0,e,!0),new Uint8Array(t)}(e))}async loadFromPersistence(){const e=await this.persistence.getItem(this.persistenceKey);return e?(e=>{const t=new Map;for(const[r,n]of Object.entries(e.topics))t.set(r,n);return t})(ei.decode(e)):new Map}async store(){await this.persistence.setItem(this.persistenceKey,this.toBytes()),this.revision++,await this.setRevision(this.revision)}async add(e){await this.mutex.runExclusive((async()=>{await this.refresh();let t=!1;for(const r of e){if(!this.validate(r)){console.warn("Invalid topic data",r.topic);continue}const{topic:e,...n}=r;this.topicMap.has(e)||(this.topicMap.set(e,n),t=!0)}t&&await this.store()}))}get topics(){return[...this.topicMap.values()]}lookup(e){return this.topicMap.get(e)}toBytes(){return ei.encode({topics:Object.fromEntries(this.topicMap)}).finish()}}class Lu extends Uu{static async create(e){const t=new Lu(e,"conversation-v1/v1");return await t.refresh(),t}validate(e){var t;return!!(e.topic&&e.topic.length&&(null===(t=e.peerAddress)||void 0===t?void 0:t.length)>0)}}const Du=async(e,t,r,n)=>Oa(r,await e.sharedSecret(t,e.getCurrentPreKey().publicKey,!1),n),{ErrorCode:Ku}=n,Fu=(new TextEncoder).encode("__XMTP__INVITATION__SALT__XMTP__");class qu{constructor(e,t,r,n){this.v1Keys=e,this.v2Keys=Lc.fromLegacyBundle(e),this.v1Store=t,this.v2Store=r,this.authenticator=new uu(e.identityKey),this.jobStatePersistence=n}static async create(e,t){return new qu(e,await Lu.create(t),await Uu.create(t),t)}get walletAddress(){return this.v1Keys.identityKey.publicKey.walletSignatureAddress()}async decryptV1(e){const t=await Ru(e.requests,(async e=>{Ou(e,["payload","peerKeys"],["headerBytes"]);const{payload:t,peerKeys:r,headerBytes:n,isSender:i}=e,o=await(async(e,t,r,n,i)=>Ta(r,await e.sharedSecret(t,e.getCurrentPreKey().publicKey,!i),n))(this.v1Keys,Cu(r),t,n,i);return{decrypted:o}}),zr.ERROR_CODE_UNSPECIFIED);return $r.fromPartial({responses:t})}async decryptV2(e){const t=await Ru(e.requests,(async e=>{Ou(e,["payload"],["headerBytes"]);const{payload:t,headerBytes:r,contentTopic:n}=e,i=this.v2Store.lookup(n);if(!i)throw new gc(zr.ERROR_CODE_NO_MATCHING_PREKEY,"no topic key");const o=await((e,t,r)=>Ta(e,t,r))(t,Tu(i.invitation),r);return{decrypted:o}}),Ku.ERROR_CODE_UNSPECIFIED);return $r.fromPartial({responses:t})}async encryptV1(e){const t=await Ru(e.requests,(async e=>{Ou(e,["payload","recipient"],["headerBytes"]);const{recipient:t,payload:r,headerBytes:n}=e;return{encrypted:await Du(this.v1Keys,Cu(t),r,n)}}),Ku.ERROR_CODE_UNSPECIFIED);return ln.fromPartial({responses:t})}async createAuthToken(e){let{timestampNs:t}=e;return this.authenticator.createToken(t?mc(t):void 0)}async selfEncrypt(e){const t=await Ru(e.requests,(async e=>{const{payload:t}=e;if(!t)throw new gc(Ku.ERROR_CODE_INVALID_INPUT,"Missing field payload");return{encrypted:await _u(this.v1Keys.identityKey,t)}}),Ku.ERROR_CODE_INVALID_INPUT);return wn.fromPartial({responses:t})}async selfDecrypt(e){const t=await Ru(e.requests,(async e=>{const{payload:t}=e;if(!t)throw new gc(Ku.ERROR_CODE_INVALID_INPUT,"Missing field payload");return{decrypted:await ku(this.v1Keys.identityKey,t)}}),Ku.ERROR_CODE_INVALID_INPUT);return $r.fromPartial({responses:t})}async getPrivatePreferencesTopicIdentifier(){const e=await async function(e){await(0,Xs.Ay)();const t=e.secp256k1.bytes;return(0,Xs.rC)(t)}(this.v1Keys.identityKey);return Mn.fromPartial({identifier:e})}async encryptV2(e){const t=await Ru(e.requests,(async e=>{Ou(e,["payload"],["headerBytes"]);const{payload:t,headerBytes:r,contentTopic:n}=e,i=this.v2Store.lookup(n);if(!i)throw new gc(Ku.ERROR_CODE_NO_MATCHING_PREKEY,"no topic key");const o=Tu(i.invitation),s=await((e,t,r)=>Oa(e,t,r))(t,o,r),a="".concat(Math.floor(Date.now()/1e3/60/60/24/30),"-").concat(await this.getAccountAddress());return{encrypted:s,senderHmac:await Da(o,(new TextEncoder).encode(a),r)}}),Ku.ERROR_CODE_INVALID_INPUT);return ln.fromPartial({responses:t})}async saveInvites(e){const t=[],r=await Ru(e.requests,(async e=>{let{payload:r,timestampNs:n}=e;const i=Pu.fromBytes(r);if(i.v1){if(!i.v1.header.createdNs.equals(n))throw new Error("envelope and header timestamp mismatch");const e=i.v1.header.sender.equals(this.v2Keys.getPublicKeyBundle()),r=await i.v1.getInvitation(this.v2Keys),o={invitation:r,createdNs:i.v1.header.createdNs,peerAddress:e?await i.v1.header.recipient.walletSignatureAddress():await i.v1.header.sender.walletSignatureAddress()};return t.push({...o,topic:r.topic}),{conversation:Bu(o)}}}),Ku.ERROR_CODE_INVALID_INPUT);return await this.v2Store.add(t),Bn.fromPartial({responses:r})}async createInvite(e){try{var t;Ou(e,["recipient"],[]);const n=mc(e.createdNs),i=(r=e.recipient)instanceof nc?r:new nc(r),o=await this.getAccountAddress(),s=await i.walletSignatureAddress(),a=await this.v2Keys.sharedSecret(i,this.v2Keys.getCurrentPreKey().publicKey,o<s),c=[o,s].sort(),u=((null===(t=e.context)||void 0===t?void 0:t.conversationId)||"")+c.join(),l=(new TextEncoder).encode(u),d=Fa(await Su(Buffer.from(a),Buffer.from(l))),f=["0",...c].join("|"),h=(new TextEncoder).encode(f),p=await async function(e,t){const r=await Pa.subtle.importKey("raw",e,"HKDF",!1,["deriveKey"]);return Pa.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:Fu,info:t},r,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}(a,h),m=new Uint8Array(await Pa.subtle.exportKey("raw",p)),y=new xu({topic:Ec(d),aes256GcmHkdfSha256:{keyMaterial:m},context:e.context,consentProof:e.consentProof}),g=await Pu.createV1({sender:this.v2Keys,recipient:i,created:n,invitation:y}),v={invitation:y,topic:y.topic,createdNs:e.createdNs,peerAddress:await i.walletSignatureAddress()};return await this.v2Store.add([v]),Rn.fromPartial({conversation:Bu(v),payload:g.toBytes()})}catch(e){throw Iu(e,Ku.ERROR_CODE_INVALID_INPUT)}var r}async signDigest(e){Ou(e,["digest"],[]);const{digest:t,identityKey:r,prekeyIndex:n}=e;let i;if(r)i=this.v1Keys.identityKey;else{if(void 0===n||!Number.isInteger(n))throw new gc(Ku.ERROR_CODE_INVALID_INPUT,"must specifify identityKey or prekeyIndex");if(i=this.v1Keys.preKeys[n],!i)throw new gc(Ku.ERROR_CODE_NO_MATCHING_PREKEY,"no prekey found")}return i.sign(t)}async saveV1Conversations(e){let{conversations:t}=e;return await this.v1Store.add(t.map((e=>({topic:Sc(e.peerAddress,this.walletAddress),peerAddress:e.peerAddress,createdNs:e.createdNs,invitation:void 0})))),{}}async getV1Conversations(){return{conversations:this.v1Store.topics.map(this.topicDataToV1ConversationReference.bind(this))}}async getV2Conversations(){const e=this.v2Store.topics.map((e=>Bu(e)));return e.sort(((e,t)=>e.createdNs.div(1e6).sub(t.createdNs.div(1e6)).toNumber())),qn.fromPartial({conversations:e})}async getPublicKeyBundle(){return this.v1Keys.getPublicKeyBundle()}async getPrivateKeyBundle(){return this.v1Keys}async getAccountAddress(){return this.accountAddress||(this.accountAddress=await this.v2Keys.getPublicKeyBundle().walletSignatureAddress()),this.accountAddress}async getRefreshJob(e){let{jobType:t}=e;if(t===jr.JOB_TYPE_UNSPECIFIED)throw new gc(Ku.ERROR_CODE_INVALID_INPUT,"invalid job type");const r=await this.getLastRunTime(t);return Yn.fromPartial({lastRunNs:r||Oe.fromNumber(0)})}async setRefreshJob(e){let{jobType:t,lastRunNs:r}=e;const n=await this.buildJobStorageKey(t);return await this.jobStatePersistence.setItem(n,Uint8Array.from(r.toBytes())),{}}topicDataToV1ConversationReference(e){return{peerAddress:e.peerAddress,createdNs:e.createdNs,topic:Sc(e.peerAddress,this.walletAddress),context:void 0,consentProofPayload:void 0}}buildJobStorageKey(e){return"refreshJob/".concat(e.toString())}async getLastRunTime(e){const t=await this.jobStatePersistence.getItem(this.buildJobStorageKey(e));if(t&&t.length)return Oe.fromBytes([...t])}lookupTopic(e){return this.v2Store.lookup(e)}async getV2ConversationHmacKeys(e){const t=Math.floor(Date.now()/1e3/60/60/24/30),r={};let n=this.v2Store.topics;return null!==e&&void 0!==e&&e.topics&&(n=n.filter((t=>void 0!==t.invitation&&e.topics.includes(t.invitation.topic)))),await Promise.all(n.map((async e=>{var n;if(null!==(n=e.invitation)&&void 0!==n&&n.topic){const n=Tu(e.invitation),i=await Promise.all([t-1,t,t+1].map((async e=>{const t="".concat(e,"-").concat(await this.getAccountAddress()),r=await La(n,(new TextEncoder).encode(t));return{thirtyDayPeriodsSinceEpoch:e,hmacKey:await Ka(r)}})));r[e.invitation.topic]={values:i}}}))),{hmacKeys:r}}}class zu{constructor(e){this.apiClient=e}async getItem(e){for await(const t of this.apiClient.queryIterator({contentTopic:this.buildTopic(e)},{pageSize:1,direction:se.SORT_DIRECTION_DESCENDING}))if(t.message)try{return Uint8Array.from(t.message)}catch(e){console.log(e)}return null}async setItem(e,t){const r=Uint8Array.from(t);await this.apiClient.publish([{contentTopic:this.buildTopic(e),message:r}])}setAuthenticator(e){this.apiClient.setAuthenticator(e)}buildTopic(e){return(e=>wc("privatestore-".concat(e)))(e)}}class ju{constructor(e){let{eciesBytes:t,signature:r}=e;if(!t||!t.length)throw new Error("eciesBytes is empty");if(!r)throw new Error("signature is undefined");this.eciesBytes=t,this.signature=new Za(r),this.ciphertext=wt.decode(t)}toBytes(){return vt.encode(this).finish()}async verify(e){return e.verify(this.signature,await Ca(this.eciesBytes))}static fromBytes(e){const t=vt.decode(e);return new ju(t)}static async create(e,t){(e=>{if(16!==e.iv.length)throw new Error("Invalid iv length");if(65!==e.ephemeralPublicKey.length)throw new Error("Invalid ephemPublicKey length");if(e.ciphertext.length<1||e.ciphertext.length%16!=0)throw new Error("Invalid ciphertext length");if(32!==e.mac.length)throw new Error("Invalid mac length")})(e);const r=wt.encode(e).finish(),n=await t.sign(await Ca(r));return new ju({eciesBytes:r,signature:n})}}class Ju{constructor(e,t){this.persistence=e,this.privateKey=t,this.privateKeyBytes=Buffer.from(t.secp256k1.bytes),this.publicKey=Eu(this.privateKeyBytes)}async getItem(e){const t=await this.persistence.getItem(e);return t?this.decrypt(t):null}async setItem(e,t){const r=await this.encrypt(t);await this.persistence.setItem(e,r)}async encrypt(e){const t=await async function(e,t,r,n,i){const o=(null===(n=r=r||{})||void 0===n?void 0:n.iv)||yu(16);let s=(null===(i=r)||void 0===i?void 0:i.ephemPrivateKey)||yu(32);for(;!mu(s);){var a;if(null!==(a=r)&&void 0!==a&&a.ephemPrivateKey)throw new Error("ephemPrivateKey is not valid");s=yu(32)}const c=Eu(s),u=await gu(await Au(s,e)),l=u.slice(0,32),d=u.slice(32),f=await bu(o,l,t),h=Buffer.concat([o,c,f]);return{iv:o,ephemeralPublicKey:c,ciphertext:f,mac:await Su(d,h)}}(this.publicKey,Buffer.from(e));return this.serializeEcies(t)}async decrypt(e){const t=await this.deserializeEcies(e),r=await async function(e,t){const r=await Au(e,t.ephemeralPublicKey),n=await gu(r),i=n.slice(0,32),o=n.slice(32),s=Buffer.concat([t.iv,t.ephemeralPublicKey,t.ciphertext]);return pu(await async function(e,t,r){return function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(await Su(e,t),r)}(o,s,t.mac),"Bad mac"),wu(t.iv,i,t.ciphertext)}(this.privateKeyBytes,t);return Uint8Array.from(r)}async serializeEcies(e){return(await ju.create(e,this.privateKey)).toBytes()}async deserializeEcies(e){const t=ju.fromBytes(e);if(!await t.verify(this.privateKey.publicKey))throw new Error("signature validation failed");const r=t.ciphertext;return{ciphertext:Buffer.from(r.ciphertext),mac:Buffer.from(r.mac),iv:Buffer.from(r.iv),ephemeralPublicKey:Buffer.from(r.ephemeralPublicKey)}}}class Gu{constructor(e,t){this.prefix=e,this.persistence=t}getItem(e){return this.persistence.getItem(this.buildKey(e))}setItem(e,t){return this.persistence.setItem(this.buildKey(e),t)}buildKey(e){return this.prefix+e}}const Hu=async(e,t)=>{if(!e.persistConversations)return au.create();const r=await t.identityKey.publicKey.walletSignatureAddress(),n="xmtp/".concat(e.env,"/").concat(r,"/"),i=e.basePersistence,o=!e.disablePersistenceEncryption;return new Gu(n,o?new Ju(i,t.identityKey):i)},Vu="key_bundle";class Wu{constructor(e,t,r){this.signer=e,this.persistence=t,this.preEnableIdentityCallback=r}async getStorageAddress(e){let t=await this.signer.getAddress();return t=zs(t),"".concat(t,"/").concat(e)}async loadPrivateKeyBundle(){const e=await this.persistence.getItem(await this.getStorageAddress(Vu));if(!e)return null;const[t,r]=await this.fromEncryptedBytes(this.signer,Uint8Array.from(e));return r&&await this.storePrivateKeyBundle(t),t}async storePrivateKeyBundle(e){const t=await this.getStorageAddress(Vu),r=await this.toEncryptedBytes(e,this.signer);"function"==typeof this.persistence.setAuthenticator&&this.persistence.setAuthenticator(new uu(e.identityKey)),await this.persistence.setItem(t,r)}async toEncryptedBytes(e,t){const r=e.encode(),n=Pa.getRandomValues(new Uint8Array(32)),i=Yu(n),o=await t.getAddress();this.preEnableIdentityCallback&&await this.preEnableIdentityCallback();const s=await t.signMessage(i);if(!Js({address:o,message:i,signature:s}))throw new Error("invalid signature");const a=is(s),c=await Oa(r,a);return Or.encode({v1:{walletPreKey:n,ciphertext:c}}).finish()}async fromEncryptedBytes(e,t){var r;const[n,i]=function(e){try{const t=Or.decode(e);if(t.v1)return[t.v1,!1]}catch(t){return[Cr.decode(e),!0]}throw new Error("unrecognized encrypted private key bundle version")}(t);if(!n.walletPreKey)throw new Error("missing wallet pre-key");if(null===(r=n.ciphertext)||void 0===r||!r.aes256GcmHkdfSha256)throw new Error("missing bundle ciphertext");this.preEnableIdentityCallback&&await this.preEnableIdentityCallback();const o=is(await e.signMessage(Yu(n.walletPreKey)));try{const e=new Na(n.ciphertext),t=await Ta(e,o),[r,s]=Zu(t);return[r,i||s]}catch(e){if(65!==o.length)throw new Error("Expected 65 bytes before trying a different recovery byte");const t=o[o.length-1];let r=o.slice(0,o.length-1);r=t<27?new Uint8Array([...r,t+27]):new Uint8Array([...r,t-27]);const s=new Na(n.ciphertext),a=await Ta(s,r),[c,u]=Zu(a);return[c,i||u]}}}function Zu(e){try{const t=Kc(e);if(t instanceof Lc)throw new Error("V2 bundles not supported yet");return[t,!1]}catch(t){const r=Pr.decode(e);return[new Dc(r),!0]}}function Yu(e){return"XMTP : Enable Identity\n".concat(Fa(e),"\n\nFor more info: https://xmtp.org/signatures/")}class Qu{async newKeystore(e,t,r){if(!r)throw new cu("Wallet required to generate new keys");e.preCreateIdentityCallback&&await e.preCreateIdentityCallback();const n=await Dc.generate(r),i=new Wu(r,new zu(t),e.preEnableIdentityCallback);return await i.storePrivateKeyBundle(n),qu.create(n,await Hu(e,n))}}class Xu{async newKeystore(e,t,r){if(!r)throw new cu("No wallet provided");const n=new Wu(r,new zu(t),e.preEnableIdentityCallback),i=await n.loadPrivateKeyBundle();if(!i)throw new cu("No keys found");return qu.create(i,await Hu(e,i))}}function $u(){return window.ethereum}function el(e){const[t,r,...n]=e.split(".");return{major:Number(t),minor:Number(r),patch:n.join(".")}}const{GetKeystoreStatusResponse_KeystoreStatus:tl,InitKeystoreRequest:rl,InitKeystoreResponse:nl,GetKeystoreStatusRequest:il,GetKeystoreStatusResponse:ol}=n;async function sl(e,t,r,n,i){let o=null;if(t.req){const e=(0,t.req.encode)(r).finish();o=fc(e,0,e.length)}const s=await async function(e,t,r,n,i){const o={meta:r};"string"==typeof t&&(o.req=t);const s=await(null===(i=$u())||void 0===i?void 0:i.request({method:"wallet_invokeSnap",params:{snapId:n,request:{method:e,params:o}}}));if(!s||"object"!=typeof s)throw new Error("No response value");return s.res}(e,o,n,i);if(Array.isArray(s))throw new Error("Unexpected array response");return t.res.decode(dc(s))}async function al(){const e=$u();if(null!==e&&void 0!==e&&e.isMetaMask)try{return await e.request({method:"wallet_getSnaps"}),!0}catch{}if(void 0!==(null===e||void 0===e?void 0:e.detected)&&Array.isArray(e.detected))for(const r of e.detected)try{var t;return await r.request({method:"wallet_getSnaps"}),null!==e&&void 0!==e&&null!==(t=e.setProvider)&&void 0!==t&&t.call(e,r),!0}catch{}if(void 0!==(null===e||void 0===e?void 0:e.providers)&&Array.isArray(e.providers))for(const r of e.providers)try{return await r.request({method:"wallet_getSnaps"}),window.ethereum=r,!0}catch{}return!1}const cl={req:il,res:ol},ul={req:rl,res:nl},ll={...{decryptV1:{req:Yr,res:$r},decryptV2:{req:nn,res:$r},encryptV1:{req:an,res:ln},encryptV2:{req:pn,res:ln},saveInvites:{req:Cn,res:Bn},createInvite:{req:Pn,res:Rn},createAuthToken:{req:Dn,res:ct},signDigest:{req:Vn,res:Ue},getPublicKeyBundle:{req:null,res:rt},getPrivateKeyBundle:{req:null,res:Pr},saveV1Conversations:{req:Kn,res:Fn},getV1Conversations:{req:null,res:qn},getV2Conversations:{req:null,res:qn},getRefreshJob:{req:Wn,res:Yn},setRefreshJob:{req:Xn,res:$n},selfEncrypt:{req:gn,res:wn},selfDecrypt:{req:_n,res:$r},getPrivatePreferencesTopicIdentifier:{req:null,res:Mn},getV2ConversationHmacKeys:{req:ii,res:oi}},getKeystoreStatus:{req:zn,res:jn},initKeystore:{req:Jn,res:Gn}},{GetKeystoreStatusResponse_KeystoreStatus:dl}=n;class fl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local:http://localhost:8080",t=arguments.length>1?arguments[1]:void 0;this.snapId=e,this.snapVersion=t}async newKeystore(e,t,r){if(!r)throw new cu("No wallet provided");if(!await al())throw new cu("MetaMask with Snaps not detected");const n=await r.getAddress(),i=e.env,o=await async function(e,t){try{const r=await async function(e){return await(null===(e=$u())||void 0===e?void 0:e.request({method:"wallet_getSnaps"}))}();return r?Object.values(r).find((r=>{return r&&r.id===e&&(!t||(n=r.version,i=t,!n||!i||el(n).major===el(i).major));var n,i})):void 0}catch(e){return void console.warn("Failed to obtain installed snap",e)}}(this.snapId,this.snapVersion);if(o&&!function(e,t){if(!e||!t)return!1;const r=el(e),n=el(t);return r.major!==n.major?r.major>n.major:r.minor!==n.minor?r.minor>n.minor:!(!r.patch||!n.patch)&&function(e,t){const[r,n]=e.split("-"),[i,o]=t.split("-");if(Number(r)!==Number(i))return Number(r)>Number(i);if(!n||!o)return!1;const[s,a]=n.split("."),[c,u]=o.split(".");return s!==c||Number(a)>Number(u)}(r.patch,n.patch)}(this.snapVersion,o.version)||await async function(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await(null===(t=$u())||void 0===t?void 0:t.request({method:"wallet_requestSnaps",params:{[e]:r}}))}(this.snapId,this.snapVersion?{version:this.snapVersion}:{}),!await async function(e,t,r){const n=await async function(e,t){const r=await sl("getKeystoreStatus",cl,{walletAddress:e.walletAddress},e,t);if([tl.KEYSTORE_STATUS_UNSPECIFIED,tl.UNRECOGNIZED].includes(r.status))throw new Error("No status specified in response");return r.status}({walletAddress:e,env:t},r);return n===dl.KEYSTORE_STATUS_INITIALIZED}(n,i,this.snapId)){const n=await async function(e,t,r){if(e.privateKeyOverride){const t=Kc(e.privateKeyOverride);if(!(t instanceof Dc))throw new Error("Unsupported private key bundle version");return t}if(!r)throw new Error("No privateKeyOverride or wallet");return async function(e,t,r){const n=new Xu;try{const i=await n.newKeystore(e,t,r);return new Dc(await i.getPrivateKeyBundle())}catch(n){if(n instanceof cu)return async function(e,t,r){const n=new Qu,i=await n.newKeystore(e,t,r);return new Dc(await i.getPrivateKeyBundle())}(e,t,r);throw n}}(e,t,r)}(e,t,r);await async function(e,t,r){const n=e.identityKey.publicKey.walletSignatureAddress(),i=await sl("initKeystore",ul,{v1:e},{walletAddress:n,env:t},r);if(i.error)throw new gc(i.error.code,i.error.message)}(n,i,this.snapId)}return function(e,t,r){const n={},i={walletAddress:e,env:t};for(const[o,s]of Object.entries(ll))n[o]=async e=>s.req?sl(o,s,e,i,r):sl(o,s,void 0,i,r);return{...n,getAccountAddress:async()=>e}}(n,i,this.snapId)}}class hl{async newKeystore(e){const{privateKeyOverride:t}=e;if(!t)throw new cu("No private key override provided");const r=Kc(t);if(r instanceof Lc)throw new Error("V2 private key bundle found. Only V1 supported");return qu.create(r,await Hu(e,r))}}function pl(e){if(!e)return null;if(function(e){return"type"in e&&("walletClient"===e.type||"base"===e.type)}(e))return function(e){const{account:t}=e;if(!t||!t.address)throw new Error("WalletClient is not configured");return{getAddress:async()=>t.address,signMessage:async r=>e.signMessage({message:"string"==typeof r?r:{raw:r},account:t})}}(e);if("function"!=typeof e.getAddress)throw new Error("Unknown wallet type");return e}function ml(e){if(e===ar.COMPRESSION_GZIP)return"gzip";if(e===ar.COMPRESSION_DEFLATE)return"deflate";throw new Error("unrecognized compression algorithm")}function yl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=0;return new ReadableStream({pull(n){if(r>=e.length)return n.close();let i=r+t;i=i<=e.length?i:e.length,n.enqueue(e.subarray(r,i)),r=i}})}function gl(e,t){let r=0;return new WritableStream({write(n){const i=r+n.length;if(i>t)throw new Error("maximum output size exceeded");for(;e.bytes.length<i;)e.bytes=vl(e.bytes,t);e.bytes.set(n,r),r=i},close(){r<e.bytes.length&&(e.bytes=e.bytes.subarray(0,r))}})}function vl(e,t){let r=2*e.length;r>t&&(r=t);const n=new Uint8Array(r);return n.set(e),n}function bl(e){var t,r;let n;try{n=Fr.decode(e)}catch(i){const t=rt.decode(e);n={v1:{keyBundle:new ic(t)},v2:void 0}}if(null!==(t=n.v1)&&void 0!==t&&t.keyBundle)return new ic(n.v1.keyBundle);if(null!==(r=n.v2)&&void 0!==r&&r.keyBundle)return new nc(n.v2.keyBundle);throw new Error("unknown or invalid contact bundle")}function wl(e){return e instanceof ic?Fr.encode({v1:{keyBundle:e},v2:void 0}).finish():Fr.encode({v1:void 0,v2:{keyBundle:e}}).finish()}class Sl{constructor(e,t,r){this.value=e,this.entryType=t,this.permissionType=r}get key(){return"".concat(this.entryType,"-").concat(this.value)}static fromAddress(e){return new Sl(e,"address",arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown")}}class El{constructor(e){this.entries=new Map,this.client=e}allow(e){const t=Sl.fromAddress(e,"allowed");return this.entries.set(t.key,"allowed"),t}deny(e){const t=Sl.fromAddress(e,"denied");return this.entries.set(t.key,"denied"),t}state(e){var t;const r=Sl.fromAddress(e);return null!==(t=this.entries.get(r.key))&&void 0!==t?t:"unknown"}async getIdentifier(){if(!this._identifier){const{identifier:e}=await this.client.keystore.getPrivatePreferencesTopicIdentifier();this._identifier=e}return this._identifier}async decodeMessages(e){const{responses:t}=await this.client.keystore.selfDecrypt({requests:e.map((e=>({payload:e})))});return t.reduce(((e,t)=>{var r;return null!==(r=t.result)&&void 0!==r&&r.decrypted?e.concat(mi.decode(t.result.decrypted)):e}),[])}processActions(e,t){const r=[];return e.forEach((e=>{var t,n;null!==(t=e.allowAddress)&&void 0!==t&&t.walletAddresses.forEach((e=>{r.push(this.allow(e))})),null===(n=e.denyAddress)||void 0===n||n.walletAddresses.forEach((e=>{r.push(this.deny(e))}))})),t&&(this.lastEntryTimestamp=(e=>{if(e)return mc(Oe.fromString(e))})(t)),r}async stream(e){const t=await this.getIdentifier(),r=xc(t);return lc.create(this.client,[r],(async e=>{if(!e.message)return;const t=await this.decodeMessages([e.message]);return this.processActions(t,e.timestampNs),t[0]}),void 0,e)}reset(){this.entries.clear()}async load(e){const t=await this.getIdentifier(),r=xc(t);let n;const i=await this.client.listEnvelopes(r,(async e=>{let{message:t,timestampNs:r}=e;return r&&(n=r),t}),{startTime:e}),o=await this.decodeMessages(i);return this.processActions(o,n)}async publish(e){const t=await this.getIdentifier(),r=e.reduce(((e,t)=>{if("address"===t.entryType){const r={allowAddress:"allowed"===t.permissionType?{walletAddresses:[t.value]}:void 0,denyAddress:"denied"===t.permissionType?{walletAddresses:[t.value]}:void 0,allowGroup:void 0,denyGroup:void 0};return e.concat(mi.encode(r).finish())}return e}),[]),{responses:n}=await this.client.keystore.selfEncrypt({requests:r.map((e=>({payload:e})))}),i=n.reduce(((e,t)=>{var r,n;return null!==(r=t.result)&&void 0!==r&&r.encrypted?e.concat(null===(n=t.result)||void 0===n?void 0:n.encrypted):e}),[]),o=xc(t),s=new Date,a=i.map((e=>({contentTopic:o,message:e,timestamp:s})));await this.client.publishEnvelopes(a),e.forEach((e=>{this.entries.set(e.key,e.permissionType)}))}}class Al{constructor(e){this.addresses=new Set,this.consentList=new El(e),this.client=e,this.jobRunner=new ru("user-preferences",e.keystore)}validateConsentSignature(e,t){let{signature:r,timestamp:n}=e;const i=Number(n);if(!r||!i)return!1;if(i>Date.now())return!1;if(i<Date.now()-2592e6)return!1;const o=za(r),s=Wa(is(Bs((a=t,"XMTP : Grant inbox consent to sender\n\n"+"Current Time: ".concat(new Date(i).toUTCString(),"\n")+"From Address: ".concat(a,"\n")+"\nFor more info: https://xmtp.org/signatures/"))),o);var a;return(null===s||void 0===s?void 0:s.getEthereumAddress())===this.client.address}async loadConsentList(e){return this.jobRunner.run((async t=>{const r=await this.consentList.load(null!==e&&void 0!==e?e:t);try{const e=(await this.client.conversations.list()).reduce(((e,t)=>t.consentProof&&"unknown"===this.consentState(t.peerAddress)&&this.validateConsentSignature(t.consentProof,t.peerAddress)?e.concat(t.peerAddress):e),[]);e.length&&this.client.contacts.allow(e)}catch(e){console.log(e)}return r}))}async refreshConsentList(){return this.consentList.reset(),await this.jobRunner.resetLastRunTime(),this.loadConsentList()}async streamConsentList(e){return this.consentList.stream(e)}get lastConsentListEntryTimestamp(){return this.consentList.lastEntryTimestamp}setConsentListEntries(e){e.length&&(this.consentList.reset(),e.forEach((e=>{"allowed"===e.permissionType&&this.consentList.allow(e.value),"denied"===e.permissionType&&this.consentList.deny(e.value)})))}isAllowed(e){return"allowed"===this.consentList.state(e)}isDenied(e){return"denied"===this.consentList.state(e)}consentState(e){return this.consentList.state(e)}async allow(e){await this.consentList.publish(e.map((e=>Sl.fromAddress(e,"allowed"))))}async deny(e){await this.consentList.publish(e.map((e=>Sl.fromAddress(e,"denied"))))}}var _l;!function(e){e[e.none=0]="none",e[e.xmtpTopicStore=1]="xmtpTopicStore"}(_l||(_l={}));const kl=_l.none;class xl{static createConfiguration(){return{type:kl,version:0}}constructor(e){this.configuration=e}get backupType(){return kl}}const Ml=_l.xmtpTopicStore;class Nl{static createConfiguration(e){return{type:Ml,version:0,topic:"history-v0:"+e}}constructor(e){this.configuration=e}get backupType(){return Ml}}const{Compression:Pl}=r,Il=104857600;class Rl{constructor(e,t,r,n){this.knownPublicKeyBundles=new Map,this.keystore=n,this.publicKeyBundle=e,this.address=e.walletSignatureAddress(),this._conversations=new iu(this),this._codecs=new Map,this._maxContentSize=Il,this.apiClient=t,this._backupClient=r,this.contacts=new Al(this)}get conversations(){return this._conversations}get backupType(){return this._backupClient.backupType}get signedPublicKeyBundle(){return nc.fromLegacyBundle(this.publicKeyBundle)}static async create(e,t){const r=pl(e),n=function(e){const t={privateKeyOverride:void 0,env:"dev",apiUrl:void 0,codecs:[new cc],maxContentSize:Il,persistConversations:!0,skipContactPublishing:!1,useSnaps:!1,basePersistence:"undefined"!=typeof window&&void 0!==window.document?ou.create():au.create(),disablePersistenceEncryption:!1,keystoreProviders:[new hl,new Xu,new Qu],apiClientFactory:Cl};return null!==e&&void 0!==e&&e.codecs&&(e.codecs=t.codecs.concat(e.codecs)),null!==e&&void 0!==e&&e.useSnaps&&(e.keystoreProviders=[new fl("npm:@xmtp/snap","1.3.6"),...t.keystoreProviders]),{...t,...e}}(t),i=n.apiClientFactory(n),o=await async function(e,t,r){for(const n of e.keystoreProviders)try{return await n.newKeystore(e,t,null!==r&&void 0!==r?r:void 0)}catch(e){if(e instanceof cu)continue;throw e}throw new Error("No keystore providers available")}(n,i,r),s=new ic(await o.getPublicKeyBundle()),a=s.walletSignatureAddress();i.setAuthenticator(new zc(o));const c=await Rl.setupBackupClient(a,n.env),u=new Rl(s,i,c,o);return await u.init(n),u}static async getKeys(e,t){const r=await Rl.create(pl(e),t),n=await r.keystore.getPrivateKeyBundle();return new Dc(n).encode()}static isSnapsReady(){return al()}static async setupBackupClient(e,t){return async function(e,t){const r=await async function(e,t){let r;switch((await t()).type){case _l.none:r=xl.createConfiguration();break;case _l.xmtpTopicStore:r=Nl.createConfiguration(e)}return r}(e,t);switch(r.type){case _l.none:return new xl(r);case _l.xmtpTopicStore:return new Nl(r)}}(e,(async()=>Promise.resolve({type:"local"===t?_l.xmtpTopicStore:_l.none})))}async init(e){e.codecs.forEach((e=>{this.registerCodec(e)})),this._maxContentSize=e.maxContentSize,e.skipContactPublishing||await this.ensureUserContactPublished(e.publishLegacyContact)}async close(){}async ensureUserContactPublished(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=await Ol(this.apiClient,this.address);t&&t instanceof nc&&this.signedPublicKeyBundle.equals(t)||(await this.publishUserContact(!0),e||await this.publishUserContact(e))}async publishUserContact(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.publicKeyBundle:this.signedPublicKeyBundle;await this.publishEnvelopes([{contentTopic:Ac(this.address),message:wl(e)}])}async getUserContact(e){e=zs(e);const t=this.knownPublicKeyBundles.get(e);if(t)return t;const r=await Ol(this.apiClient,e);return r&&this.knownPublicKeyBundles.set(e,r),r}async getUserContacts(e){const t=e.map((e=>zs(e))),r=new Map,n=[];for(const o of t){const e=this.knownPublicKeyBundles.get(o);e?r.set(o,e):(r.set(o,void 0),n.push(o))}const i=await Tl(this.apiClient,n);for(let o=0;o<i.length;o++){const e=n[o],t=i[o];r.set(e,t),t&&this.knownPublicKeyBundles.set(e,t)}return t.map((e=>r.get(e)))}forgetContact(e){e=zs(e),this.knownPublicKeyBundles.delete(e)}async canMessage(e){try{return Array.isArray(e)?(await this.getUserContacts(e)).map((e=>!!e)):void 0!==await this.getUserContact(e)}catch(e){return!1}}static async canMessage(e,t){const r=(null===t||void 0===t?void 0:t.apiUrl)||Zc[(null===t||void 0===t?void 0:t.env)||"dev"],n=new tu(r,{appVersion:null===t||void 0===t?void 0:t.appVersion});if(Array.isArray(e)){const t=e.map((e=>zs(e)));return(await Tl(n,t)).map((e=>!!e))}try{e=zs(e)}catch(e){return!1}return void 0!==await Ol(n,e)}validateEnvelope(e){const t=e.message;if(!e.contentTopic)throw new Error("Missing content topic");if(!t||!t.length)throw new Error("Cannot publish empty message")}async publishEnvelopes(e){for(const t of e)this.validateEnvelope(t);await this.apiClient.publish(e)}registerCodec(e){const t=e.contentType,r="".concat(t.authorityId,"/").concat(t.typeId);return this._codecs.set(r,e),this}codecFor(e){const t="".concat(e.authorityId,"/").concat(e.typeId),r=this._codecs.get(t);if(r&&!(e.versionMajor>r.contentType.versionMajor))return r}async encodeContent(e,t){const r=(null===t||void 0===t?void 0:t.contentType)||sc,n=this.codecFor(r);if(!n)throw new Error("unknown content type "+r);const i=n.encode(e,this),o=n.fallback(e);return o&&(i.fallback=o),"number"==typeof(null===t||void 0===t?void 0:t.compression)&&i.content.length>=10&&(i.compression=t.compression),await async function(e){if(void 0===e.compression)return;const t={bytes:new Uint8Array(e.content.length/10)};await yl(e.content).pipeThrough(new CompressionStream(ml(e.compression))).pipeTo(gl(t,e.content.length+1e3)),e.content=t.bytes}(i),{payload:dr.encode(i).finish(),shouldPush:n.shouldPush(e)}}async decodeContent(e){const t=dr.decode(e);if(!t.type)throw new Error("missing content type");let r;const n=new oc(t.type);let i;await async function(e,t){if(void 0===e.compression)return;const r={bytes:new Uint8Array(e.content.length)};await yl(e.content).pipeThrough(new DecompressionStream(ml(e.compression))).pipeTo(gl(r,1e3)),e.content=r.bytes}(t);const o=this.codecFor(n);return o?r=o.decode(t,this):i=new Error("unknown content type "+n),{content:r,contentType:n,error:i,contentFallback:t.fallback}}listInvitations(e){return this.listEnvelopes(kc(this.address),(async e=>e),e)}async listEnvelopes(e,t,r){r||(r={});const{startTime:n,endTime:i,limit:o}=r,s=await this.apiClient.query({contentTopic:e,startTime:n,endTime:i},{direction:r.direction||se.SORT_DIRECTION_ASCENDING,limit:o}),a=[];for(const c of s)if(c.message)try{const e=await t(c);a.push(e)}catch(e){console.warn("Error in listEnvelopes mapper",e)}return a}listEnvelopesPaginated(e,t,r){return async function*(e,t){for await(const r of e){const e=await Promise.allSettled(r.map(t)),n=[];for(const t of e)"fulfilled"===t.status?n.push(t.value):console.warn("Failed to process envelope due to reason: ",t.reason);yield n}}(this.apiClient.queryIteratePages({contentTopic:e,startTime:null===r||void 0===r?void 0:r.startTime,endTime:null===r||void 0===r?void 0:r.endTime},{direction:null===r||void 0===r?void 0:r.direction,pageSize:(null===r||void 0===r?void 0:r.pageSize)||100}),t)}}function Cl(e){const t=e.apiUrl||Zc[e.env];return new tu(t,{appVersion:e.appVersion})}async function Ol(e,t){const r=e.queryIterator({contentTopic:Ac(t)},{pageSize:5,direction:Wc.SORT_DIRECTION_DESCENDING});for await(const i of r){var n;if(!i.message)continue;const r=bl(i.message);let o;try{o=await(null===r||void 0===r?void 0:r.walletSignatureAddress())}catch(e){o=void 0}if((null===(n=o)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase())return r}}async function Tl(e,t){const r=t.map(Ac),n=await e.batchQuery(r.map((e=>({contentTopic:e,pageSize:5,direction:Wc.SORT_DIRECTION_DESCENDING}))));return Promise.all(t.map((async(e,t)=>{const r=n[t];if(r)for(const n of r)if(n.message)try{const t=bl(n.message),r=await(null===t||void 0===t?void 0:t.walletSignatureAddress());if(e.toLowerCase()===r.toLowerCase())return t;console.info("Received contact bundle with incorrect address")}catch(e){console.info("Invalid contact bundle",e)}})))}new oc({authorityId:"xmtp.org",typeId:"composite",versionMajor:1,versionMinor:0});let Bl=!1,Ul=!1;const Ll={debug:1,default:2,info:2,warning:3,error:4,off:5};let Dl=Ll.default,Kl=null;const Fl=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var ql,zl;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(ql||(ql={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(zl||(zl={}));const jl="0123456789abcdef";class Jl{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==Ll[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Dl>Ll[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Jl.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Jl.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Jl.levels.WARNING,t)}makeError(e,t,r){if(Ul)return this.makeError("censored error",t,{});t||(t=Jl.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=jl[t[e]>>4],r+=jl[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push("code=".concat(t)),n.push("version=".concat(this.version));const i=e;let o="";switch(t){case zl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case zl.CALL_EXCEPTION:case zl.INSUFFICIENT_FUNDS:case zl.MISSING_NEW:case zl.NONCE_EXPIRED:case zl.REPLACEMENT_UNDERPRICED:case zl.TRANSACTION_REPLACED:case zl.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Jl.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),Fl&&this.throwError("platform missing String.prototype.normalize",Jl.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Fl})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Jl.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Jl.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Jl.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Jl.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Jl.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Jl.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Jl.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Kl||(Kl=new Jl("logger/5.7.0")),Kl}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Jl.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Bl){if(!e)return;this.globalLogger().throwError("error censorship permanent",Jl.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ul=!!e,Bl=!!t}static setLogLevel(e){const t=Ll[e.toLowerCase()];null!=t?Dl=t:Jl.globalLogger().warn("invalid log level - "+e)}static from(e){return new Jl(e)}}Jl.errors=zl,Jl.levels=ql;const Gl=new Jl("bytes/5.7.0");function Hl(e){return!!e.toHexString}function Vl(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Vl(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Wl(e){return ed(e)&&!(e.length%2)||Yl(e)}function Zl(e){return"number"===typeof e&&e==e&&e%1===0}function Yl(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Zl(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Zl(r)||r<0||r>=256)return!1}return!0}function Ql(e,t){if(t||(t={}),"number"===typeof e){Gl.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Vl(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Hl(e)&&(e=e.toHexString()),ed(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":Gl.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Vl(new Uint8Array(n))}return Yl(e)?Vl(new Uint8Array(e)):Gl.throwArgumentError("invalid arrayify value","value",e)}function Xl(e){const t=e.map((e=>Ql(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),Vl(n)}function $l(e){let t=Ql(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function ed(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const td="0123456789abcdef";function rd(e,t){if(t||(t={}),"number"===typeof e){Gl.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=td[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Hl(e))return e.toHexString();if(ed(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":Gl.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Yl(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=td[(240&n)>>4]+td[15&n]}return t}return Gl.throwArgumentError("invalid hexlify value","value",e)}function nd(e){if("string"!==typeof e)e=rd(e);else if(!ed(e)||e.length%2)return null;return(e.length-2)/2}function id(e,t,r){return"string"!==typeof e?e=rd(e):(!ed(e)||e.length%2)&&Gl.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function od(e){let t="0x";return e.forEach((e=>{t+=rd(e).substring(2)})),t}function sd(e){const t=function(e){"string"!==typeof e&&(e=rd(e));ed(e)||Gl.throwArgumentError("invalid hex string","value",e);e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(rd(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function ad(e,t){for("string"!==typeof e?e=rd(e):ed(e)||Gl.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Gl.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function cd(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Wl(e)){let r=Ql(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=rd(r.slice(0,32)),t.s=rd(r.slice(32,64))):65===r.length?(t.r=rd(r.slice(0,32)),t.s=rd(r.slice(32,64)),t.v=r[64]):Gl.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:Gl.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=rd(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=function(e,t){(e=Ql(e)).length>t&&Gl.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),Vl(r)}(Ql(t._vs),32);t._vs=rd(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&Gl.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=rd(r);null==t.s?t.s=i:t.s!==i&&Gl.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?Gl.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&Gl.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&ed(t.r)?t.r=ad(t.r,32):Gl.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&ed(t.s)?t.s=ad(t.s,32):Gl.throwArgumentError("signature missing or invalid s","signature",e);const r=Ql(t.s);r[0]>=128&&Gl.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=rd(r);t._vs&&(ed(t._vs)||Gl.throwArgumentError("signature invalid _vs","signature",e),t._vs=ad(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&Gl.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function ud(e){return rd(Xl([(e=cd(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}var ld=__webpack_require__(1215);var dd=__webpack_require__.n(ld)().BN;const fd=new Jl("bignumber/5.7.0"),hd={},pd=9007199254740991;let md=!1;class yd{constructor(e,t){e!==hd&&fd.throwError("cannot call constructor directly; use BigNumber.from",Jl.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return vd(bd(this).fromTwos(e))}toTwos(e){return vd(bd(this).toTwos(e))}abs(){return"-"===this._hex[0]?yd.from(this._hex.substring(1)):this}add(e){return vd(bd(this).add(bd(e)))}sub(e){return vd(bd(this).sub(bd(e)))}div(e){return yd.from(e).isZero()&&wd("division-by-zero","div"),vd(bd(this).div(bd(e)))}mul(e){return vd(bd(this).mul(bd(e)))}mod(e){const t=bd(e);return t.isNeg()&&wd("division-by-zero","mod"),vd(bd(this).umod(t))}pow(e){const t=bd(e);return t.isNeg()&&wd("negative-power","pow"),vd(bd(this).pow(t))}and(e){const t=bd(e);return(this.isNegative()||t.isNeg())&&wd("unbound-bitwise-result","and"),vd(bd(this).and(t))}or(e){const t=bd(e);return(this.isNegative()||t.isNeg())&&wd("unbound-bitwise-result","or"),vd(bd(this).or(t))}xor(e){const t=bd(e);return(this.isNegative()||t.isNeg())&&wd("unbound-bitwise-result","xor"),vd(bd(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&wd("negative-width","mask"),vd(bd(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&wd("negative-width","shl"),vd(bd(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&wd("negative-width","shr"),vd(bd(this).shrn(e))}eq(e){return bd(this).eq(bd(e))}lt(e){return bd(this).lt(bd(e))}lte(e){return bd(this).lte(bd(e))}gt(e){return bd(this).gt(bd(e))}gte(e){return bd(this).gte(bd(e))}isNegative(){return"-"===this._hex[0]}isZero(){return bd(this).isZero()}toNumber(){try{return bd(this).toNumber()}catch(e){wd("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(Qa){}return fd.throwError("this platform does not support BigInt",Jl.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?md||(md=!0,fd.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?fd.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Jl.errors.UNEXPECTED_ARGUMENT,{}):fd.throwError("BigNumber.toString does not accept parameters",Jl.errors.UNEXPECTED_ARGUMENT,{})),bd(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof yd)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new yd(hd,gd(e)):e.match(/^-?[0-9]+$/)?new yd(hd,gd(new dd(e))):fd.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&wd("underflow","BigNumber.from",e),(e>=pd||e<=-pd)&&wd("overflow","BigNumber.from",e),yd.from(String(e));const t=e;if("bigint"===typeof t)return yd.from(t.toString());if(Yl(t))return yd.from(rd(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"===typeof e)return yd.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"===typeof e&&(ed(e)||"-"===e[0]&&ed(e.substring(1))))return yd.from(e)}return fd.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function gd(e){if("string"!==typeof e)return gd(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&fd.throwArgumentError("invalid hex","value",e),"0x00"===(e=gd(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function vd(e){return yd.from(gd(e))}function bd(e){const t=yd.from(e).toHexString();return"-"===t[0]?new dd("-"+t.substring(3),16):new dd(t.substring(2),16)}function wd(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),fd.throwError(e,Jl.errors.NUMERIC_FAULT,n)}var Sd=__webpack_require__(2161),Ed=__webpack_require__.n(Sd);function Ad(e){return"0x"+Ed().keccak_256(Ql(e))}const _d=new Jl("rlp/5.7.0");function kd(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function xd(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function Md(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Md(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=kd(t.length);return r.unshift(247+r.length),r.concat(t)}Wl(e)||_d.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(Ql(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=kd(t.length);return r.unshift(183+r.length),r.concat(t)}function Nd(e){return rd(Md(e))}function Pd(e,t,r,n){const i=[];for(;r<t+1+n;){const o=Id(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&_d.throwError("child data too short",Jl.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Id(e,t){if(0===e.length&&_d.throwError("data too short",Jl.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&_d.throwError("data short segment too short",Jl.errors.BUFFER_OVERRUN,{});const n=xd(e,t+1,r);return t+1+r+n>e.length&&_d.throwError("data long segment too short",Jl.errors.BUFFER_OVERRUN,{}),Pd(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&_d.throwError("data array too short",Jl.errors.BUFFER_OVERRUN,{}),Pd(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&_d.throwError("data array too short",Jl.errors.BUFFER_OVERRUN,{});const n=xd(e,t+1,r);t+1+r+n>e.length&&_d.throwError("data array too short",Jl.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:rd(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&_d.throwError("data too short",Jl.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:rd(e.slice(t+1,t+1+r))}}return{consumed:1,result:rd(e[t])}}function Rd(e){const t=Ql(e),r=Id(t,0);return r.consumed!==t.length&&_d.throwArgumentError("invalid rlp data","data",e),r.result}const Cd=new Jl("address/5.7.0");function Od(e){ed(e,20)||Cd.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=Ql(Ad(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Td={};for(let tE=0;tE<10;tE++)Td[String(tE)]=String(tE);for(let tE=0;tE<26;tE++)Td[String.fromCharCode(65+tE)]=String(10+tE);const Bd=Math.floor(function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}(9007199254740991));function Ud(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Td[e])).join("");for(;t.length>=Bd;){let e=t.substring(0,Bd);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function Ld(e){let t=null;if("string"!==typeof e&&Cd.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=Od(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Cd.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Ud(e)&&Cd.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new dd(r,36).toString(16);t.length<40;)t="0"+t;t=Od("0x"+t)}else Cd.throwArgumentError("invalid address","address",e);var r;return t}var Dd=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Kd=new Jl("properties/5.7.0");function Fd(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function qd(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!==typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function zd(e){return Dd(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const r=e[t];return Promise.resolve(r).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function jd(e,t){e&&"object"===typeof e||Kd.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((r=>{t[r]||Kd.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}function Jd(e){const t={};for(const r in e)t[r]=e[r];return t}const Gd={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Hd(e){if(void 0===e||null===e||Gd[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let n=0;n<r.length;n++){let i=null;try{i=e[r[n]]}catch(t){continue}if(!Hd(i))return!1}return!0}return Kd.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function Vd(e){if(Hd(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>Wd(e))));if("object"===typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&Fd(t,r,Wd(n))}return t}return Kd.throwArgumentError("Cannot deepCopy ".concat(typeof e),"object",e)}function Wd(e){return Vd(e)}class Zd{constructor(e){for(const t in e)this[t]=Wd(e[t])}}var Yd=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Qd=new Jl("abstract-provider/5.7.0");class Xd extends Zd{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class $d{constructor(){Qd.checkAbstract(new.target,$d),Fd(this,"_isProvider",!0)}getFeeData(){return Yd(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield zd({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=yd.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var ef=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const tf=new Jl("abstract-signer/5.7.0"),rf=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],nf=[Jl.errors.INSUFFICIENT_FUNDS,Jl.errors.NONCE_EXPIRED,Jl.errors.REPLACEMENT_UNDERPRICED];class of{constructor(){tf.checkAbstract(new.target,of),Fd(this,"_isSigner",!0)}getBalance(e){return ef(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return ef(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return ef(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield zd(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return ef(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield zd(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return ef(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return ef(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return ef(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return ef(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return ef(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const r in e)-1===rf.indexOf(r)&&tf.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=Jd(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&tf.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return ef(this,void 0,void 0,(function*(){const t=yield zd(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>ef(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&tf.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||tf.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):tf.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&tf.throwError("network does not support EIP-1559",Jl.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):tf.throwError("failed to get consistent fee data",Jl.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(nf.indexOf(e.code)>=0)throw e;return tf.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Jl.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&tf.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield zd(t)}))}_checkProvider(e){this.provider||tf.throwError("missing provider",Jl.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}const sf=new Jl("strings/5.7.0");var af,cf;function uf(e,t,r,n,i){if(e===cf.BAD_PREFIX||e===cf.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6===2;n++)e++;return e}return e===cf.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(af||(af={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(cf||(cf={}));const lf=Object.freeze({error:function(e,t,r,n,i){return sf.throwArgumentError("invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",r)},ignore:uf,replace:function(e,t,r,n,i){return e===cf.OVERLONG?(n.push(i),0):(n.push(65533),uf(e,t,r))}});function df(e,t){null==t&&(t=lf.error),e=Ql(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7===0){r.push(i);continue}let o=null,s=null;if(192===(224&i))o=1,s=127;else if(224===(240&i))o=2,s=2047;else{if(240!==(248&i)){n+=t(128===(192&i)?cf.UNEXPECTED_CONTINUE:cf.BAD_PREFIX,n-1,e,r);continue}o=3,s=65535}if(n-1+o>=e.length){n+=t(cf.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let i=e[n];if(128!=(192&i)){n+=t(cf.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(cf.OUT_OF_RANGE,n-1-o,e,r,a):a>=55296&&a<=57343?n+=t(cf.UTF16_SURROGATE,n-1-o,e,r,a):a<=s?n+=t(cf.OVERLONG,n-1-o,e,r,a):r.push(a))}return r}function ff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:af.current;t!=af.current&&(sf.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return Ql(r)}function hf(e,t){return df(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}const pf="hash/5.7.0";function mf(e){return Ad(ff(e))}var yf=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const gf=new Jl(pf),vf=new Uint8Array(32);vf.fill(0);const bf=yd.from(-1),wf=yd.from(0),Sf=yd.from(1),Ef=yd.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Af=ad(Sf.toHexString(),32),_f=ad(wf.toHexString(),32),kf={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},xf=["name","version","chainId","verifyingContract","salt"];function Mf(e){return function(t){return"string"!==typeof t&&gf.throwArgumentError("invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const Nf={name:Mf("name"),version:Mf("version"),chainId:function(e){try{return yd.from(e).toString()}catch(t){}return gf.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return Ld(e).toLowerCase()}catch(t){}return gf.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=Ql(e);if(32!==t.length)throw new Error("bad length");return rd(t)}catch(t){}return gf.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function Pf(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&gf.throwArgumentError("invalid numeric width","type",e);const i=Ef.mask(r?n-1:n),o=r?i.add(Sf).mul(bf):wf;return function(t){const r=yd.from(t);return(r.lt(o)||r.gt(i))&&gf.throwArgumentError("value out-of-bounds for ".concat(e),"value",t),ad(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&gf.throwArgumentError("invalid bytes width","type",e),function(t){return Ql(t).length!==r&&gf.throwArgumentError("invalid length for ".concat(e),"value",t),function(e){const t=Ql(e),r=t.length%32;return r?od([t,vf.slice(r)]):rd(t)}(t)}}}switch(e){case"address":return function(e){return ad(Ld(e),32)};case"bool":return function(e){return e?Af:_f};case"bytes":return function(e){return Ad(e)};case"string":return function(e){return mf(e)}}return null}function If(e,t){return"".concat(e,"(").concat(t.map((e=>{let{name:t,type:r}=e;return r+" "+t})).join(","),")")}class Rf{constructor(e){Fd(this,"types",Object.freeze(Wd(e))),Fd(this,"_encoderCache",{}),Fd(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach((e=>{t[e]={},r[e]=[],n[e]={}}));for(const o in e){const n={};e[o].forEach((i=>{n[i.name]&&gf.throwArgumentError("duplicate variable name ".concat(JSON.stringify(i.name)," in ").concat(JSON.stringify(o)),"types",e),n[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===o&&gf.throwArgumentError("circular type reference to ".concat(JSON.stringify(s)),"types",e);Pf(s)||(r[s]||gf.throwArgumentError("unknown type ".concat(JSON.stringify(s)),"types",e),r[s].push(o),t[o][s]=!0)}))}const i=Object.keys(r).filter((e=>0===r[e].length));0===i.length?gf.throwArgumentError("missing primary type","types",e):i.length>1&&gf.throwArgumentError("ambiguous primary types or unused types: ".concat(i.map((e=>JSON.stringify(e))).join(", ")),"types",e),Fd(this,"primaryType",i[0]),function i(o,s){s[o]&&gf.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",e),s[o]=!0,Object.keys(t[o]).forEach((e=>{r[e]&&(i(e,s),Object.keys(s).forEach((t=>{n[t][e]=!0})))})),delete s[o]}(this.primaryType,{});for(const o in n){const t=Object.keys(n[o]);t.sort(),this._types[o]=If(o,e[o])+t.map((t=>If(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=Pf(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&gf.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(Ad)),Ad(od(i))}}const r=this.types[e];if(r){const t=mf(this._types[e]);return e=>{const n=r.map((t=>{let{name:r,type:n}=t;const i=this.getEncoder(n)(e[r]);return this._types[n]?Ad(i):i}));return n.unshift(t),od(n)}}return gf.throwArgumentError("unknown type: ".concat(e),"type",e)}encodeType(e){const t=this._types[e];return t||gf.throwArgumentError("unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ad(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Pf(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&gf.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,r)))}const i=this.types[e];return i?i.reduce(((e,n)=>{let{name:i,type:o}=n;return e[i]=this._visit(o,t[i],r),e}),{}):gf.throwArgumentError("unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Rf(e)}static getPrimaryType(e){return Rf.from(e).primaryType}static hashStruct(e,t,r){return Rf.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=kf[r];n||gf.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",e),t.push({name:r,type:n})}return t.sort(((e,t)=>xf.indexOf(e.name)-xf.indexOf(t.name))),Rf.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return od(["0x1901",Rf.hashDomain(e),Rf.from(t).hash(r)])}static hash(e,t,r){return Ad(Rf.encode(e,t,r))}static resolveNames(e,t,r,n){return yf(this,void 0,void 0,(function*(){e=Jd(e);const i={};e.verifyingContract&&!ed(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Rf.from(t);o.visit(r,((e,t)=>("address"!==e||ed(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,((e,t)=>"address"===e&&i[t]?i[t]:t)),{domain:e,value:r}}))}static getPayload(e,t,r){Rf.hashDomain(e);const n={},i=[];xf.forEach((t=>{const r=e[t];null!=r&&(n[t]=Nf[t](r),i.push({name:t,type:kf[t]}))}));const o=Rf.from(t),s=Jd(t);return s.EIP712Domain?gf.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return rd(Ql(t));if(e.match(/^u?int/))return yd.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!==typeof t&&gf.throwArgumentError("invalid string","value",t),t}return gf.throwArgumentError("unsupported type","type",e)}))}}}class Cf{constructor(e){Fd(this,"alphabet",e),Fd(this,"base",e.length),Fd(this,"_alphabetMap",{}),Fd(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Ql(e);if(0===t.length)return"";let r=[0];for(let i=0;i<t.length;++i){let e=t[i];for(let t=0;t<r.length;++t)e+=r[t]<<8,r[t]=e%this.base,e=e/this.base|0;for(;e>0;)r.push(e%this.base),e=e/this.base|0}let n="";for(let i=0;0===t[i]&&i<t.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(e){if("string"!==typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return Ql(new Uint8Array(t.reverse()))}}new Cf("abcdefghijklmnopqrstuvwxyz234567");const Of=new Cf("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Tf,Bf=__webpack_require__(3697),Uf=__webpack_require__.n(Bf);!function(e){e.sha256="sha256",e.sha512="sha512"}(Tf||(Tf={}));const Lf=new Jl("sha2/5.7.0");function Df(e){return"0x"+Uf().sha256().update(Ql(e)).digest("hex")}function Kf(e,t,r){return Tf[e]||Lf.throwError("unsupported algorithm "+e,Jl.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+Uf().hmac(Uf()[e],Ql(t)).update(Ql(r)).digest("hex")}function Ff(e,t,r,n,i){let o;e=Ql(e),t=Ql(t);let s=1;const a=new Uint8Array(n),c=new Uint8Array(t.length+4);let u,l;c.set(t);for(let d=1;d<=s;d++){c[t.length]=d>>24&255,c[t.length+1]=d>>16&255,c[t.length+2]=d>>8&255,c[t.length+3]=255&d;let f=Ql(Kf(i,e,c));o||(o=f.length,l=new Uint8Array(o),s=Math.ceil(n/o),u=n-(s-1)*o),l.set(f);for(let t=1;t<r;t++){f=Ql(Kf(i,e,f));for(let e=0;e<o;e++)l[e]^=f[e]}const h=(d-1)*o,p=d===s?u:o;a.set(Ql(l).slice(0,p),h)}return rd(a)}var qf=__webpack_require__(2305),zf=__webpack_require__.n(qf);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:"undefined"!==typeof self&&self;function jf(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},e(r,r.exports),r.exports}var Jf=Gf;function Gf(e,t){if(!e)throw new Error(t||"Assertion failed")}Gf.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Hf=jf((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),Vf=jf((function(e,t){var r=t;r.assert=Jf,r.toArray=Hf.toArray,r.zero2=Hf.zero2,r.toHex=Hf.toHex,r.encode=Hf.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0===(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0===(1&u)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(zf())(e,"hex","le")}})),Wf=Vf.getNAF,Zf=Vf.getJSF,Yf=Vf.assert;function Qf(e,t){this.type=e,this.p=new(zf())(t.p,16),this.red=t.prime?zf().red(t.prime):zf().mont(this.p),this.zero=new(zf())(0).toRed(this.red),this.one=new(zf())(1).toRed(this.red),this.two=new(zf())(2).toRed(this.red),this.n=t.n&&new(zf())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xf=Qf;function $f(e,t){this.curve=e,this.type=t,this.precomputed=null}Qf.prototype.point=function(){throw new Error("Not implemented")},Qf.prototype.validate=function(){throw new Error("Not implemented")},Qf.prototype._fixedNafMul=function(e,t){Yf(e.precomputed);var r=e._getDoubles(),n=Wf(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var c=o+r.step-1;c>=o;c--)s=(s<<1)+n[c];a.push(s)}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<a.length;o++)(s=a[o])===d?l=l.mixedAdd(r.points[o]):s===-d&&(l=l.mixedAdd(r.points[o].neg()));u=u.add(l)}return u.toP()},Qf.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=Wf(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var c=0;a>=0&&0===o[a];a--)c++;if(a>=0&&c++,s=s.dblp(c),a<0)break;var u=o[a];Yf(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},Qf.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,c=this._wnafT1,u=this._wnafT2,l=this._wnafT3,d=0;for(o=0;o<n;o++){var f=(a=t[o])._getNAFPoints(e);c[o]=f.wnd,u[o]=f.points}for(o=n-1;o>=1;o-=2){var h=o-1,p=o;if(1===c[h]&&1===c[p]){var m=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(m[1]=t[h].add(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].add(t[p].neg())):(m[1]=t[h].toJ().mixedAdd(t[p]),m[2]=t[h].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],g=Zf(r[h],r[p]);for(d=Math.max(g[0].length,d),l[h]=new Array(d),l[p]=new Array(d),s=0;s<d;s++){var v=0|g[0][s],b=0|g[1][s];l[h][s]=y[3*(v+1)+(b+1)],l[p][s]=0,u[h]=m}}else l[h]=Wf(r[h],c[h],this._bitLength),l[p]=Wf(r[p],c[p],this._bitLength),d=Math.max(l[h].length,d),d=Math.max(l[p].length,d)}var w=this.jpoint(null,null,null),S=this._wnafT4;for(o=d;o>=0;o--){for(var E=0;o>=0;){var A=!0;for(s=0;s<n;s++)S[s]=0|l[s][o],0!==S[s]&&(A=!1);if(!A)break;E++,o--}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(s=0;s<n;s++){var _=S[s];0!==_&&(_>0?a=u[s][_-1>>1]:_<0&&(a=u[s][-_-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},Qf.BasePoint=$f,$f.prototype.eq=function(){throw new Error("Not implemented")},$f.prototype.validate=function(){return this.curve.validate(this)},Qf.prototype.decodePoint=function(e,t){e=Vf.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?Yf(e[e.length-1]%2===0):7===e[0]&&Yf(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},$f.prototype.encodeCompressed=function(e){return this.encode(e,!0)},$f.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},$f.prototype.encode=function(e,t){return Vf.encode(this._encode(t),e)},$f.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},$f.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},$f.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},$f.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},$f.prototype._getBeta=function(){return null},$f.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var eh=jf((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),th=Vf.assert;function rh(e){Xf.call(this,"short",e),this.a=new(zf())(e.a,16).toRed(this.red),this.b=new(zf())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}eh(rh,Xf);var nh=rh;function ih(e,t,r,n){Xf.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(zf())(t,16),this.y=new(zf())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function oh(e,t,r,n){Xf.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(zf())(0)):(this.x=new(zf())(t,16),this.y=new(zf())(r,16),this.z=new(zf())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}rh.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(zf())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(zf())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],th(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(zf())(e.a,16),b:new(zf())(e.b,16)}})):this._getEndoBasis(r)}}},rh.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:zf().mont(e),r=new(zf())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(zf())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},rh.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,c,u,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,f=this.n.clone(),h=new(zf())(1),p=new(zf())(0),m=new(zf())(0),y=new(zf())(1),g=0;0!==d.cmpn(0);){var v=f.div(d);c=f.sub(v.mul(d)),u=m.sub(v.mul(h));var b=y.sub(v.mul(p));if(!n&&c.cmp(l)<0)t=a.neg(),r=h,n=c.neg(),i=u;else if(n&&2===++g)break;a=c,f=d,d=c,m=h,h=u,y=p,p=b}o=c.neg(),s=u;var w=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},rh.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},rh.prototype.pointFromX=function(e,t){(e=new(zf())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},rh.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},rh.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},eh(ih,Xf.BasePoint),rh.prototype.point=function(e,t,r){return new ih(this,e,t,r)},rh.prototype.pointFromJSON=function(e,t){return ih.fromJSON(this,e,t)},ih.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},ih.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ih.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},ih.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ih.prototype.isInfinity=function(){return this.inf},ih.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},ih.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},ih.prototype.getX=function(){return this.x.fromRed()},ih.prototype.getY=function(){return this.y.fromRed()},ih.prototype.mul=function(e){return e=new(zf())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},ih.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},ih.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},ih.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},ih.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},ih.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},eh(oh,Xf.BasePoint),rh.prototype.jpoint=function(e,t,r){return new oh(this,e,t,r)},oh.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},oh.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},oh.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),d=n.redMul(u),f=c.redSqr().redIAdd(l).redISub(d).redISub(d),h=c.redMul(d.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,h,p)},oh.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=r.redMul(c),d=a.redSqr().redIAdd(u).redISub(l).redISub(l),f=a.redMul(l.redISub(d)).redISub(i.redMul(u)),h=this.z.redMul(s);return this.curve.jpoint(d,f,h)},oh.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var l=o.redSqr(),d=u.redSqr(),f=d.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=o.redMul(d),m=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(m),g=h.redMul(y);g=g.redIAdd(g).redISub(f);var v=u.redMul(a);t+1<e&&(c=c.redMul(f)),o=m,a=v,u=g}return this.curve.jpoint(o,u.redMul(i),a)},oh.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},oh.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(l).redISub(f);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),y=f.redIAdd(f);y=(y=y.redIAdd(y)).redIAdd(y),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},oh.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},oh.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),d=u.redISub(l),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=a.redMul(d).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,h,p)},oh.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.x.redMul(a).redISub(l);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,f,h)},oh.prototype.mul=function(e,t){return e=new(zf())(e,t),this.curve._wnafMul(this,e)},oh.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},oh.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},oh.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},oh.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var sh=jf((function(e,t){var r=t;r.base=Xf,r.short=nh,r.mont=null,r.edwards=null})),ah=jf((function(e,t){var r,n=t,i=Vf.assert;function o(e){"short"===e.type?this.curve=new sh.short(e):"edwards"===e.type?this.curve=new sh.edwards(e):this.curve=new sh.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Uf().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Uf().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Uf().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Uf().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Uf().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Uf().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Uf().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(Qa){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Uf().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function ch(e){if(!(this instanceof ch))return new ch(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Hf.toArray(e.entropy,e.entropyEnc||"hex"),r=Hf.toArray(e.nonce,e.nonceEnc||"hex"),n=Hf.toArray(e.pers,e.persEnc||"hex");Jf(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var uh=ch;ch.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},ch.prototype._hmac=function(){return new(Uf().hmac)(this.hash,this.K)},ch.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},ch.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=Hf.toArray(e,t),r=Hf.toArray(r,n),Jf(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},ch.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=Hf.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,Hf.encode(o,t)};var lh=Vf.assert;function dh(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var fh=dh;dh.fromPublic=function(e,t,r){return t instanceof dh?t:new dh(e,{pub:t,pubEnc:r})},dh.fromPrivate=function(e,t,r){return t instanceof dh?t:new dh(e,{priv:t,privEnc:r})},dh.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},dh.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},dh.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},dh.prototype._importPrivate=function(e,t){this.priv=new(zf())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},dh.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?lh(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||lh(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},dh.prototype.derive=function(e){return e.validate()||lh(e.validate(),"public point not validated"),e.mul(this.priv).getX()},dh.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},dh.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},dh.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var hh=Vf.assert;function ph(e,t){if(e instanceof ph)return e;this._importDER(e,t)||(hh(e.r&&e.s,"Signature without r or s"),this.r=new(zf())(e.r,16),this.s=new(zf())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var mh=ph;function yh(){this.place=0}function gh(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function vh(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function bh(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}ph.prototype._importDER=function(e,t){e=Vf.toArray(e,t);var r=new yh;if(48!==e[r.place++])return!1;var n=gh(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=gh(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=gh(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(zf())(o),this.s=new(zf())(a),this.recoveryParam=null,!0},ph.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=vh(t),r=vh(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];bh(n,t.length),(n=n.concat(t)).push(2),bh(n,r.length);var i=n.concat(r),o=[48];return bh(o,i.length),o=o.concat(i),Vf.encode(o,e)};var wh=function(){throw new Error("unsupported")},Sh=Vf.assert;function Eh(e){if(!(this instanceof Eh))return new Eh(e);"string"===typeof e&&(Sh(Object.prototype.hasOwnProperty.call(ah,e),"Unknown curve "+e),e=ah[e]),e instanceof ah.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Ah=Eh;Eh.prototype.keyPair=function(e){return new fh(this,e)},Eh.prototype.keyFromPrivate=function(e,t){return fh.fromPrivate(this,e,t)},Eh.prototype.keyFromPublic=function(e,t){return fh.fromPublic(this,e,t)},Eh.prototype.genKeyPair=function(e){e||(e={});for(var t=new uh({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||wh(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(zf())(2));;){var i=new(zf())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Eh.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Eh.prototype.sign=function(e,t,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(zf())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new uh({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new(zf())(1)),u=0;;u++){var l=n.k?n.k(u):new(zf())(a.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(c)>=0)){var d=this.g.mul(l);if(!d.isInfinity()){var f=d.getX(),h=f.umod(this.n);if(0!==h.cmpn(0)){var p=l.invm(this.n).mul(h.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(d.getY().isOdd()?1:0)|(0!==f.cmp(h)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new mh({r:h,s:p,recoveryParam:m})}}}}}},Eh.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(zf())(e,16)),r=this.keyFromPublic(r,n);var i=(t=new mh(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Eh.prototype.recoverPubKey=function(e,t,r,n){Sh((3&r)===r,"The recovery param is more than two bits"),t=new mh(t,n);var i=this.n,o=new(zf())(e),s=t.r,a=t.s,c=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var l=t.r.invm(i),d=i.sub(o).mul(l).umod(i),f=a.mul(l).umod(i);return this.g.mulAdd(d,s,f)},Eh.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new mh(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var _h=jf((function(e,t){var r=t;r.version="6.5.4",r.utils=Vf,r.rand=function(){throw new Error("unsupported")},r.curve=sh,r.curves=ah,r.ec=Ah,r.eddsa=null})),kh=_h.ec;const xh=new Jl("signing-key/5.7.0");let Mh=null;function Nh(){return Mh||(Mh=new kh("secp256k1")),Mh}class Ph{constructor(e){Fd(this,"curve","secp256k1"),Fd(this,"privateKey",rd(e)),32!==nd(this.privateKey)&&xh.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Nh().keyFromPrivate(Ql(this.privateKey));Fd(this,"publicKey","0x"+t.getPublic(!1,"hex")),Fd(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Fd(this,"_isSigningKey",!0)}_addPoint(e){const t=Nh().keyFromPublic(Ql(this.publicKey)),r=Nh().keyFromPublic(Ql(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=Nh().keyFromPrivate(Ql(this.privateKey)),r=Ql(e);32!==r.length&&xh.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return cd({recoveryParam:n.recoveryParam,r:ad("0x"+n.r.toString(16),32),s:ad("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=Nh().keyFromPrivate(Ql(this.privateKey)),r=Nh().keyFromPublic(Ql(Ih(e)));return ad("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Ih(e,t){const r=Ql(e);if(32===r.length){const e=new Ph(r);return t?"0x"+Nh().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?rd(r):"0x"+Nh().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+Nh().keyFromPublic(r).getPublic(!0,"hex"):rd(r):xh.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Rh=yd.from(0),Ch=new Jl("transactions/5.7.0");var Oh;function Th(e){return"0x"===e?null:Ld(e)}function Bh(e){return"0x"===e?Rh:yd.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(Oh||(Oh={}));const Uh=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Lh={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Dh(e){return Ld(id(Ad(id(Ih(e),1)),12))}function Kh(e,t){return Dh(function(e,t){const r=cd(t),n={r:Ql(r.r),s:Ql(r.s)};return"0x"+Nh().recoverPubKey(Ql(e),n,r.recoveryParam).encode("hex",!1)}(Ql(e),t))}function Fh(e,t){const r=$l(yd.from(e).toHexString());return r.length>32&&Ch.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function qh(e,t){return{address:Ld(e),storageKeys:(t||[]).map(((t,r)=>(32!==nd(t)&&Ch.throwArgumentError("invalid access list storageKey","accessList[".concat(e,":").concat(r,"]"),t),t.toLowerCase())))}}function zh(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&Ch.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(t,"]"),e),qh(e[0],e[1])):qh(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return qh(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function jh(e){return zh(e).map((e=>[e.address,e.storageKeys]))}function Jh(e,t){if(null!=e.gasPrice){const t=yd.from(e.gasPrice),r=yd.from(e.maxFeePerGas||0);t.eq(r)||Ch.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[Fh(e.chainId||0,"chainId"),Fh(e.nonce||0,"nonce"),Fh(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Fh(e.maxFeePerGas||0,"maxFeePerGas"),Fh(e.gasLimit||0,"gasLimit"),null!=e.to?Ld(e.to):"0x",Fh(e.value||0,"value"),e.data||"0x",jh(e.accessList||[])];if(t){const e=cd(t);r.push(Fh(e.recoveryParam,"recoveryParam")),r.push($l(e.r)),r.push($l(e.s))}return od(["0x02",Nd(r)])}function Gh(e,t){const r=[Fh(e.chainId||0,"chainId"),Fh(e.nonce||0,"nonce"),Fh(e.gasPrice||0,"gasPrice"),Fh(e.gasLimit||0,"gasLimit"),null!=e.to?Ld(e.to):"0x",Fh(e.value||0,"value"),e.data||"0x",jh(e.accessList||[])];if(t){const e=cd(t);r.push(Fh(e.recoveryParam,"recoveryParam")),r.push($l(e.r)),r.push($l(e.s))}return od(["0x01",Nd(r)])}function Hh(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&Ch.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){jd(e,Lh);const r=[];Uh.forEach((function(t){let n=e[t.name]||[];const i={};t.numeric&&(i.hexPad="left"),n=Ql(rd(n,i)),t.length&&n.length!==t.length&&n.length>0&&Ch.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=$l(n),n.length>t.maxLength&&Ch.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),r.push(rd(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,"number"!==typeof n&&Ch.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!Wl(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(rd(n)),r.push("0x"),r.push("0x")),!t)return Nd(r);const i=cd(t);let o=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,i.v>28&&i.v!==o&&Ch.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==o&&Ch.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(rd(o)),r.push($l(Ql(i.r))),r.push($l(Ql(i.s))),Nd(r)}(e,t);switch(e.type){case 1:return Gh(e,t);case 2:return Jh(e,t)}return Ch.throwError("unsupported transaction type: ".concat(e.type),Jl.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function Vh(e,t,r){try{const r=Bh(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(n){Ch.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=ad(t[1],32),e.s=ad(t[2],32);try{const t=Ad(r(e));e.from=Kh(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(n){}}function Wh(e){const t=Ql(e);if(t[0]>127)return function(e){const t=Rd(e);9!==t.length&&6!==t.length&&Ch.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:Bh(t[0]).toNumber(),gasPrice:Bh(t[1]),gasLimit:Bh(t[2]),to:Th(t[3]),value:Bh(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=yd.from(t[6]).toNumber()}catch(n){return r}if(r.r=ad(t[7],32),r.s=ad(t[8],32),yd.from(r.r).isZero()&&yd.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27;const o=t.slice(0,6);0!==r.chainId&&(o.push(rd(r.chainId)),o.push("0x"),o.push("0x"),i-=2*r.chainId+8);const s=Ad(Nd(o));try{r.from=Kh(s,{r:rd(r.r),s:rd(r.s),recoveryParam:i})}catch(n){}r.hash=Ad(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){const t=Rd(e.slice(1));8!==t.length&&11!==t.length&&Ch.throwArgumentError("invalid component count for transaction type: 1","payload",rd(e));const r={type:1,chainId:Bh(t[0]).toNumber(),nonce:Bh(t[1]).toNumber(),gasPrice:Bh(t[2]),gasLimit:Bh(t[3]),to:Th(t[4]),value:Bh(t[5]),data:t[6],accessList:zh(t[7])};return 8===t.length||(r.hash=Ad(e),Vh(r,t.slice(8),Gh)),r}(t);case 2:return function(e){const t=Rd(e.slice(1));9!==t.length&&12!==t.length&&Ch.throwArgumentError("invalid component count for transaction type: 2","payload",rd(e));const r=Bh(t[2]),n=Bh(t[3]),i={type:2,chainId:Bh(t[0]).toNumber(),nonce:Bh(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Bh(t[4]),to:Th(t[5]),value:Bh(t[6]),data:t[7],accessList:zh(t[8])};return 9===t.length||(i.hash=Ad(e),Vh(i,t.slice(9),Jh)),i}(t)}return Ch.throwError("unsupported transaction type: ".concat(t[0]),Jl.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}const Zh=new Jl("wordlists/5.7.0");class Yh{constructor(e){Zh.checkAbstract(new.target,Yh),Fd(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return mf(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}let Qh=null;function Xh(e){if(null==Qh&&(Qh="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Yh.check(e)))throw Qh=null,new Error("BIP39 Wordlist for en (English) FAILED")}const $h=new class extends Yh{constructor(){super("en")}getWord(e){return Xh(this),Qh[e]}getWordIndex(e){return Xh(this),Qh.indexOf(e)}};Yh.register($h);const ep={en:$h},tp=new Jl("hdnode/5.7.0"),rp=yd.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),np=ff("Bitcoin seed"),ip=2147483648;function op(e){return(1<<e)-1<<8-e}function sp(e){return ad(rd(e),32)}function ap(e){return Of.encode(Xl([e,id(Df(Df(e)),0,4)]))}function cp(e){if(null==e)return ep.en;if("string"===typeof e){const t=ep[e];return null==t&&tp.throwArgumentError("unknown locale","wordlist",e),t}return e}const up={},lp="m/44'/60'/0'/0/0";class dp{constructor(e,t,r,n,i,o,s,a){if(e!==up)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new Ph(t);Fd(this,"privateKey",e.privateKey),Fd(this,"publicKey",e.compressedPublicKey)}else Fd(this,"privateKey",null),Fd(this,"publicKey",rd(r));var c;Fd(this,"parentFingerprint",n),Fd(this,"fingerprint",id((c=Df(this.publicKey),"0x"+Uf().ripemd160().update(Ql(c)).digest("hex")),0,4)),Fd(this,"address",Dh(this.publicKey)),Fd(this,"chainCode",i),Fd(this,"index",o),Fd(this,"depth",s),null==a?(Fd(this,"mnemonic",null),Fd(this,"path",null)):"string"===typeof a?(Fd(this,"mnemonic",null),Fd(this,"path",a)):(Fd(this,"mnemonic",a),Fd(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return ap(Xl([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",rd(this.depth),this.parentFingerprint,ad(rd(this.index),4),this.chainCode,null!=this.privateKey?Xl(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new dp(up,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(2147483647&e));const r=new Uint8Array(37);if(e&ip){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Ql(this.privateKey),1),t&&(t+="'")}else r.set(Ql(this.publicKey));for(let l=24;l>=0;l-=8)r[33+(l>>3)]=e>>24-l&255;const n=Ql(Kf(Tf.sha512,this.chainCode,r)),i=n.slice(0,32),o=n.slice(32);let s=null,a=null;if(this.privateKey)s=sp(yd.from(i).add(this.privateKey).mod(rp));else{a=new Ph(rd(i))._addPoint(this.publicKey)}let c=t;const u=this.mnemonic;return u&&(c=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new dp(up,s,a,this.fingerprint,sp(o),e,this.depth+1,c)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let n=0;n<t.length;n++){const e=t[n];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));if(t>=ip)throw new Error("invalid path index - "+e);r=r._derive(ip+t)}else{if(!e.match(/^[0-9]+$/))throw new Error("invalid path component - "+e);{const t=parseInt(e);if(t>=ip)throw new Error("invalid path index - "+e);r=r._derive(t)}}}return r}static _fromSeed(e,t){const r=Ql(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=Ql(Kf(Tf.sha512,np,r));return new dp(up,sp(n.slice(0,32)),null,"0x00000000",sp(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=hp(fp(e,r=cp(r)),r),dp._fromSeed(function(e,t){t||(t="");const r=ff("mnemonic"+t,af.NFKD);return Ff(ff(e,af.NFKD),r,2048,64,"sha512")}(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return dp._fromSeed(e,null)}static fromExtendedKey(e){const t=Of.decode(e);82===t.length&&ap(t.slice(0,78))===e||tp.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],n=rd(t.slice(5,9)),i=parseInt(rd(t.slice(9,13)).substring(2),16),o=rd(t.slice(13,45)),s=t.slice(45,78);switch(rd(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new dp(up,null,rd(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new dp(up,rd(s.slice(1)),null,n,o,i,r,null)}return tp.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function fp(e,t){t=cp(t),tp.checkNormalize();const r=t.split(e);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Ql(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let a=0;a<r.length;a++){let e=t.getWordIndex(r[a].normalize("NFKD"));if(-1===e)throw new Error("invalid mnemonic");for(let t=0;t<11;t++)e&1<<10-t&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=op(r.length/3);if((Ql(Df(n.slice(0,o/8)))[0]&s)!==(n[n.length-1]&s))throw new Error("invalid checksum");return rd(n.slice(0,o/8))}function hp(e,t){if(t=cp(t),(e=Ql(e)).length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let s=0;s<e.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[s]>>8-n,r.push(e[s]&(1<<8-n)-1),n+=3);const i=e.length/4,o=Ql(Df(e))[0]&op(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,t.join(r.map((e=>t.getWord(e))))}const pp=new Jl("random/5.7.0");const mp=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("unable to locate global object")}();let yp=mp.crypto||mp.msCrypto;function gp(e){(e<=0||e>1024||e%1||e!=e)&&pp.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return yp.getRandomValues(t),Ql(t)}yp&&yp.getRandomValues||(pp.warn("WARNING: Missing strong random number source"),yp={getRandomValues:function(e){return pp.throwError("no secure random source avaialble",Jl.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var vp=__webpack_require__(9465),bp=__webpack_require__.n(vp),wp=__webpack_require__(4874),Sp=__webpack_require__.n(wp);function Ep(e){return"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Ql(e)}function Ap(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function _p(e){return"string"===typeof e?ff(e,af.NFKC):Ql(e)}function kp(e,t){let r=e;const n=t.toLowerCase().split("/");for(let i=0;i<n.length;i++){let e=null;for(const t in r)if(t.toLowerCase()===n[i]){e=r[t];break}if(null===e)return null;r=e}return r}function xp(e){const t=Ql(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=rd(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const Mp="json-wallets/5.7.0";var Np=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Pp=new Jl(Mp);function Ip(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class Rp extends Zd{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function Cp(e,t){const r=Ep(kp(e,"crypto/ciphertext"));if(rd(Ad(Xl([t.slice(16,32),r]))).substring(2)!==kp(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(e,t,r){if("aes-128-ctr"===kp(e,"crypto/cipher")){const n=Ep(kp(e,"crypto/cipherparams/iv")),i=new(bp().Counter)(n);return Ql(new(bp().ModeOfOperation.ctr)(t,i).decrypt(r))}return null}(e,t.slice(0,16),r);n||Pp.throwError("unsupported cipher",Jl.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),o=Dh(n);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),Ld(t)!==o)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:o,privateKey:rd(n)};if("0.1"===kp(e,"x-ethers/version")){const t=Ep(kp(e,"x-ethers/mnemonicCiphertext")),r=Ep(kp(e,"x-ethers/mnemonicCounter")),n=new(bp().Counter)(r),o=new(bp().ModeOfOperation.ctr)(i,n),c=kp(e,"x-ethers/path")||lp,u=kp(e,"x-ethers/locale")||"en",l=Ql(o.decrypt(t));try{const e=hp(l,u),t=dp.fromMnemonic(e,null,u).derivePath(c);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(a){if(a.code!==Jl.errors.INVALID_ARGUMENT||"wordlist"!==a.argument)throw a}}return new Rp(s)}function Op(e,t,r,n,i){return Ql(Ff(e,t,r,n,i))}function Tp(e,t,r,n,i){return Promise.resolve(Op(e,t,r,n,i))}function Bp(e,t,r,n,i){const o=_p(t),s=kp(e,"crypto/kdf");if(s&&"string"===typeof s){const t=function(e,t){return Pp.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const r=Ep(kp(e,"crypto/kdfparams/salt")),a=parseInt(kp(e,"crypto/kdfparams/n")),c=parseInt(kp(e,"crypto/kdfparams/r")),u=parseInt(kp(e,"crypto/kdfparams/p"));a&&c&&u||t("kdf",s),0!==(a&a-1)&&t("N",a);const l=parseInt(kp(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),n(o,r,a,c,u,64,i)}if("pbkdf2"===s.toLowerCase()){const n=Ep(kp(e,"crypto/kdfparams/salt"));let i=null;const s=kp(e,"crypto/kdfparams/prf");"hmac-sha256"===s?i="sha256":"hmac-sha512"===s?i="sha512":t("prf",s);const a=parseInt(kp(e,"crypto/kdfparams/c")),c=parseInt(kp(e,"crypto/kdfparams/dklen"));return 32!==c&&t("dklen",c),r(o,n,a,c,i)}}return Pp.throwArgumentError("unsupported key-derivation function","kdf",s)}const Up=new Jl(Mp);class Lp extends Zd{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function Dp(e,t){const r=JSON.parse(e);t=_p(t);const n=Ld(kp(r,"ethaddr")),i=Ep(kp(r,"encseed"));i&&i.length%16===0||Up.throwArgumentError("invalid encseed","json",e);const o=Ql(Ff(t,t,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),c=new(bp().ModeOfOperation.cbc)(o,s),u=bp().padding.pkcs7.strip(Ql(c.decrypt(a)));let l="";for(let f=0;f<u.length;f++)l+=String.fromCharCode(u[f]);const d=Ad(ff(l));return new Lp({_isCrowdsaleAccount:!0,address:n,privateKey:d})}function Kp(e){let t=null;try{t=JSON.parse(e)}catch(r){return!1}return t.encseed&&t.ethaddr}function Fp(e){let t=null;try{t=JSON.parse(e)}catch(r){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function qp(e,t,r){if(Kp(e)){r&&r(0);const n=Dp(e,t);return r&&r(1),Promise.resolve(n)}return Fp(e)?function(e,t,r){return Np(this,void 0,void 0,(function*(){const n=JSON.parse(e);return Cp(n,yield Bp(n,t,Tp,Sp().scrypt,r))}))}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function zp(e,t){if(Kp(e))return Dp(e,t);if(Fp(e))return function(e,t){const r=JSON.parse(e);return Cp(r,Bp(r,t,Op,Sp().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}var jp=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Jp=new Jl("wallet/5.7.0");class Gp extends of{constructor(e,t){if(super(),null!=(r=e)&&ed(r.privateKey,32)&&null!=r.address){const t=new Ph(e.privateKey);if(Fd(this,"_signingKey",(()=>t)),Fd(this,"address",Dh(this.publicKey)),this.address!==Ld(e.address)&&Jp.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;Fd(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||lp,locale:t.locale||"en"})));const r=this.mnemonic;Dh(dp.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&Jp.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Fd(this,"_mnemonic",(()=>null))}else{if(Ph.isSigningKey(e))"secp256k1"!==e.curve&&Jp.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Fd(this,"_signingKey",(()=>e));else{"string"===typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new Ph(e);Fd(this,"_signingKey",(()=>t))}Fd(this,"_mnemonic",(()=>null)),Fd(this,"address",Dh(this.publicKey))}var r;t&&!$d.isProvider(t)&&Jp.throwArgumentError("invalid provider","provider",t),Fd(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Gp(this,e)}signTransaction(e){return zd(e).then((t=>{null!=t.from&&(Ld(t.from)!==this.address&&Jp.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(Ad(Hh(t)));return Hh(t,r)}))}signMessage(e){return jp(this,void 0,void 0,(function*(){return ud(this._signingKey().signDigest(function(e){return"string"===typeof e&&(e=ff(e)),Ad(Xl([ff("\x19Ethereum Signed Message:\n"),ff(String(e.length)),e]))}(e)))}))}_signTypedData(e,t,r){return jp(this,void 0,void 0,(function*(){const n=yield Rf.resolveNames(e,t,r,(e=>(null==this.provider&&Jp.throwError("cannot resolve ENS names without a provider",Jl.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return ud(this._signingKey().signDigest(Rf.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if("function"!==typeof t||r||(r=t,t={}),r&&"function"!==typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(Ld(e.address)!==Dh(e.privateKey))throw new Error("address/privateKey mismatch");if(Ip(e)){const t=e.mnemonic;if(dp.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||lp).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(Qa){return Promise.reject(Qa)}"function"!==typeof r||n||(n=r,r={}),r||(r={});const i=Ql(e.privateKey),o=_p(t);let s=null,a=null,c=null;if(Ip(e)){const t=e.mnemonic;s=Ql(fp(t.phrase,t.locale||"en")),a=t.path||lp,c=t.locale||"en"}let u=r.client;u||(u="ethers.js");let l=null;l=r.salt?Ql(r.salt):gp(32);let d=null;if(r.iv){if(d=Ql(r.iv),16!==d.length)throw new Error("invalid iv")}else d=gp(16);let f=null;if(r.uuid){if(f=Ql(r.uuid),16!==f.length)throw new Error("invalid uuid")}else f=gp(16);let h=1<<17,p=8,m=1;return r.scrypt&&(r.scrypt.N&&(h=r.scrypt.N),r.scrypt.r&&(p=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),Sp().scrypt(o,l,h,p,m,64,n).then((t=>{const r=(t=Ql(t)).slice(0,16),n=t.slice(16,32),o=t.slice(32,64),y=new(bp().Counter)(d),g=Ql(new(bp().ModeOfOperation.ctr)(r,y).encrypt(i)),v=Ad(Xl([n,g])),b={address:e.address.substring(2).toLowerCase(),id:xp(f),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:rd(d).substring(2)},ciphertext:rd(g).substring(2),kdf:"scrypt",kdfparams:{salt:rd(l).substring(2),n:h,dklen:32,p:m,r:p},mac:v.substring(2)}};if(s){const e=gp(16),t=new(bp().Counter)(e),r=Ql(new(bp().ModeOfOperation.ctr)(o,t).encrypt(s)),n=new Date,i=n.getUTCFullYear()+"-"+Ap(n.getUTCMonth()+1,2)+"-"+Ap(n.getUTCDate(),2)+"T"+Ap(n.getUTCHours(),2)+"-"+Ap(n.getUTCMinutes(),2)+"-"+Ap(n.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:u,gethFilename:"UTC--"+i+"--"+b.address,mnemonicCounter:rd(e).substring(2),mnemonicCiphertext:rd(r).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(b)}))}(this,e,t,r)}static createRandom(e){let t=gp(16);e||(e={}),e.extraEntropy&&(t=Ql(id(Ad(Xl([t,e.extraEntropy])),0,16)));const r=hp(t,e.locale);return Gp.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return qp(e,t,r).then((e=>new Gp(e)))}static fromEncryptedJsonSync(e,t){return new Gp(zp(e,t))}static fromMnemonic(e,t,r){return t||(t=lp),new Gp(dp.fromMnemonic(e,null,r).derivePath(t))}}const Hp="providers/5.7.2";function Vp(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return Ql(t)}function Wp(e){e=Ql(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Zp=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function Yp(e,t){return Zp(this,void 0,void 0,(function*(){null==t&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){const e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}const n=yield fetch(e,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((e,t)=>{o[t.toLowerCase()]=e})):n.headers.keys().forEach((e=>{o[e.toLowerCase()]=n.headers.get(e)})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Ql(new Uint8Array(i))}}))}var Qp=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Xp=new Jl("web/5.7.1");function $p(e){return new Promise((t=>{setTimeout(t,e)}))}function em(e,t){if(null==e)return null;if("string"===typeof e)return e;if(Wl(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return hf(e)}catch(r){}return rd(e)}return e}function tm(e,t,r){let n=null;if(null!=t){n=ff(t);const r="string"===typeof e?{url:e}:Jd(e);if(r.headers){0!==Object.keys(r.headers).filter((e=>"content-type"===e.toLowerCase())).length||(r.headers=Jd(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return function(e,t,r){const n="object"===typeof e&&null!=e.throttleLimit?e.throttleLimit:12;Xp.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"===typeof e?e.throttleCallback:null,o="object"===typeof e&&"number"===typeof e.throttleSlotInterval?e.throttleSlotInterval:100;Xp.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"===typeof e&&!!e.errorPassThrough,a={};let c=null;const u={method:"GET"};let l=!1,d=12e4;if("string"===typeof e)c=e;else if("object"===typeof e){if(null!=e&&null!=e.url||Xp.throwArgumentError("missing URL","connection.url",e),c=e.url,"number"===typeof e.timeout&&e.timeout>0&&(d=e.timeout),e.headers)for(const t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(l=!0);if(u.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==c.substring(0,6)&&!0!==e.allowInsecureAuthentication&&Xp.throwError("basic authentication requires a secure https url",Jl.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+Wp(ff(t))}}null!=e.skipFetchSetup&&(u.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(u.fetchOptions=Jd(e.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=c?c.match(f):null;if(h)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?Vp(h[3]):(p=h[3],ff(p.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))};let t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(v){Xp.throwError("processing response error",Jl.errors.SERVER_ERROR,{body:em(h[1],h[2]),error:v,requestBody:null,requestMethod:"GET",url:c})}var p;t&&(u.method="POST",u.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const m={};Object.keys(a).forEach((e=>{const t=a[e];m[t.key]=t.value})),u.headers=m;const y=function(){let e=null;return{promise:new Promise((function(t,r){d&&(e=setTimeout((()=>{null!=e&&(e=null,r(Xp.makeError("timeout",Jl.errors.TIMEOUT,{requestBody:em(u.body,m["content-type"]),requestMethod:u.method,timeout:d,url:c})))}),d))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),g=function(){return Qp(this,void 0,void 0,(function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield Yp(c,u),e<n)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===u.method&&e.match(/^https:/)){c=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,c)),r){let r=0;const n=t.headers["retry-after"];r="string"===typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,e))),yield $p(r);continue}}}catch(v){t=v.response,null==t&&(y.cancel(),Xp.throwError("missing response",Jl.errors.SERVER_ERROR,{requestBody:em(u.body,m["content-type"]),requestMethod:u.method,serverError:v,url:c}))}let a=t.body;if(l&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(y.cancel(),Xp.throwError("bad response",Jl.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:em(a,t.headers?t.headers["content-type"]:null),requestBody:em(u.body,m["content-type"]),requestMethod:u.method,url:c})),r)try{const e=yield r(a,t);return y.cancel(),e}catch(v){if(v.throttleRetry&&e<n){let t=!0;if(i&&(t=yield i(e,c)),t){const t=o*parseInt(String(Math.random()*Math.pow(2,e)));yield $p(t);continue}}y.cancel(),Xp.throwError("processing response error",Jl.errors.SERVER_ERROR,{body:em(a,t.headers?t.headers["content-type"]:null),error:v,requestBody:em(u.body,m["content-type"]),requestMethod:u.method,url:c})}return y.cancel(),a}return Xp.throwError("failed response",Jl.errors.SERVER_ERROR,{requestBody:em(u.body,m["content-type"]),requestMethod:u.method,url:c})}))}();return Promise.race([y.promise,g])}(e,n,((e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(hf(e))}catch(i){Xp.throwError("invalid JSON",Jl.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n}))}function rm(e,t){return t||(t={}),null==(t=Jd(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"))}),t.timeout));const a=t.retryLimit;let c=0;!function i(){return e().then((function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!o){if(c++,c>a)return void(s()&&n(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,c)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null}),(function(e){s()&&n(e)}))}()}))}function nm(e,t){null==t&&(t=1);const r=[],n=r.forEach,i=function(e,t){n.call(e,(function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)}))};return i(e,t),r}function im(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,o=[0,1];for(let w=1;w<n;w++)o.push(i+=r());let s=r(),a=t;t+=s;let c=0,u=0;function l(){return 0==c&&(u=u<<8|e[t++],c=8),u>>--c&1}const d=Math.pow(2,31),f=d>>>1,h=f>>1,p=d-1;let m=0;for(let w=0;w<31;w++)m=m<<1|l();let y=[],g=0,v=d;for(;;){let e=Math.floor(((m-g+1)*i-1)/v),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<o[n]?r=n:t=n}if(0==t)break;y.push(t);let s=g+Math.floor(v*o[t]/i),a=g+Math.floor(v*o[t+1]/i)-1;for(;0==((s^a)&f);)m=m<<1&p|l(),s=s<<1&p,a=a<<1&p|1;for(;s&~a&h;)m=m&f|m<<1&p>>>1|l(),s=s<<1^f,a=(a^f)<<1|f|1;g=s,v=1+a-s}let b=n-4;return y.map((t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}}))}(e))}function om(e){return 1&e?~e>>1:e>>1}function sm(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function am(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=om(t());return r}function cm(e,t){let r=sm(e(),e),n=e(),i=sm(n,e),o=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let s=0;s<n;s++)for(let e=0;e<o[s];e++)r.push(i[s]+e);return t?r.map((e=>t[e])):r}function um(e,t,r){let n=Array(e).fill(void 0).map((()=>[]));for(let i=0;i<t;i++)am(e,r).forEach(((e,t)=>n[t].push(e)));return n}function lm(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return nm(um(i.length,1+e,t).map(((e,t)=>{const o=e[0],s=e.slice(1);return Array(i[t]).fill(void 0).map(((e,t)=>{let i=t*n;return[o+t*r,s.map((e=>e+i))]}))})))}function dm(e,t){return um(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}const fm=im(Vp("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),hm=new Set(cm(fm)),pm=new Set(cm(fm)),mm=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(lm(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(dm(r,e))}return function(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}(nm(t))}(fm),ym=function(e){let t=cm(e).sort(((e,t)=>e-t));return function r(){let n=[];for(;;){let i=cm(e,t);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((e,t)=>t.set.size-e.set.size));let i=e(),o=i%3;i=i/3|0;let s=!!(1&i);return i>>=1,{branches:n,valid:o,fe0f:s,save:1==i,check:2==i}}()}(fm),gm=45,vm=95;function bm(e){return function(e){return df(ff(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:af.current))}(e)}function wm(e){return e.filter((e=>65039!=e))}function Sm(e){for(let r of e.split(".")){let e=bm(r);try{for(let t=e.lastIndexOf(vm)-1;t>=0;t--)if(e[t]!==vm)throw new Error("underscore only allowed at start");if(e.length>=4&&e.every((e=>e<128))&&e[2]===gm&&e[3]===gm)throw new Error("invalid label extension")}catch(t){throw new Error('Invalid label "'.concat(r,'": ').concat(t.message))}}return e}function Em(e){return Sm(function(e,t){let r=bm(e).reverse(),n=[];for(;r.length;){let e=Am(r);if(e){n.push(...t(e));continue}let i=r.pop();if(hm.has(i)){n.push(i);continue}if(pm.has(i))continue;let o=mm[i];if(!o)throw new Error("Disallowed codepoint: 0x".concat(i.toString(16).toUpperCase()));n.push(...o)}return Sm((i=String.fromCodePoint(...n),i.normalize("NFC")));var i}(e,wm))}function Am(e,t){var r;let n,i,o=ym,s=[],a=e.length;for(t&&(t.length=0);a;){let c=e[--a];if(o=null===(r=o.branches.find((e=>e.set.has(c))))||void 0===r?void 0:r.node,!o)break;if(o.save)i=c;else if(o.check&&c===i)break;s.push(c),o.fe0f&&(s.push(65039),a>0&&65039==e[a-1]&&a--),o.valid&&(n=s.slice(),2==o.valid&&n.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}const _m=new Jl(pf),km=new Uint8Array(32);function xm(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function Mm(e){const t=ff(Em(e)),r=[];if(0===e.length)return r;let n=0;for(let i=0;i<t.length;i++){46===t[i]&&(r.push(xm(t.slice(n,i))),n=i+1)}if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(xm(t.slice(n))),r}function Nm(e){"string"!==typeof e&&_m.throwArgumentError("invalid ENS name; not a string","name",e);let t=km;const r=Mm(e);for(;r.length;)t=Ad(Xl([t,Ad(r.pop())]));return rd(t)}km.fill(0);const Pm=new Jl("networks/5.7.1");function Im(e){const t=function(t,r){null==r&&(r={});const n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(i){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(i){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(i){}if(t.PocketProvider&&"-"!==r.pocket){const o=["goerli","ropsten","rinkeby","sepolia"];try{const i=new t.PocketProvider(e,r.pocket);i.network&&-1===o.indexOf(i.network.name)&&n.push(i)}catch(i){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(i){}if(t.AnkrProvider&&"-"!==r.ankr)try{const i=["ropsten"],o=new t.AnkrProvider(e,r.ankr);o.network&&-1===i.indexOf(o.network.name)&&n.push(o)}catch(i){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return Im(e)},t}function Rm(e,t){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return Rm(e,t)},r}const Cm={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Im("homestead")},Om={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Im("ropsten")},Tm={chainId:63,name:"classicMordor",_defaultProvider:Rm("https://www.ethercluster.com/mordor","classicMordor")},Bm={unspecified:{chainId:0,name:"unspecified"},homestead:Cm,mainnet:Cm,morden:{chainId:2,name:"morden"},ropsten:Om,testnet:Om,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Im("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Im("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Im("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Im("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Rm("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Tm,classicTestnet:Tm,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Rm("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Im("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Im("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};var Um=__webpack_require__(2943),Lm=__webpack_require__.n(Um);const Dm=new Jl(Hp);class Km{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),c=this.type.bind(this);return e.transaction={hash:o,type:c,accessList:Km.allowNull(this.accessList.bind(this),null),blockHash:Km.allowNull(o,null),blockNumber:Km.allowNull(a,null),transactionIndex:Km.allowNull(a,null),confirmations:Km.allowNull(a,null),from:t,gasPrice:Km.allowNull(r),maxPriorityFeePerGas:Km.allowNull(r),maxFeePerGas:Km.allowNull(r),gasLimit:r,to:Km.allowNull(t,null),value:r,nonce:a,data:i,r:Km.allowNull(this.uint256),s:Km.allowNull(this.uint256),v:Km.allowNull(a),creates:Km.allowNull(t,null),raw:Km.allowNull(i)},e.transactionRequest={from:Km.allowNull(t),nonce:Km.allowNull(a),gasLimit:Km.allowNull(r),gasPrice:Km.allowNull(r),maxPriorityFeePerGas:Km.allowNull(r),maxFeePerGas:Km.allowNull(r),to:Km.allowNull(t),value:Km.allowNull(r),data:Km.allowNull((e=>this.data(e,!0))),type:Km.allowNull(a),accessList:Km.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:t,topics:Km.arrayOf(o),data:i,logIndex:a,blockHash:o},e.receipt={to:Km.allowNull(this.address,null),from:Km.allowNull(this.address,null),contractAddress:Km.allowNull(t,null),transactionIndex:a,root:Km.allowNull(s),gasUsed:r,logsBloom:Km.allowNull(i),blockHash:o,transactionHash:o,logs:Km.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Km.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Km.allowNull(r),status:Km.allowNull(a),type:c},e.block={hash:Km.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:Km.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Km.allowNull(t),extraData:i,transactions:Km.allowNull(Km.arrayOf(o)),baseFeePerGas:Km.allowNull(r)},e.blockWithTransactions=Jd(e.block),e.blockWithTransactions.transactions=Km.allowNull(Km.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Km.allowNull(n,void 0),toBlock:Km.allowNull(n,void 0),blockHash:Km.allowNull(o,void 0),address:Km.allowNull(t,void 0),topics:Km.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Km.allowNull(a),blockHash:Km.allowNull(o),transactionIndex:a,removed:Km.allowNull(this.boolean.bind(this)),address:t,data:Km.allowFalsish(i,"0x"),topics:Km.arrayOf(o),transactionHash:o,logIndex:a},e}accessList(e){return zh(e||[])}number(e){return"0x"===e?0:yd.from(e).toNumber()}type(e){return"0x"===e||null==e?0:yd.from(e).toNumber()}bigNumber(e){return yd.from(e)}boolean(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"===typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),ed(e))?e.toLowerCase():Dm.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return Ld(e)}callAddress(e){if(!ed(e,32))return null;const t=Ld(id(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){return function(e){let t=null;try{t=Ld(e.from)}catch(r){Cd.throwArgumentError("missing from address","transaction",e)}return Ld(id(Ad(Nd([t,$l(Ql(yd.from(e.nonce).toHexString()))])),12))}(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"===typeof e||ed(e))return sd(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return 32!==nd(r)?Dm.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;const t=yd.from(e);try{return t.toNumber()}catch(r){}return null}uint256(e){if(!ed(e))throw new Error("invalid uint256");return ad(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const r=null!=e._difficulty?e._difficulty:e.difficulty,n=Km.check(t,e);return n._difficulty=null==r?null:yd.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Km.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&yd.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=Km.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;ed(r)&&(r=yd.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),ed(r)&&(r=yd.from(r).toNumber()),"number"!==typeof r&&null!=t.v&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!==typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return Wh(e)}receiptLog(e){return Km.check(this.formats.receiptLog,e)}receipt(e){const t=Km.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=yd.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&Dm.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):Dm.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&Dm.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map((e=>this.topics(e))):null!=e?this.hash(e,!0):null}filter(e){return Km.check(this.formats.filter,e)}filterLog(e){return Km.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const i in e)try{const n=e[i](t[i]);void 0!==n&&(r[i]=n)}catch(n){throw n.checkKey=i,n.checkValue=t[i],n}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach((function(t){r.push(e(t))})),r}}}var Fm=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const qm=new Jl(Hp);function zm(e){return null==e?"null":(32!==nd(e)&&qm.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function jm(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map((e=>{if(Array.isArray(e)){const t={};e.forEach((e=>{t[zm(e)]=!0}));const r=Object.keys(t);return r.sort(),r.join("|")}return zm(e)})).join("&")}function Jm(e){if("string"===typeof e){if(32===nd(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+jm(e);if(Xd.isForkEvent(e))throw qm.warn("not implemented"),new Error("not implemented");if(e&&"object"===typeof e)return"filter:"+(e.address||"*")+":"+jm(e.topics||[])}throw new Error("invalid event - "+e)}function Gm(){return(new Date).getTime()}function Hm(e){return new Promise((t=>{setTimeout(t,e)}))}const Vm=["block","network","pending","poll"];class Wm{constructor(e,t,r){Fd(this,"tag",e),Fd(this,"listener",t),Fd(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],r=""===(n=e[2])?[]:n.split(/&/g).map((e=>{if(""===e)return[];const t=e.split("|").map((e=>"null"===e?null:e));return 1===t.length?t[0]:t}));var n;const i={};return r.length>0&&(i.topics=r),t&&"*"!==t&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||Vm.indexOf(this.tag)>=0}}const Zm={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Ym(e){return ad(yd.from(e).toHexString(),32)}function Qm(e){return Of.encode(Xl([e,id(Df(Df(e)),0,4)]))}const Xm=new RegExp("^(ipfs)://(.*)$","i"),$m=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Xm,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function ey(e,t){try{return hf(ty(e,t))}catch(r){}return null}function ty(e,t){if("0x"===e)return null;const r=yd.from(id(e,t,t+32)).toNumber(),n=yd.from(id(e,r,r+32)).toNumber();return id(e,r+32,r+32+n)}function ry(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):qm.throwArgumentError("unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}function ny(e){const t=Ql(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function iy(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function oy(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){const i=Ql(e[n]);t[n]=ny(r),t.push(ny(i.length)),t.push(iy(i)),r+=32+32*Math.ceil(i.length/32)}return od(t)}class sy{constructor(e,t,r,n){Fd(this,"provider",e),Fd(this,"name",r),Fd(this,"address",e.formatter.address(t)),Fd(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((e=>yd.from(e).eq(1))).catch((e=>{if(e.code===Jl.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e}))),this._supportsEip2544}_fetch(e,t){return Fm(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:od([e,Nm(this.name),t||"0x"])};let n=!1;var i;(yield this.supportsWildcard())&&(n=!0,r.data=od(["0x9061b923",oy([(i=this.name,rd(Xl(Mm(i).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"),r.data])]));try{let e=yield this.provider.call(r);return Ql(e).length%32===4&&qm.throwError("resolver threw error",Jl.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=ty(e,0)),e}catch(o){if(o.code===Jl.errors.CALL_EXCEPTION)return null;throw o}}))}_fetchBytes(e,t){return Fm(this,void 0,void 0,(function*(){const r=yield this._fetch(e,t);return null!=r?ty(r,0):null}))}_getAddress(e,t){const r=Zm[String(e)];if(null==r&&qm.throwError("unsupported coin type: ".concat(e),Jl.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")")}),"eth"===r.ilk)return this.provider.formatter.address(t);const n=Ql(t);if(null!=r.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Qm(Xl([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Qm(Xl([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const e=n[1];let t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){const e=Lm().toWords(n.slice(2));return e.unshift(t),Lm().encode(r.prefix,e)}}return null}getAddress(e){return Fm(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e=yield this._fetch("0x3b3b57de");return"0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e?null:this.provider.formatter.callAddress(e)}catch(n){if(n.code===Jl.errors.CALL_EXCEPTION)return null;throw n}const t=yield this._fetchBytes("0xf1cb7e06",Ym(e));if(null==t||"0x"===t)return null;const r=this._getAddress(e,t);return null==r&&qm.throwError("invalid or unsupported coin data",Jl.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(e,")"),coinType:e,data:t}),r}))}getAvatar(){return Fm(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<$m.length;r++){const n=t.match($m[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:ry(t)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),c=ad(yd.from(s[1]).toHexString(),32);if("erc721"===i){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:od(["0x6352211e",c])}));if(o!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){const t=yd.from(yield this.provider.call({to:a,data:od(["0x00fdd58e",ad(o,32),c])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const u={to:this.provider.formatter.address(s[0]),data:od([r,c])};let l=ey(yield this.provider.call(u),0);if(null==l)return null;e.push({type:"metadata-url-base",content:l}),"erc1155"===i&&(l=l.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:l})),l.match(/^ipfs:/i)&&(l=ry(l)),e.push({type:"metadata-url",content:l});const d=yield tm(l);if(!d)return null;e.push({type:"metadata",content:JSON.stringify(d)});let f=d.image;if("string"!==typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Xm))return null;e.push({type:"url-ipfs",content:f}),f=ry(f)}return e.push({type:"url",content:f}),{linkage:e,url:f}}}}}catch(t){}return null}))}getContentHash(){return Fm(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+Of.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+Of.encode("0x"+r[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){const e={"=":"","+":"-","/":"_"};return"sia://"+Wp("0x"+i[1]).replace(/[=+\/]/g,(t=>e[t]))}return qm.throwError("invalid or unsupported content hash data",Jl.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return Fm(this,void 0,void 0,(function*(){let t=ff(e);t=Xl([Ym(64),Ym(t.length),t]),t.length%32!==0&&(t=Xl([t,ad("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",rd(t));return null==r||"0x"===r?null:hf(r)}))}}let ay=null,cy=1;class uy extends $d{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Fd(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch((e=>{})),this._ready().catch((e=>{}));else{const t=qd(new.target,"getNetwork")(e);t?(Fd(this,"_network",t),this.emit("network",t,null)):qm.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Fm(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(e){}null==t&&(t=yield this.detectNetwork()),t||qm.throwError("no network detected",Jl.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:Fd(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return rm((()=>this._ready().then((e=>e),(e=>{if(e.code!==Jl.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))))}static getFormatter(){return null==ay&&(ay=new Km),ay}static getNetwork(e){return function(e){if(null==e)return null;if("number"===typeof e){for(const t in Bm){const r=Bm[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){const t=Bm[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=Bm[e.name];if(!t)return"number"!==typeof e.chainId&&Pm.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&Pm.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;var n;return null==r&&t._defaultProvider&&(r=(n=t._defaultProvider)&&"function"===typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}(null==e?"homestead":e)}ccipReadFetch(e,t,r){return Fm(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let e=0;e<r.length;e++){const t=r[e],s=t.replace("{sender}",n).replace("{data}",i),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),c=yield tm({url:s,errorPassThrough:!0},a,((e,t)=>(e.status=t.statusCode,e)));if(c.data)return c.data;const u=c.message||"unknown error";if(c.status>=400&&c.status<500)return qm.throwError("response not found during CCIP fetch: ".concat(u),Jl.errors.SERVER_ERROR,{url:t,errorMessage:u});o.push(u)}return qm.throwError("error encountered during CCIP fetch: ".concat(o.map((e=>JSON.stringify(e))).join(", ")),Jl.errors.SERVER_ERROR,{urls:r,errorMessages:o})}))}_getInternalBlockNumber(e){return Fm(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const r=yield t;if(Gm()-r.respTime<=e)return r.blockNumber;break}catch(n){if(this._internalBlockNumber===t)break}}const t=Gm(),r=zd({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((e=>null),(e=>e))}).then((e=>{let{blockNumber:n,networkError:i}=e;if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const o=Gm();return n=yd.from(n).toNumber(),n<this._maxInternalBlockNumber&&(n=this._maxInternalBlockNumber),this._maxInternalBlockNumber=n,this._setFastBlockNumber(n),{blockNumber:n,reqTime:t,respTime:o}}));return this._internalBlockNumber=r,r.catch((e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return Fm(this,void 0,void 0,(function*(){const e=cy++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){return void this.emit("error",n)}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)qm.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(r,")")),this.emit("error",qm.makeError("network block skew detected",Jl.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then((e=>e&&null!=e.blockNumber?(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e),null):null)).catch((e=>{this.emit("error",e)}));t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);const n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r;const i=n.toBlock-this._maxFilterBlockRange;i>n.fromBlock&&(n.fromBlock=i),n.fromBlock<0&&(n.fromBlock=0);const o=this.getLogs(n).then((t=>{e._inflight=!1,0!==t.length&&t.forEach((t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)}))})).catch((t=>{this.emit("error",t),e._inflight=!1}));t.push(o)}}})),this._lastBlockNumber=r,Promise.all(t).then((()=>{this.emit("didPoll",e)})).catch((e=>{this.emit("error",e)}))}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Fm(this,void 0,void 0,(function*(){return qm.throwError("provider does not support network detection",Jl.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Fm(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Hm(0),this._network;const r=qm.makeError("underlying network changed",Jl.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((e=>{this._setFastBlockNumber(e)}),(e=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const e=Gm();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Gm(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return Fm(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)}))}_waitForTransaction(e,t,r,n){return Fm(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise(((i,o)=>{const s=[];let a=!1;const c=function(){return!!a||(a=!0,s.forEach((e=>{e()})),!1)},u=e=>{e.confirmations<t||c()||i(e)};if(this.on(e,u),s.push((()=>{this.removeListener(e,u)})),n){let r=n.startBlock,i=null;const u=s=>Fm(this,void 0,void 0,(function*(){a||(yield Hm(1e3),this.getTransactionCount(n.from).then((l=>Fm(this,void 0,void 0,(function*(){if(!a){if(l<=n.nonce)r=s;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,t);if(c())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(qm.makeError("transaction was replaced",Jl.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:r}))}}i++}}a||this.once("block",u)}}))),(e=>{a||this.once("block",u)})))}));if(a)return;this.once("block",u),s.push((()=>{this.removeListener("block",u)}))}if("number"===typeof r&&r>0){const e=setTimeout((()=>{c()||o(qm.makeError("timeout exceeded",Jl.errors.TIMEOUT,{timeout:r}))}),r);e.unref&&e.unref(),s.push((()=>{clearTimeout(e)}))}}))}))}getBlockNumber(){return Fm(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return yd.from(e)}catch(t){return qm.throwError("bad result from backend",Jl.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield zd({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return yd.from(n)}catch(i){return qm.throwError("bad result from backend",Jl.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:i})}}))}getTransactionCount(e,t){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield zd({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return yd.from(n).toNumber()}catch(i){return qm.throwError("bad result from backend",Jl.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:i})}}))}getCode(e,t){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield zd({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return rd(n)}catch(i){return qm.throwError("bad result from backend",Jl.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:i})}}))}getStorageAt(e,t,r){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield zd({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then((e=>sd(e)))}),i=yield this.perform("getStorageAt",n);try{return rd(i)}catch(o){return qm.throwError("bad result from backend",Jl.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:o})}}))}_wrapTransaction(e,t,r){if(null!=t&&32!==nd(t))throw new Error("invalid response - sendTransaction");const n=e;return null!=t&&e.hash!==t&&qm.throwError("Transaction hash mismatch from Provider.sendTransaction.",Jl.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(t,n)=>Fm(this,void 0,void 0,(function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const o=yield this._waitForTransaction(e.hash,t,n,i);return null==o&&0===t?null:(this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&qm.throwError("transaction failed",Jl.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),o)})),n}sendTransaction(e){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then((e=>rd(e))),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(i){throw i.transaction=r,i.transactionHash=r.hash,i}}))}_getTransactionRequest(e){return Fm(this,void 0,void 0,(function*(){const t=yield e,r={};return["from","to"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?this._getAddress(e):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?yd.from(e):null)))})),["type"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>null!=e?e:null)))})),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach((e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then((e=>e?rd(e):null)))})),this.formatter.transactionRequest(yield zd(r))}))}_getFilter(e){return Fm(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach((r=>{null!=e[r]&&(t[r]=e[r])})),["fromBlock","toBlock"].forEach((r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))})),this.formatter.filter(yield zd(t))}))}_call(e,t,r){return Fm(this,void 0,void 0,(function*(){r>=10&&qm.throwError("CCIP read exceeded maximum redirections",Jl.errors.SERVER_ERROR,{redirects:r,transaction:e});const n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&nd(i)%32===4)try{const o=id(i,4),s=id(o,0,32);yd.from(s).eq(n)||qm.throwError("CCIP Read sender did not match",Jl.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const a=[],c=yd.from(id(o,32,64)).toNumber(),u=yd.from(id(o,c,c+32)).toNumber(),l=id(o,c+32);for(let t=0;t<u;t++){const r=ey(l,32*t);null==r&&qm.throwError("CCIP Read contained corrupt URL string",Jl.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),a.push(r)}const d=ty(o,64);yd.from(id(o,100,128)).isZero()||qm.throwError("CCIP Read callback selector included junk",Jl.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const f=id(o,96,100),h=ty(o,128),p=yield this.ccipReadFetch(e,d,a);null==p&&qm.throwError("CCIP Read disabled or provided no URLs",Jl.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const m={to:n,data:od([f,oy([p,h])])};return this._call(m,t,r+1)}catch(o){if(o.code===Jl.errors.SERVER_ERROR)throw o}try{return rd(i)}catch(o){return qm.throwError("bad result from backend",Jl.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:o})}}))}call(e,t){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield zd({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(e){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield zd({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return yd.from(r)}catch(n){return qm.throwError("bad result from backend",Jl.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:n})}}))}_getAddress(e){return Fm(this,void 0,void 0,(function*(){"string"!==typeof(e=yield e)&&qm.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&qm.throwError("ENS name not configured",Jl.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(e),")")}),t}))}_getBlock(e,t){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let r=-128;const n={includeTransactions:!!t};if(ed(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),ed(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(i){qm.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return rm((()=>Fm(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let n=0;n<e.transactions.length;n++){const r=e.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}}const r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map((e=>this._wrapTransaction(e))),r}return this.formatter.block(e)}))),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return rm((()=>Fm(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(e){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return rm((()=>Fm(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}))),{oncePoll:this})}))}getLogs(e){return Fm(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield zd({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach((e=>{null==e.removed&&(e.removed=!1)})),Km.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return Fm(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return Fm(this,void 0,void 0,(function*(){if("number"===typeof(e=yield e)&&e<0){e%1&&qm.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return Fm(this,void 0,void 0,(function*(){let t=e;for(;;){if(""===t||"."===t)return null;if("eth"!==e&&"eth"===t)return null;const r=yield this._getResolver(t,"getResolver");if(null!=r){const n=new sy(this,r,e);return t===e||(yield n.supportsWildcard())?n:null}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return Fm(this,void 0,void 0,(function*(){null==t&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||qm.throwError("network does not support ENS",Jl.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Nm(e).substring(2)});return this.formatter.callAddress(t)}catch(n){}return null}))}resolveName(e){return Fm(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(ed(e))throw r}"string"!==typeof e&&qm.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return Fm(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;const n=ey(yield this.call({to:r,data:"0x691f3431"+Nm(t).substring(2)}),0);return(yield this.resolveName(n))!=e?null:n}))}getAvatar(e){return Fm(this,void 0,void 0,(function*(){let t=null;if(ed(e)){const r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(r,"getAvatar");if(!i)return null;t=new sy(this,i,r);try{const e=yield t.getAvatar();if(e)return e.url}catch(n){if(n.code!==Jl.errors.CALL_EXCEPTION)throw n}try{const e=ey(yield this.call({to:i,data:"0x691f3431"+Nm(r).substring(2)}),0);t=yield this.getResolver(e)}catch(n){if(n.code!==Jl.errors.CALL_EXCEPTION)throw n;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return null==r?null:r.url}))}perform(e,t){return qm.throwError(e+" not implemented",Jl.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_stopEvent(e){this.polling=this._events.filter((e=>e.pollable())).length>0}_addEventListener(e,t,r){const n=new Wm(Jm(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=!1,o=[],s=Jm(e);return this._events=this._events.filter((e=>e.tag!==s||(setTimeout((()=>{e.listener.apply(this,r)}),0),i=!0,!e.once||(o.push(e),!1)))),o.forEach((e=>{this._stopEvent(e)})),i}listenerCount(e){if(!e)return this._events.length;let t=Jm(e);return this._events.filter((e=>e.tag===t)).length}listeners(e){if(null==e)return this._events.map((e=>e.listener));let t=Jm(e);return this._events.filter((e=>e.tag===t)).map((e=>e.listener))}off(e,t){if(null==t)return this.removeAllListeners(e);const r=[];let n=!1,i=Jm(e);return this._events=this._events.filter((e=>e.tag!==i||e.listener!=t||(!!n||(n=!0,r.push(e),!1)))),r.forEach((e=>{this._stopEvent(e)})),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const r=Jm(e);this._events=this._events.filter((e=>e.tag!==r||(t.push(e),!1)))}return t.forEach((e=>{this._stopEvent(e)})),this}}var ly=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const dy=new Jl(Hp),fy=["call","estimateGas"];function hy(e,t){if(null==e)return null;if("string"===typeof e.message&&e.message.match("reverted")){const r=ed(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"===typeof e){for(const r in e){const n=hy(e[r],t);if(n)return n}return null}if("string"===typeof e)try{return hy(JSON.parse(e),t)}catch(r){}return null}function py(e,t,r){const n=r.transaction||r.signedTransaction;if("call"===e){const e=hy(t,!0);if(e)return e.data;dy.throwError("missing revert data in call exception; Transaction reverted without a reason string",Jl.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=hy(t.body,!1);null==r&&(r=hy(t,!1)),r&&dy.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Jl.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===Jl.errors.SERVER_ERROR&&t.error&&"string"===typeof t.error.message?i=t.error.message:"string"===typeof t.body?i=t.body:"string"===typeof t.responseText&&(i=t.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&dy.throwError("insufficient funds for intrinsic transaction cost",Jl.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&dy.throwError("nonce has already been used",Jl.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&dy.throwError("replacement fee too low",Jl.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&dy.throwError("legacy pre-eip-155 transactions not supported",Jl.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),fy.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&dy.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Jl.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function my(e){return new Promise((function(t){setTimeout(t,e)}))}function yy(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function gy(e){return e?e.toLowerCase():e}const vy={};class by extends of{constructor(e,t,r){if(super(),e!==vy)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Fd(this,"provider",t),null==r&&(r=0),"string"===typeof r?(Fd(this,"_address",this.provider.formatter.address(r)),Fd(this,"_index",null)):"number"===typeof r?(Fd(this,"_index",r),Fd(this,"_address",null)):dy.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return dy.throwError("cannot alter JSON-RPC Signer connection",Jl.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new wy(vy,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((e=>(e.length<=this._index&&dy.throwError("unknown account #"+this._index,Jl.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index]))))}sendUncheckedTransaction(e){e=Jd(e);const t=this.getAddress().then((e=>(e&&(e=e.toLowerCase()),e)));if(null==e.gasLimit){const r=Jd(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then((e=>ly(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&dy.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))))),zd({tx:zd(e),sender:t}).then((t=>{let{tx:r,sender:n}=t;null!=r.from?r.from.toLowerCase()!==n&&dy.throwArgumentError("from address mismatch","transaction",e):r.from=n;const i=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then((e=>e),(e=>("string"===typeof e.message&&e.message.match(/user denied/i)&&dy.throwError("user rejected transaction",Jl.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),py("sendTransaction",e,i))))}))}signTransaction(e){return dy.throwError("signing transactions is unsupported",Jl.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return ly(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield rm((()=>ly(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}))),{oncePoll:this.provider})}catch(n){throw n.transactionHash=r,n}}))}signMessage(e){return ly(this,void 0,void 0,(function*(){const t="string"===typeof e?ff(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[rd(t),r.toLowerCase()])}catch(n){throw"string"===typeof n.message&&n.message.match(/user denied/i)&&dy.throwError("user rejected signing",Jl.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),n}}))}_legacySignMessage(e){return ly(this,void 0,void 0,(function*(){const t="string"===typeof e?ff(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),rd(t)])}catch(n){throw"string"===typeof n.message&&n.message.match(/user denied/i)&&dy.throwError("user rejected signing",Jl.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),n}}))}_signTypedData(e,t,r){return ly(this,void 0,void 0,(function*(){const n=yield Rf.resolveNames(e,t,r,(e=>this.provider.resolveName(e))),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Rf.getPayload(n.domain,t,n.value))])}catch(o){throw"string"===typeof o.message&&o.message.match(/user denied/i)&&dy.throwError("user rejected signing",Jl.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}}),o}}))}unlock(e){return ly(this,void 0,void 0,(function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class wy extends by{sendTransaction(e){return this.sendUncheckedTransaction(e).then((e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)})))}}const Sy={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Ey extends uy{constructor(e,t){let r=t;null==r&&(r=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then((t=>{e(t)}),(e=>{t(e)}))}),0)}))),super(r),e||(e=qd(this.constructor,"defaultUrl")()),Fd(this,"connection","string"===typeof e?Object.freeze({url:e}):Object.freeze(Jd(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ly(this,void 0,void 0,(function*(){yield my(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(t){}}if(null!=e){const r=qd(this.constructor,"getNetwork");try{return r(yd.from(e).toNumber())}catch(t){return dy.throwError("could not detect network",Jl.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return dy.throwError("could not detect network",Jl.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new by(vy,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((e=>e.map((e=>this.formatter.address(e)))))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Wd(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const i=tm(this.connection,JSON.stringify(r),yy).then((e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e}));return n&&(this._cache[e]=i,setTimeout((()=>{this._cache[e]=null}),0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[gy(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[gy(t.address),t.blockTag]];case"getCode":return["eth_getCode",[gy(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[gy(t.address),ad(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[qd(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[qd(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=gy(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return ly(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&yd.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=Jd(t)).transaction=Jd(e),delete t.transaction.type)}}const r=this.prepareRequest(e,t);null==r&&dy.throwError(e+" not implemented",Jl.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(n){return py(e,n,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return my(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch((e=>{}))}(),r})).catch((e=>{}))}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=Jd(Sy);if(t)for(const i in t)t[i]&&(r[i]=!0);jd(e,r);const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const r=sd(yd.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r})),["from","to","data"].forEach((function(t){null!=e[t]&&(n[t]=rd(e[t]))})),e.accessList&&(n.accessList=zh(e.accessList)),n}}const Ay=new Jl(Hp);let _y=1;function ky(e,t){const r="Web3LegacyFetcher";return function(e,n){const i={method:e,params:n,id:_y++,jsonrpc:"2.0"};return new Promise(((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:Wd(i),provider:this}),t(i,((t,o)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const e=new Error(o.error.message);return e.code=o.error.code,e.data=o.error.data,n(e)}e(o.result)}))}))}}class xy extends Ey{constructor(e,t){null==e&&Ay.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"===typeof e?(r="unknown:",n=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),i=e,e.request?(""===r&&(r="eip-1193:"),n=function(e){return function(t,r){null==r&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Wd(n),provider:this}),e.request(n).then((e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e)),(e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e}))}}(e)):e.sendAsync?n=ky(0,e.sendAsync.bind(e)):e.send?n=ky(0,e.send.bind(e)):Ay.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),Fd(this,"jsonRpcFetchFunc",n),Fd(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}var My=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Ny=new Jl(Hp);class Py extends Ey{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return My(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||Ny.throwError("no network detected",Jl.errors.UNKNOWN_ERROR,{}),null==this._network&&(Fd(this,"_network",t),this.emit("network",t,null))),t}))}}class Iy extends Py{constructor(e,t){Ny.checkAbstract(new.target,Iy),e=qd(new.target,"getNetwork")(e),t=qd(new.target,"getApiKey")(t);super(qd(new.target,"getUrl")(e,t),e),"string"===typeof t?Fd(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{Fd(this,e,t[e])}))}_startPending(){Ny.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Ny.throwError("API provider does not support signing",Jl.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Ny.throwError("not implemented; sub-classes must override getUrl",Jl.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}var Ry=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(Qa){o(Qa)}}function a(e){try{c(n.throw(e))}catch(Qa){o(Qa)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Cy=new Jl(Hp);class Oy extends Iy{static getApiKey(e){return null!=e&&Cy.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;if("homestead"===e.name)r="https://cloudflare-eth.com/";else Cy.throwArgumentError("unsupported network","network",arguments[0]);return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return Ry(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,e,t)}))}}var Ty=__webpack_require__(579);const By=e=>{let{searchTerm:t,client:r,selectConversation:n,onConversationFound:i,isPWA:o=!1,isFullScreen:s=!1,isConsent:a=!1}=e;const u=D(),l=F(),[d,f]=(0,c.useState)(!1),[h,p]=(0,c.useState)([]),[m,y]=(0,c.useState)(null),[g,v]=(0,c.useState)([]),[b,w]=(0,c.useState)([]),[S,E]=(0,c.useState)("allowed"),A=e=>{n(e),y(e.peerAddress),e.peerAddress&&(l("/dm/".concat(e.peerAddress),{}),a&&"allowed"!==e.consentState&&E("requests"))},_={conversationListItem:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0px",border:"0px",borderBottom:"1px solid #e0e0e0",cursor:"pointer",backgroundColor:"#f0f0f0",transition:"background-color 0.3s ease",padding:!0===o?"15px":"10px"},conversationListItemTab:{width:"100%",fontSize:"12px",padding:"5px"},avatarImage:{width:"40px",height:"40px",borderRadius:"50%",marginRight:"10px"},conversationDetails:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"75%",marginLeft:!0===o?"15px":"10px",overflow:"hidden"},conversationName:{fontSize:!0===o?"15px":"16px",fontWeight:"bold"},messagePreview:{fontSize:"12px",color:"#666",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},conversationTimestamp:{fontSize:"10px",color:"#999",width:"25%",textAlign:"right",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-between"}};(0,c.useEffect)((()=>{let e,t=!0;return(async()=>{f(!0),a&&await r.contacts.refreshConsentList();const n=(await r.conversations.list()).sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)));t&&p(n),f(!1),e=await r.conversations.stream();for await(const o of e){var i;(null===(i=o.client)||void 0===i?void 0:i.address)===r.address&&await r.contacts.allow([o.peerAddress]),t&&p((e=>[...e,o].sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))))}})(),()=>{t=!1,e&&e.return()}}),[]);const[k,x]=(0,c.useState)([]);(0,c.useEffect)((()=>{h.length>0&&(async()=>{try{const r=[];h.length>100&&console.warn("Notice: This app is not optimized for performance with a high number of conversations. For a better experience, try with wallets that have fewer conversations.");for(const n of h){const i=await n.messages();let o="";try{var e;o=i[i.length-1],o=null===(e=o)||void 0===e?void 0:e.content}catch(t){console.error("Failed to fetch last message:",t)}r.push({topic:n.topic,content:o})}x(r)}catch(t){console.error("Failed to fetch last messages:",t)}})()}),[h]),(0,c.useEffect)((()=>{m&&l("/dm/".concat(m),{})}),[m,l]),(0,c.useEffect)((()=>{const e=window.location.pathname.match(/\/dm\/(0x[a-fA-F0-9]{40})/);if(e){const t=e[1],r=h.find((e=>e.peerAddress===t));r?A(r):console.log("No conversation found with address:",t)}else if(h.length>0&&s){let e=h[0];if(a){e=h.filter((e=>"allowed"===e.consentState))[0]}A(e)}}),[h,u.pathname,n]),(0,c.useEffect)((()=>{(async()=>{const e=h.filter((e=>(null===e||void 0===e?void 0:e.peerAddress.toLowerCase().includes(t.toLowerCase()))&&(null===e||void 0===e?void 0:e.peerAddress)!==r.address));if(e.length>0?i(!0):i(!1),a){const t=e.filter((e=>"allowed"===e.consentState)),r=e.filter((e=>"unknown"===e.consentState));v(t),w(r)}})()}),[h,t,r.address]);const M=e=>t||0!==e.length?e.map(((e,t)=>{let r="";try{var i;let t=(null===(i=k.find((t=>t.topic===e.topic)))||void 0===i?void 0:i.content)||"...";t.content&&(t=t.content,t.emoji&&(t=r.content)),r=t}catch(o){console.error("Failed to fetch last message:",o)}return(0,Ty.jsxs)("li",{style:{..._.conversationListItem,backgroundColor:m===e.peerAddress?"#d0e0f0":_.conversationListItem.backgroundColor},onClick:()=>{A(e)},children:[(0,Ty.jsx)("img",{src:"/avatar.png",alt:"Avatar",style:_.avatarImage}),(0,Ty.jsxs)("div",{style:_.conversationDetails,children:[n.peerAddress,(0,Ty.jsx)("span",{style:_.conversationName,children:e.peerAddress.substring(0,7)+"..."+e.peerAddress.substring(e.peerAddress.length-5)}),(0,Ty.jsx)("span",{style:_.messagePreview,children:r})]}),(0,Ty.jsx)("div",{style:_.conversationTimestamp,children:Uy(e.createdAt)})]},t)})):(0,Ty.jsx)("small",{style:_.conversationListItem,children:"No conversations found"});return(0,Ty.jsx)(Ty.Fragment,{children:d?(0,Ty.jsx)("small",{style:_.conversationListItem,children:"Loading conversations..."}):(0,Ty.jsxs)(Ty.Fragment,{children:["requests"===S?(0,Ty.jsx)("button",{style:{..._.conversationListItem,width:"100%",padding:"5px"},onClick:()=>E("allowed"),children:(0,Ty.jsx)("div",{style:_.conversationDetails,children:"\u2190 Allowed"})}):(0,Ty.jsx)("button",{style:{..._.conversationListItem,width:"100%",padding:"5px"},onClick:()=>E("requests"),children:(0,Ty.jsxs)("div",{style:_.conversationDetails,children:["Requests (",b.length,") \u2192"]})}),M("allowed"===S?g:b)]})})},Uy=e=>{const t=new Date-new Date(e),r=Math.floor(t/1e3/60),n=Math.floor(t/1e3/60/60),i=Math.floor(t/1e3/60/60/24),o=Math.floor(t/1e3/60/60/24/7);return r<60?"".concat(r," minute").concat(r>1?"s":""," ago"):n<24?"".concat(n," hour").concat(n>1?"s":""," ago"):i<7?"".concat(i," day").concat(i>1?"s":""," ago"):"".concat(o," week").concat(o>1?"s":""," ago")},Ly=e=>{let{onSendMessage:t,replyingToMessage:r,isPWA:n=!1,commands:i=[],users:o=[],isSender:s=!1,value:a}=e;const[u,l]=(0,c.useState)(""),[d,f]=(0,c.useState)(!1),[h,p]=(0,c.useState)(0),m=(0,c.useRef)(null),[y,g]=(0,c.useState)(!1),[v,b]=(0,c.useState)(!1),[w,S]=(0,c.useState)(0),[E,A]=(0,c.useState)(!1),[_,k]=(0,c.useState)(o),[x,M]=(0,c.useState)(i),[N,P]=(0,c.useState)(null);(0,c.useEffect)((()=>{var e;if(!r)return;let t=r.content;null!==(e=t)&&void 0!==e&&e.content&&(t=t.content),P(t)}),[r]),(0,c.useEffect)((()=>{l(a||"")}),[a]);const I={replyingTo:{fontSize:"10px",color:"grey",paddingBottom:"5px",wordBreak:"break-all",backgroundColor:"lightblue",width:"100%"},newMessageContainer:{position:"relative",display:"flex",alignItems:"center",flexWrap:"wrap",padding:"0px",margin:"1rem"},messageInputField:{flexGrow:1,padding:"5px",border:"1px solid #ccc",borderRadius:"5px",fontSize:"12px",width:!0===n?"82%":"",outline:"none"},commandList:{position:"absolute",bottom:"100%",left:"0",backgroundColor:"white",border:"1px solid #ccc",fontSize:"12px",padding:"0px",borderRadius:"5px",width:"100%",boxShadow:"0px 4px 6px rgba(0,0,0,0.1)",zIndex:1e3},commandListUL:{padding:"5px",paddingLeft:"10px",margin:"0px"},commandListLI:{padding:"0px",cursor:"pointer",listStyle:"none",backgroundColor:"white"},commandListLISelected:{padding:"0px",listStyle:"none",backgroundColor:"#f0f0f0"},sendButton:{padding:"5px 10px",marginLeft:"5px",border:"0px solid #ccc",cursor:"pointer",borderRadius:"5px",textAlign:"center",display:"flex",backgroundColor:"rgb(79 70 229)",justifyContent:"center",alignItems:"center",color:"white",height:"100%",fontSize:!0===n?"1.0em":".8em",width:!0===n?"12%":""}};(0,c.useEffect)((()=>{d&&m.current&&m.current.focus()}),[d]);const R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;if(["ArrowDown","ArrowUp"].includes(e.key)){g(!0);const r="ArrowDown"===e.key?(t+1)%x.length:(t-1+x.length)%x.length;p(r),g(!1),e.preventDefault&&e.preventDefault()}else if("Enter"===e.key&&x[t]){const r=x[t].command,n=u.slice(0,u.lastIndexOf("/")+1);l("".concat(n.replace(/\/$/,"")).concat(r," ")),f(!1),b(!1),g(!1),A(!1),P(null),e.preventDefault&&e.preventDefault()}},C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;if(["ArrowDown","ArrowUp"].includes(e.key)){A(!0);const r="ArrowDown"===e.key?(t+1)%_.length:(t-1+_.length)%_.length;S(r),e.preventDefault&&e.preventDefault()}else if("Enter"===e.key&&_[t]){const r=_[t].username,n=u.slice(0,u.lastIndexOf("@")+1),i=u.slice(u.lastIndexOf("@")+1),o=i.indexOf(" ")>-1?i.indexOf(" "):i.length,s=n+r+i.slice(o);l(s+" "),f(!1),b(!1),g(!1),A(!1),P(null),e.preventDefault&&e.preventDefault();const a=n.length+r.length+1;setTimeout((()=>{const e=document.querySelector(".messageInputField");e&&(e.focus(),e.setSelectionRange(a,a))}),0)}},O=e=>{const t=e.target.value;if(l(t),"Enter"===e.key){if(console.log("entra",d,v),!d&&!v)return T(u),void(e.preventDefault&&e.preventDefault())}else if("Escape"===e.key)return f(!1),b(!1),g(!1),P(null),void(e.preventDefault&&e.preventDefault());const r=e.target.selectionStart,n=t.lastIndexOf("@",r-1),s=t.indexOf(" ",n),a=-1!==n&&(-1===s||r<=s);console.log("isOpeningUserPalette",a);if(t.lastIndexOf("/")>t.lastIndexOf(" ")&&""===(t[r]||"").trim()){const e=t.slice(t.lastIndexOf("/")+1,r).toLowerCase(),n=i.flatMap((e=>e.commands)).filter((t=>t.command.toLowerCase().startsWith("/"+e)));M(n),p(0),f(!0),g(!0),b(!1),A(!1)}else if(a){const e=t.slice(t.lastIndexOf("@")+1,r).toLowerCase(),n=o.filter((t=>t.username.toLowerCase().startsWith(e)));k(n),p(0),b(!0),A(!0),f(!1),g(!1)}else f(!1),g(!1),b(!1),A(!1);["ArrowDown","ArrowUp"].includes(e.key)||(d||v)&&"Enter"===e.key?(d?R(e):v&&C(e),e.preventDefault&&e.preventDefault()):"Enter"===e.key&&t.startsWith("/")?(T(t.trim()),e.preventDefault&&e.preventDefault()):(g(!1),A(!1))},T=(e,r)=>{e.startsWith("/")&&(e="```"+e+"```"),t(e,r),l(""),f(!1),b(!1),g(!1),A(!1),P(null),P(null)};return(0,Ty.jsxs)("div",{style:I.newMessageContainer,children:[N&&N.length>0&&(0,Ty.jsxs)("div",{style:I.replyingTo,children:["Replying to: ",N]}),(0,Ty.jsx)("input",{className:"messageInputField",style:I.messageInputField,type:"text",value:u,onKeyDown:O,onChange:O,placeholder:"Type your message..."}),v&&_.length>0&&(0,Ty.jsx)("div",{style:I.commandList,ref:m,children:(0,Ty.jsx)("ul",{style:I.commandListUL,tabIndex:"0",onKeyDown:C,children:_.map(((e,t)=>(0,Ty.jsx)("li",{style:t===w?I.commandListLISelected:I.commandListLI,onClick:()=>{C({key:"Enter"},t)},tabIndex:"-1",children:e.username},e.username)))})}),d&&x.length>0&&(0,Ty.jsx)("div",{style:I.commandList,ref:m,children:(0,Ty.jsx)("ul",{style:I.commandListUL,tabIndex:"0",onKeyDown:R,children:x.map(((e,t)=>(0,Ty.jsxs)("li",{style:t===h?I.commandListLISelected:I.commandListLI,onClick:()=>{R({key:"Enter"},t)},tabIndex:"-1",children:[e.command," - ",e.description]},e.command)))})}),(0,Ty.jsx)("button",{className:"sendButton",style:I.sendButton,onClick:()=>{T(u,r)},children:n?"\ud83d\udce4":"Send"})]})},Dy=e=>{let{show:t,onClose:r,message:n}=e;if(!t)return null;const i={container:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#fff",color:"black",border:"1px solid rgb(79 70 229)",padding:"10px",borderRadius:"8px",width:"20%",height:"auto"},notSupported:{color:"black",fontSize:"10px",textAlign:"left",width:"100%",marginBottom:"10px",display:"block"},desc:{marginBottom:"10px"},title:{fontSize:"20px",fontWeight:"bold",marginBottom:"10px"},button:{cursor:"pointer",backgroundColor:"rgb(79 70 229)",color:"#fff",fontSize:"14px",border:"none",padding:"5px",borderRadius:"5px",margin:" 0"}};return(0,Ty.jsxs)("div",{style:i.container,children:[(0,Ty.jsx)("div",{style:i.title,children:"\u26a0\ufe0f"}),(0,Ty.jsxs)("div",{style:i.desc,children:["Error: ",n]}),(0,Ty.jsxs)("small",{style:i.notSupported,children:["Your frame may not be compatible with"," ",(0,Ty.jsx)("a",{href:"https://github.com/open-frames/awesome-open-frames.git",style:{textDecoration:"none"},children:"Open Frames"})," ","or"," ",(0,Ty.jsx)("a",{href:"https://xmtp.org/docs/use-cases/frames",style:{textDecoration:"none"},children:"XMTP"})]}),(0,Ty.jsx)("button",{style:i.button,onClick:r,children:"Close"})]})},Ky=e=>{let{buttons:t,handleClick:r,frameButtonUpdating:n}=e;const i={buttonContainer:{display:"flex",flexDirection:"column"},notSupported:{fontSize:"10px",textAlign:"center",width:"100%",display:"block"},buttonRow:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},button:{flex:1,marginRight:"4px",backgroundColor:"white",border:"0px"},imageFrameA:{maxWidth:"300px",bottom:"0",right:"0",display:"block"},imageFrame:{width:"100%",bottom:"0",right:"0"},redirectIcon:{marginLeft:"5px"},textInput:{width:"calc(100% - 8px)",outline:"none",boxShadow:"none"},redirectIcon:{marginLeft:"5px"},button:{flex:1,marginRight:"4px",backgroundColor:"white",border:"0px"}},o=(e,t)=>{if(!e)return null;const o=n===t+1,s={...i.button,marginRight:t%2===0?"4px":"0px",backgroundColor:o?"#f0f0f0":i.button.backgroundColor,color:o?"#a0a0a0":"initial",cursor:o?"not-allowed":"pointer"};return(0,Ty.jsxs)("button",{onClick:()=>r(e.buttonIndex,e.action),disabled:o,style:s,children:[e.label,"post_redirect"===e.action&&(0,Ty.jsx)("span",{style:i.redirectIcon,children:"\u21aa"})]},"".concat(e,"-").concat(t))};return(0,Ty.jsxs)(Ty.Fragment,{children:[t.length<=2&&(0,Ty.jsx)("div",{style:i.buttonRow,children:t.map(((e,t)=>o(e,t)))}),3===t.length&&(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsx)("div",{style:i.buttonRow,children:t.slice(0,2).map(((e,t)=>o(e,t)))}),(0,Ty.jsx)("div",{style:i.buttonRow,children:o(t[2],2)})]}),t.length>=4&&(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsx)("div",{style:i.buttonRow,children:t.slice(0,2).map(((e,t)=>o(e,t)))}),(0,Ty.jsx)("div",{style:i.buttonRow,children:t.slice(2,4).map(((e,t)=>o(e,t+2)))})]})]})},Fy=e=>{let{image:t,title:r,buttons:n,handleClick:i,frameButtonUpdating:o,interactionsEnabled:s,showAlert:a,onClose:c,alertMessage:u,textInput:l,onTextInputChange:d,frameUrl:f}=e;const h={buttonContainer:{display:"flex",flexDirection:"column"},notSupported:{fontSize:"10px",textAlign:"center",width:"100%",display:"block"},buttonRow:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},button:{flex:1,marginRight:"4px",backgroundColor:"white",border:"0px"},imageFrameA:{maxWidth:"300px",bottom:"0",right:"0",height:"auto",display:"block"},imageFrame:{width:"100%",bottom:"0",right:"0"},redirectIcon:{marginLeft:"5px"},textInput:{width:"calc(100% - 8px)",outline:"none",boxShadow:"none"}};return(0,Ty.jsxs)(Ty.Fragment,{children:[(0,Ty.jsx)(Dy,{show:a,onClose:c,message:u}),(0,Ty.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer",style:h.imageFrameA,children:(0,Ty.jsx)("img",{src:t,alt:r,style:h.imageFrame})}),void 0!==l&&(0,Ty.jsx)("input",{type:"text",placeholder:l,onChange:d,style:h.textInput}),(0,Ty.jsx)("div",{style:h.buttonContainer,children:(0,Ty.jsx)(Ky,{buttons:n,handleClick:i,frameButtonUpdating:o})}),!s&&(0,Ty.jsx)("span",{style:h.notSupported,children:"Frame not fully supported by XMTP"})]})};var qy,zy;function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}function Jy(e,t){let{title:r,titleId:n,...i}=e;return c.createElement("svg",jy({viewBox:"0 0 789 668",width:16,height:16,fill:"#9370DB",className:"text-violet-500 hover:text-violet-600",ref:t,"aria-labelledby":n},i),r?c.createElement("title",{id:n},r):null,qy||(qy=c.createElement("path",{d:"M115.185 411.477L118.367 469.444C118.575 473.392 120.055 477.107 122.552 480.15C140.007 501.282 218.264 575.014 394.616 575.014C570.968 575.014 648.278 502.234 666.38 480.544C669.108 477.27 670.68 473.206 670.934 468.933L674.089 411.517C695.084 399.997 716.758 386.98 716.758 386.98C750.835 368.518 788.866 395.038 788.935 433.936C789.051 496.87 739.877 561.545 673.548 602.301C598.758 648.258 487.117 667.324 394.664 667.324C302.211 667.324 190.57 648.258 115.78 602.301C49.4513 561.545 0.277187 496.893 0.392781 433.936C0.462138 395.038 38.4929 368.518 72.5702 386.98C72.5702 386.98 94.207 399.965 115.185 411.477Z"})),zy||(zy=c.createElement("path",{d:"M394.641 0.113525C538.834 0.113525 577.929 3.48079 636.558 10.2154H636.535C663.561 13.3272 685.224 33.438 683.212 60.6782L661.616 354.872C654.858 356.83 647.488 359.303 639.223 362.077C595.905 376.615 527.997 399.404 394.64 399.404C261.283 399.404 193.376 376.615 150.057 362.077C141.784 359.3 134.407 356.825 127.643 354.866L106.047 60.6782C104.059 33.438 125.652 12.8395 152.724 10.2154C210.637 4.59548 270.932 0.113525 394.641 0.113525ZM137.991 495.835L138.067 496.869L139.557 497.212C139.024 496.748 138.502 496.289 137.991 495.835ZM649.85 497.178L651.193 496.869L651.262 495.928C650.8 496.341 650.329 496.757 649.85 497.178Z"})))}const Gy=c.forwardRef(Jy),Hy=(__webpack_require__.p,["\u2764\ufe0f","\ud83d\ude0d","\ud83d\udcaa\ud83c\udffb","\ud83e\udee1"]),Vy=e=>{let{onSelect:t,isSlashCommand:r,isPinned:n,isBotMessage:i,isSender:o,content:s,handleSelectEmoji:a}=e;const u=(0,c.useRef)(null),l={StyledBadge:{padding:"0.225rem",backgroundColor:"lightgrey",fontSize:"12px",borderRadius:"5px",display:"inline-block",margin:"auto",marginRight:"10px"},RenderedMessage:{fontSize:"12px",padding:"0px"},ActionPickerContainer:{display:"block",backgroundColor:"black",padding:"5px",borderRadius:"10px"},ReplyButton:{cursor:"pointer",display:"block",textDecoration:"underline"},EmojiItem:{cursor:"pointer",fontSize:"12px"},OriginalMessage:{fontSize:"10px",color:"grey"},ReactionAndReplyDiv:{listStyle:"none",textAlign:"left",fontSize:"10px"},SenderMessage:{textAlign:"left",listStyle:"none",width:"100%"},ReceiverMessage:{textAlign:"right",listStyle:"none",width:"100%"},Footer:{display:"block",alignItems:"center",justifyContent:"flex-end"},TimeStamp:{fontSize:"8px",color:"grey",display:"block",width:"100%"},UnreadCheckmark:{color:"grey",display:"block",fontSize:"8px",width:"100%"},ReadCheckmark:{color:"blue",display:"block",fontSize:"8px",width:"100%"}};return(0,c.useEffect)((()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&t(null)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[t]),(0,Ty.jsxs)("div",{style:l.ActionPickerContainer,children:[!o&&(0,Ty.jsx)(Gy,{style:{cursor:"pointer"},onClick:()=>a("degen",s)}),(0,Ty.jsx)("a",{style:l.ReplyButton,onClick:()=>t("reply"),children:"Reply"}),(0,Ty.jsx)("span",{style:{cursor:"pointer"},onClick:()=>a("pin",s),children:n?"\ud83d\udccc":"\ud83d\udccd"}),r&&(0,Ty.jsx)("span",{style:{cursor:"pointer"},className:"play-button",onClick:()=>a("play",s),children:"\u25b6\ufe0f"}),(0,Ty.jsx)("div",{ref:u,children:Hy.map(((e,r)=>(0,Ty.jsx)("span",{style:l.EmojiItem,onClick:()=>t(e),role:"img","aria-label":"emoji-".concat(r),children:e},r)))})]})},Wy=new oc({authorityId:"xmtp.org",typeId:"reply",versionMajor:1,versionMinor:0});class Zy{get contentType(){return Wy}encode(e,t){const r=t.codecFor(e.contentType);if(!r)throw new Error('missing codec for content type "'.concat(e.contentType.toString(),'"'));const n=r.encode(e.content,t),i=ha.encode(n).finish();return console.log({parameters:{reference:e.reference,receiver:e.receiver}}),{type:Wy,parameters:{reference:e.reference,receiver:e.receiver},content:i}}decode(e,t){const r=ha.decode(e.content);if(!r.type)throw new Error("missing content type");const n=new oc(r.type),i=t.codecFor(n);if(!i)throw new Error('missing codec for content type "'.concat(n.toString(),'"'));return{reference:e.parameters.reference,contentType:n,content:i.decode(r,t),receiver:e.parameters.receiver}}fallback(e){return"string"===typeof e.content?"Replied with \u201c".concat(e.content,"\u201d to an earlier message"):"Replied to an earlier message"}shouldPush(){return!0}}const Yy=new oc({authorityId:"xmtp.org",typeId:"silent",versionMajor:1,versionMinor:0});class Qy{get contentType(){return Yy}encode(e){const{sender:t,reference:r,content:n,metadata:i}=e;return{type:Yy,parameters:{},content:(new TextEncoder).encode(JSON.stringify({sender:t,reference:r,content:n,metadata:i}))}}decode(e){const t=(new TextDecoder).decode(e.content);try{const e=JSON.parse(t),{sender:r,reference:n,content:i,metadata:o}=e;return{sender:r,reference:n,content:i,metadata:o}}catch(Qa){const n=e.parameters;return{action:n.action,reference:n.reference,schema:n.schema,content:t,receiver:n.receiver}}}fallback(e){}shouldPush(e){return!1}}function Xy(e){var t;if(!e)return!1;const r=null===e||void 0===e||null===(t=e.frameInfo)||void 0===t?void 0:t.buttons;return r?Object.keys(r).sort().map((e=>({...r[e],buttonIndex:parseInt(e,10)}))):[]}function $y(e){return"string"===typeof e?{address:e,type:"json-rpc"}:e}const eg=256;let tg,rg=eg;function ng(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11;if(!tg||rg+e>2*eg){tg="",rg=0;for(let e=0;e<eg;e++)tg+=(256+256*Math.random()|0).toString(16).substring(1)}return tg.substring(rg,rg+++e)}class ig extends Error{constructor(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"viem@".concat("2.9.31")});const n=r.cause instanceof ig?r.cause.details:null!==(t=r.cause)&&void 0!==t&&t.message?r.cause.message:r.details,i=r.cause instanceof ig&&r.cause.docsPath||r.docsPath;this.message=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?["Docs: https://viem.sh".concat(i).concat(r.docsSlug?"#".concat(r.docsSlug):"")]:[],...n?["Details: ".concat(n)]:[],"Version: ".concat(this.version)].join("\n"),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}walk(e){return og(this,e)}}function og(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e?og(e.cause,t):t?null:e}class sg extends ig{constructor(e){let{max:t,min:r,signed:n,size:i,value:o}=e;super('Number "'.concat(o,'" is not in safe ').concat(i?"".concat(8*i,"-bit ").concat(n?"signed":"unsigned"," "):"","integer range ").concat(t?"(".concat(r," to ").concat(t,")"):"(above ".concat(r,")"))),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class ag extends ig{constructor(e){let{givenSize:t,maxSize:r}=e;super("Size cannot exceed ".concat(r," bytes. Given size: ").concat(t," bytes.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function cg(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&("string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function ug(e){return cg(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function lg(e,t){let{size:r}=t;if(ug(e)>r)throw new ag({givenSize:ug(e),maxSize:r})}function dg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:r}=t;t.size&&lg(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt("0x".concat("f".padStart(2*i,"f")))-1n}function fg(e){return Number(dg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}async function hg(e){return fg(await e.request({method:"eth_chainId"}))}class pg extends ig{constructor(e){let{offset:t,position:r,size:n}=e;super("Slice ".concat("start"===r?"starting":"ending",' at offset "').concat(t,'" is out-of-bounds (size: ').concat(n,").")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class mg extends ig{constructor(e){let{size:t,targetSize:r,type:n}=e;super("".concat(n.charAt(0).toUpperCase()).concat(n.slice(1).toLowerCase()," size (").concat(t,") exceeds padding size (").concat(r,").")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function yg(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?gg(e,{dir:t,size:r}):function(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)return e;if(e.length>r)throw new mg({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const o="right"===t;n[o?i:r-i-1]=e[o?i:e.length-i-1]}return n}(e,{dir:t,size:r})}function gg(e){let{dir:t,size:r=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===r)return e;const n=e.replace("0x","");if(n.length>2*r)throw new mg({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return"0x".concat(n["right"===t?"padEnd":"padStart"](2*r,"0"))}const vg=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function bg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?Eg(e,t):"string"===typeof e?_g(e,t):"boolean"===typeof e?wg(e,t):Sg(e,t)}function wg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="0x".concat(Number(e));return"number"===typeof t.size?(lg(r,{size:t.size}),yg(r,{size:t.size})):r}function Sg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="";for(let i=0;i<e.length;i++)r+=vg[e[i]];const n="0x".concat(r);return"number"===typeof t.size?(lg(n,{size:t.size}),yg(n,{dir:"right",size:t.size})):n}function Eg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:r,size:n}=t,i=BigInt(e);let o;n?o=r?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"===typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s="bigint"===typeof o&&r?-o-1n:0;if(o&&i>o||i<s){const t="bigint"===typeof e?"n":"";throw new sg({max:o?"".concat(o).concat(t):void 0,min:"".concat(s).concat(t),signed:r,size:n,value:"".concat(e).concat(t)})}const a="0x".concat((r&&i<0?(1n<<BigInt(8*n))+BigInt(i):i).toString(16));return n?yg(a,{size:n}):a}const Ag=new TextEncoder;function _g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Sg(Ag.encode(e),t)}function kg(e){let{includeName:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new Lg(e.type);return"".concat(e.name,"(").concat(xg(e.inputs,{includeName:t}),")")}function xg(e){let{includeName:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?e.map((e=>function(e,t){let{includeName:r}=t;if(e.type.startsWith("tuple"))return"(".concat(xg(e.components,{includeName:r}),")").concat(e.type.slice(5));return e.type+(r&&e.name?" ".concat(e.name):"")}(e,{includeName:t}))).join(t?", ":","):""}class Mg extends ig{constructor(e){let{docsPath:t}=e;super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Ng extends ig{constructor(e){let{docsPath:t}=e;super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Pg extends ig{constructor(e){let{expectedLength:t,givenLength:r,type:n}=e;super(["ABI encoding array length mismatch for type ".concat(n,"."),"Expected length: ".concat(t),"Given length: ".concat(r)].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Ig extends ig{constructor(e){let{expectedSize:t,value:r}=e;super('Size of bytes "'.concat(r,'" (bytes').concat(ug(r),") does not match expected size (bytes").concat(t,").")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Rg extends ig{constructor(e){let{expectedLength:t,givenLength:r}=e;super(["ABI encoding params/values length mismatch.","Expected length (params): ".concat(t),"Given length (values): ".concat(r)].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Cg extends ig{constructor(e){let{docsPath:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(["Function ".concat(e?'"'.concat(e,'" '):"","not found on ABI."),"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Og extends ig{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:["`".concat(e.type,"` in `").concat(kg(e.abiItem),"`, and"),"`".concat(t.type,"` in `").concat(kg(t.abiItem),"`"),"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Tg extends ig{constructor(e){let{expectedSize:t,givenSize:r}=e;super("Expected bytes".concat(t,", got bytes").concat(r,".")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Bg extends ig{constructor(e,t){let{docsPath:r}=t;super(['Type "'.concat(e,'" is not a valid encoding type.'),"Please provide a valid ABI type."].join("\n"),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Ug extends ig{constructor(e){super(['Value "'.concat(e,'" is not a valid array.')].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Lg extends ig{constructor(e){super(['"'.concat(e,'" is not a valid definition type.'),'Valid types: "function", "event", "error"'].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}function Dg(e){return"string"===typeof e[0]?Kg(e):function(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}(e)}function Kg(e){return"0x".concat(e.reduce(((e,t)=>e+t.replace("0x","")),""))}class Fg extends ig{constructor(e){let{address:t}=e;super('Address "'.concat(t,'" is invalid.'),{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class qg extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,t){return super.set(e,t),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const zg=new TextEncoder;function jg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e,t){const r=Eg(e,t);return Hg(r)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Uint8Array(1);if(r[0]=Number(e),"number"===typeof t.size)return lg(r,{size:t.size}),yg(r,{size:t.size});return r}(e,t):cg(e)?Hg(e,t):Vg(e,t)}const Jg={zero:48,nine:57,A:65,F:70,a:97,f:102};function Gg(e){return e>=Jg.zero&&e<=Jg.nine?e-Jg.zero:e>=Jg.A&&e<=Jg.F?e-(Jg.A-10):e>=Jg.a&&e<=Jg.f?e-(Jg.a-10):void 0}function Hg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;t.size&&(lg(r,{size:t.size}),r=yg(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n="0".concat(n));const i=n.length/2,o=new Uint8Array(i);for(let s=0,a=0;s<i;s++){const e=Gg(n.charCodeAt(a++)),t=Gg(n.charCodeAt(a++));if(void 0===e||void 0===t)throw new ig('Invalid byte sequence ("'.concat(n[a-2]).concat(n[a-1],'" in "').concat(n,'").'));o[s]=16*e+t}return o}function Vg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=zg.encode(e);return"number"===typeof t.size?(lg(r,{size:t.size}),yg(r,{dir:"right",size:t.size})):r}function Wg(e,t){const r=t||"hex",n=Os(cg(e,{strict:!1})?jg(e):e);return"bytes"===r?n:bg(n)}function Zg(e,t){const r=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),n=Wg(Vg(r),"bytes"),i=(t?r.substring("".concat(t,"0x").length):r).split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&n[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());return"0x".concat(i.join(""))}const Yg=/^0x[a-fA-F0-9]{40}$/,Qg=new qg(8192);function Xg(e,t){const{strict:r=!0}=null!==t&&void 0!==t?t:{};if(Qg.has(e))return Qg.get(e);const n=!!Yg.test(e)&&(e.toLowerCase()===e||!r||Zg(e)===e);return Qg.set(e,n),n}function $g(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return cg(e,{strict:!1})?function(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};ev(e,t);const i="0x".concat(e.replace("0x","").slice(2*(null!==t&&void 0!==t?t:0),2*(null!==r&&void 0!==r?r:e.length)));n&&tv(i,t,r);return i}(e,t,r,{strict:n}):function(e,t,r){let{strict:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};ev(e,t);const i=e.slice(t,r);n&&tv(i,t,r);return i}(e,t,r,{strict:n})}function ev(e,t){if("number"===typeof t&&t>0&&t>ug(e)-1)throw new pg({offset:t,position:"start",size:ug(e)})}function tv(e,t,r){if("number"===typeof t&&"number"===typeof r&&ug(e)!==r-t)throw new pg({offset:r,position:"end",size:ug(e)})}function rv(e,t){if(e.length!==t.length)throw new Rg({expectedLength:e.length,givenLength:t.length});const r=function(e){let{params:t,values:r}=e;const n=[];for(let i=0;i<t.length;i++)n.push(nv({param:t[i],value:r[i]}));return n}({params:e,values:t}),n=iv(r);return 0===n.length?"0x":n}function nv(e){let{param:t,value:r}=e;const n=function(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}(t.type);if(n){const[e,i]=n;return function(e,t){let{length:r,param:n}=t;const i=null===r;if(!Array.isArray(e))throw new Ug(e);if(!i&&e.length!==r)throw new Pg({expectedLength:r,givenLength:e.length,type:"".concat(n.type,"[").concat(r,"]")});let o=!1;const s=[];for(let a=0;a<e.length;a++){const t=nv({param:n,value:e[a]});t.dynamic&&(o=!0),s.push(t)}if(i||o){const e=iv(s);if(i){const t=Eg(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Dg([t,e]):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:Dg(s.map((e=>{let{encoded:t}=e;return t})))}}(r,{length:e,param:{...t,type:i}})}if("tuple"===t.type)return function(e,t){let{param:r}=t,n=!1;const i=[];for(let o=0;o<r.components.length;o++){const t=r.components[o],s=nv({param:t,value:e[Array.isArray(e)?o:t.name]});i.push(s),s.dynamic&&(n=!0)}return{dynamic:n,encoded:n?iv(i):Dg(i.map((e=>{let{encoded:t}=e;return t})))}}(r,{param:t});if("address"===t.type)return function(e){if(!Xg(e))throw new Fg({address:e});return{dynamic:!1,encoded:gg(e.toLowerCase())}}(r);if("bool"===t.type)return function(e){if("boolean"!==typeof e)throw new ig('Invalid boolean value: "'.concat(e,'" (type: ').concat(typeof e,"). Expected: `true` or `false`."));return{dynamic:!1,encoded:gg(wg(e))}}(r);if(t.type.startsWith("uint")||t.type.startsWith("int")){return function(e,t){let{signed:r}=t;return{dynamic:!1,encoded:Eg(e,{size:32,signed:r})}}(r,{signed:t.type.startsWith("int")})}if(t.type.startsWith("bytes"))return function(e,t){let{param:r}=t;const[,n]=r.type.split("bytes"),i=ug(e);if(!n){let t=e;return i%32!==0&&(t=gg(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:Dg([gg(Eg(i,{size:32})),t])}}if(i!==parseInt(n))throw new Ig({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:gg(e,{dir:"right"})}}(r,{param:t});if("string"===t.type)return function(e){const t=_g(e),r=Math.ceil(ug(t)/32),n=[];for(let i=0;i<r;i++)n.push(gg($g(t,32*i,32*(i+1)),{dir:"right"}));return{dynamic:!0,encoded:Dg([gg(Eg(ug(t),{size:32})),...n])}}(r);throw new Bg(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function iv(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:r,encoded:n}=e[o];t+=r?32:ug(n)}const r=[],n=[];let i=0;for(let o=0;o<e.length;o++){const{dynamic:s,encoded:a}=e[o];s?(r.push(Eg(t+i,{size:32})),n.push(a),i+=ug(a)):r.push(a)}return Dg([...r,...n])}const ov="/docs/contract/encodeDeployData";class sv extends ig{constructor(){let{docsPath:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join("\n"),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class av extends ig{constructor(e){let{chain:t,currentChainId:r}=e;super("The current chain of the wallet (id: ".concat(r,") does not match the target chain for the transaction (id: ").concat(t.id," \u2013 ").concat(t.name,")."),{metaMessages:["Current Chain ID:  ".concat(r),"Expected Chain ID: ".concat(t.id," \u2013 ").concat(t.name)]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class cv extends ig{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}function uv(e){let{chain:t,currentChainId:r}=e;if(!t)throw new cv;if(r!==t.id)throw new av({chain:t,currentChainId:r})}const lv={gwei:9,wei:18},dv={ether:-9,wei:9};function fv(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[i,o]=[r.slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),"".concat(n?"-":"").concat(i||"0").concat(o?".".concat(o):"")}function hv(e){return fv(e,dv[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei"])}class pv extends ig{constructor(){var e;let{cause:t,message:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===r||void 0===r||null===(e=r.replace("execution reverted: ",""))||void 0===e?void 0:e.replace("execution reverted","");super("Execution reverted ".concat(n?"with reason: ".concat(n):"for an unknown reason","."),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(pv,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(pv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class mv extends ig{constructor(){let{cause:e,maxFeePerGas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The fee cap (`maxFeePerGas`".concat(t?" = ".concat(hv(t)," gwei"):"",") cannot be higher than the maximum allowed value (2^256-1)."),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(mv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class yv extends ig{constructor(){let{cause:e,maxFeePerGas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The fee cap (`maxFeePerGas`".concat(t?" = ".concat(hv(t)):""," gwei) cannot be lower than the block base fee."),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(yv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class gv extends ig{constructor(){let{cause:e,nonce:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","is higher than the next one expected."),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(gv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class vv extends ig{constructor(){let{cause:e,nonce:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","is lower than the current nonce of the account."),"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(vv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class bv extends ig{constructor(){let{cause:e,nonce:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("Nonce provided for the transaction ".concat(t?"(".concat(t,") "):"","exceeds the maximum allowed nonce."),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(bv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class wv extends ig{constructor(){let{cause:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(wv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Sv extends ig{constructor(){let{cause:e,gas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The amount of gas ".concat(t?"(".concat(t,") "):"","provided for the transaction exceeds the limit allowed for the block."),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Sv,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ev extends ig{constructor(){let{cause:e,gas:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super("The amount of gas ".concat(t?"(".concat(t,") "):"","provided for the transaction is too low."),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ev,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Av extends ig{constructor(e){let{cause:t}=e;super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Av,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class _v extends ig{constructor(){let{cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(["The provided tip (`maxPriorityFeePerGas`".concat(t?" = ".concat(hv(t)," gwei"):"",") cannot be higher than the fee cap (`maxFeePerGas`").concat(r?" = ".concat(hv(r)," gwei"):"",").")].join("\n"),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(_v,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class kv extends ig{constructor(e){let{cause:t}=e;super("An error occurred while executing: ".concat(null===t||void 0===t?void 0:t.shortMessage),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function xv(e){return fv(e,lv[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei"])}function Mv(e){const t=Object.entries(e).map((e=>{let[t,r]=e;return void 0===r||!1===r?null:[t,r]})).filter(Boolean),r=t.reduce(((e,t)=>{let[r]=t;return Math.max(e,r.length)}),0);return t.map((e=>{let[t,n]=e;return"  ".concat("".concat(t,":").padEnd(r+1),"  ").concat(n)})).join("\n")}class Nv extends ig{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Pv extends ig{constructor(e){let{transaction:t}=e;super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Mv(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Iv extends ig{constructor(e,t){var r;let{account:n,docsPath:i,chain:o,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:d,to:f,value:h}=t;const p=Mv({chain:o&&"".concat(null===o||void 0===o?void 0:o.name," (id: ").concat(null===o||void 0===o?void 0:o.id,")"),from:null===n||void 0===n?void 0:n.address,to:f,value:"undefined"!==typeof h&&"".concat(xv(h)," ").concat((null===o||void 0===o||null===(r=o.nativeCurrency)||void 0===r?void 0:r.symbol)||"ETH"),data:s,gas:a,gasPrice:"undefined"!==typeof c&&"".concat(hv(c)," gwei"),maxFeePerGas:"undefined"!==typeof u&&"".concat(hv(u)," gwei"),maxPriorityFeePerGas:"undefined"!==typeof l&&"".concat(hv(l)," gwei"),nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}function Rv(e,t){const r=(e.details||"").toLowerCase(),n=e instanceof ig?e.walk((e=>e.code===pv.code)):e;return n instanceof ig?new pv({cause:e,message:n.details}):pv.nodeMessage.test(r)?new pv({cause:e,message:e.details}):mv.nodeMessage.test(r)?new mv({cause:e,maxFeePerGas:null===t||void 0===t?void 0:t.maxFeePerGas}):yv.nodeMessage.test(r)?new yv({cause:e,maxFeePerGas:null===t||void 0===t?void 0:t.maxFeePerGas}):gv.nodeMessage.test(r)?new gv({cause:e,nonce:null===t||void 0===t?void 0:t.nonce}):vv.nodeMessage.test(r)?new vv({cause:e,nonce:null===t||void 0===t?void 0:t.nonce}):bv.nodeMessage.test(r)?new bv({cause:e,nonce:null===t||void 0===t?void 0:t.nonce}):wv.nodeMessage.test(r)?new wv({cause:e}):Sv.nodeMessage.test(r)?new Sv({cause:e,gas:null===t||void 0===t?void 0:t.gas}):Ev.nodeMessage.test(r)?new Ev({cause:e,gas:null===t||void 0===t?void 0:t.gas}):Av.nodeMessage.test(r)?new Av({cause:e}):_v.nodeMessage.test(r)?new _v({cause:e,maxFeePerGas:null===t||void 0===t?void 0:t.maxFeePerGas,maxPriorityFeePerGas:null===t||void 0===t?void 0:t.maxPriorityFeePerGas}):new kv({cause:e})}function Cv(e,t){let{format:r}=t;if(!r)return{};const n={};return function t(r){const i=Object.keys(r);for(const o of i)o in e&&(n[o]=e[o]),r[o]&&"object"===typeof r[o]&&!Array.isArray(r[o])&&t(r[o])}(r(e||{})),n}const Ov={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function Tv(e){const t={};return"undefined"!==typeof e.accessList&&(t.accessList=e.accessList),"undefined"!==typeof e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),"undefined"!==typeof e.blobs&&("string"!==typeof e.blobs[0]?t.blobs=e.blobs.map((e=>Sg(e))):t.blobs=e.blobs),"undefined"!==typeof e.data&&(t.data=e.data),"undefined"!==typeof e.from&&(t.from=e.from),"undefined"!==typeof e.gas&&(t.gas=Eg(e.gas)),"undefined"!==typeof e.gasPrice&&(t.gasPrice=Eg(e.gasPrice)),"undefined"!==typeof e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=Eg(e.maxFeePerBlobGas)),"undefined"!==typeof e.maxFeePerGas&&(t.maxFeePerGas=Eg(e.maxFeePerGas)),"undefined"!==typeof e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=Eg(e.maxPriorityFeePerGas)),"undefined"!==typeof e.nonce&&(t.nonce=Eg(e.nonce)),"undefined"!==typeof e.to&&(t.to=e.to),"undefined"!==typeof e.type&&(t.type=Ov[e.type]),"undefined"!==typeof e.value&&(t.value=Eg(e.value)),t}function Bv(e,t,r){return n=>{var i,o,s,a;return null!==(i=null!==(o=null===(s=e[t.name])||void 0===s?void 0:s.call(e,n))&&void 0!==o?o:null===(a=e[r])||void 0===a?void 0:a.call(e,n))&&void 0!==i?i:t(e,n)}}function Uv(e){const{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:o}=e,s=t?$y(t):void 0;if(s&&!Xg(s.address))throw new Fg({address:s.address});if(o&&!Xg(o))throw new Fg({address:o});if("undefined"!==typeof r&&("undefined"!==typeof n||"undefined"!==typeof i))throw new Nv;if(n&&n>2n**256n-1n)throw new mv({maxFeePerGas:n});if(i&&n&&i>n)throw new _v({maxFeePerGas:n,maxPriorityFeePerGas:i})}class Lv extends ig{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Dv extends ig{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Kv extends ig{constructor(e){let{maxPriorityFeePerGas:t}=e;super("`maxFeePerGas` cannot be less than the `maxPriorityFeePerGas` (".concat(hv(t)," gwei).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Fv extends ig{constructor(e){let{blockHash:t,blockNumber:r}=e,n="Block";t&&(n='Block at hash "'.concat(t,'"')),r&&(n='Block at number "'.concat(r,'"')),super("".concat(n," could not be found.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const qv={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function zv(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?fg(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?fg(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?qv[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"===typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}function jv(e){var t;const r=null===(t=e.transactions)||void 0===t?void 0:t.map((e=>"string"===typeof e?e:zv(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Jv(e){var t;let{blockHash:r,blockNumber:n,blockTag:i,includeTransactions:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=null!==i&&void 0!==i?i:"latest",a=null!==o&&void 0!==o&&o,c=void 0!==n?Eg(n):void 0;let u=null;if(u=r?await e.request({method:"eth_getBlockByHash",params:[r,a]}):await e.request({method:"eth_getBlockByNumber",params:[c||s,a]}),!u)throw new Fv({blockHash:r,blockNumber:n});return((null===(t=e.chain)||void 0===t||null===(t=t.formatters)||void 0===t||null===(t=t.block)||void 0===t?void 0:t.format)||jv)(u)}async function Gv(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Hv(e,t){var r,n,i;const{block:o,chain:s=e.chain,request:a}=t||{};if("function"===typeof(null===s||void 0===s||null===(r=s.fees)||void 0===r?void 0:r.defaultPriorityFee)){const t=o||await Bv(e,Jv,"getBlock")({});return s.fees.defaultPriorityFee({block:t,client:e,request:a})}if("undefined"!==typeof(null===s||void 0===s||null===(n=s.fees)||void 0===n?void 0:n.defaultPriorityFee))return null===s||void 0===s||null===(i=s.fees)||void 0===i?void 0:i.defaultPriorityFee;try{return dg(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[t,r]=await Promise.all([o?Promise.resolve(o):Bv(e,Jv,"getBlock")({}),Bv(e,Gv,"getGasPrice")({})]);if("bigint"!==typeof t.baseFeePerGas)throw new Dv;const n=r-t.baseFeePerGas;return n<0n?0n:n}}async function Vv(e,t){var r,n,i,o;const{block:s,chain:a=e.chain,request:c,type:u="eip1559"}=t||{},l=await(async(t,r,n)=>"function"===typeof(null===a||void 0===a||null===(t=a.fees)||void 0===t?void 0:t.baseFeeMultiplier)?a.fees.baseFeeMultiplier({block:s,client:e,request:c}):null!==(r=null===a||void 0===a||null===(n=a.fees)||void 0===n?void 0:n.baseFeeMultiplier)&&void 0!==r?r:1.2)();if(l<1)throw new Lv;const d=10**(null!==(r=null===(n=l.toString().split(".")[1])||void 0===n?void 0:n.length)&&void 0!==r?r:0),f=e=>e*BigInt(Math.ceil(l*d))/BigInt(d),h=s||await Bv(e,Jv,"getBlock")({});if("function"===typeof(null===a||void 0===a||null===(i=a.fees)||void 0===i?void 0:i.estimateFeesPerGas)){const t=await a.fees.estimateFeesPerGas({block:s,client:e,multiply:f,request:c,type:u});if(null!==t)return t}if("eip1559"===u){var p;if("bigint"!==typeof h.baseFeePerGas)throw new Dv;const t="bigint"===typeof(null===c||void 0===c?void 0:c.maxPriorityFeePerGas)?c.maxPriorityFeePerGas:await Hv(e,{block:h,chain:a,request:c}),r=f(h.baseFeePerGas);return{maxFeePerGas:null!==(p=null===c||void 0===c?void 0:c.maxFeePerGas)&&void 0!==p?p:r+t,maxPriorityFeePerGas:t}}return{gasPrice:null!==(o=null===c||void 0===c?void 0:c.gasPrice)&&void 0!==o?o:f(await Bv(e,Gv,"getGasPrice")({}))}}class Wv extends ig{constructor(e,t){var r;let{account:n,docsPath:i,chain:o,data:s,gas:a,gasPrice:c,maxFeePerGas:u,maxPriorityFeePerGas:l,nonce:d,to:f,value:h}=t;const p=Mv({from:null===n||void 0===n?void 0:n.address,to:f,value:"undefined"!==typeof h&&"".concat(xv(h)," ").concat((null===o||void 0===o||null===(r=o.nativeCurrency)||void 0===r?void 0:r.symbol)||"ETH"),data:s,gas:a,gasPrice:"undefined"!==typeof c&&"".concat(hv(c)," gwei"),maxFeePerGas:"undefined"!==typeof u&&"".concat(hv(u)," gwei"),maxPriorityFeePerGas:"undefined"!==typeof l&&"".concat(hv(l)," gwei"),nonce:d});super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}async function Zv(e,t){var r;const n=null!==(r=t.account)&&void 0!==r?r:e.account,i=n?$y(n):void 0;try{var o;const{accessList:r,blobs:n,blobVersionedHashes:s,blockNumber:a,blockTag:c,data:u,gas:l,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:y,value:g,...v}=await pb(e,{...t,parameters:"local"===(null===i||void 0===i?void 0:i.type)?void 0:["blobVersionedHashes"]}),b=(a?Eg(a):void 0)||c;Uv(t);const w=null===(o=e.chain)||void 0===o||null===(o=o.formatters)||void 0===o||null===(o=o.transactionRequest)||void 0===o?void 0:o.format,S=(w||Tv)({...Cv(v,{format:w}),from:null===i||void 0===i?void 0:i.address,accessList:r,blobs:n,blobVersionedHashes:s,data:u,gas:l,gasPrice:d,maxFeePerBlobGas:f,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:y,value:g}),E=await e.request({method:"eth_estimateGas",params:b?[S,b]:[S]});return BigInt(E)}catch(s){throw function(e,t){let{docsPath:r,...n}=t;const i=(()=>{const t=Rv(e,n);return t instanceof kv?e:t})();return new Wv(i,{docsPath:r,...n})}(s,{...t,account:i,chain:e.chain})}}async function Yv(e,t){let{address:r,blockTag:n="latest",blockNumber:i}=t;return fg(await e.request({method:"eth_getTransactionCount",params:[r,i?Eg(i):n]}))}function Qv(e){var t;const{kzg:r}=e,n=null!==(t=e.to)&&void 0!==t?t:"string"===typeof e.blobs[0]?"hex":"bytes",i="string"===typeof e.blobs[0]?e.blobs.map((e=>Hg(e))):e.blobs,o=[];for(const s of i)o.push(Uint8Array.from(r.blobToKzgCommitment(s)));return"bytes"===n?o:o.map((e=>Sg(e)))}function Xv(e){var t;const{kzg:r}=e,n=null!==(t=e.to)&&void 0!==t?t:"string"===typeof e.blobs[0]?"hex":"bytes",i="string"===typeof e.blobs[0]?e.blobs.map((e=>Hg(e))):e.blobs,o="string"===typeof e.commitments[0]?e.commitments.map((e=>Hg(e))):e.commitments,s=[];for(let a=0;a<i.length;a++){const e=i[a],t=o[a];s.push(Uint8Array.from(r.computeBlobKzgProof(e,t)))}return"bytes"===n?s:s.map((e=>Sg(e)))}var $v=__webpack_require__(6413);function eb(e){var t;const{commitment:r,version:n=1}=e,i=null!==(t=e.to)&&void 0!==t?t:"string"===typeof r?"hex":"bytes",o=function(e,t){const r=t||"hex",n=(0,$v.s)(cg(e,{strict:!1})?jg(e):e);return"bytes"===r?n:bg(n)}(r,"bytes");return o.set([n],0),"bytes"===i?o:Sg(o)}const tb=32,rb=4096,nb=tb*rb,ib=6*nb-1-1*rb*6;class ob extends ig{constructor(e){let{maxSize:t,size:r}=e;super("Blob size is too large.",{metaMessages:["Max: ".concat(t," bytes"),"Given: ".concat(r," bytes")]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class sb extends ig{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class ab extends ig{constructor(e){let{offset:t}=e;super("Offset `".concat(t,"` cannot be negative.")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class cb extends ig{constructor(e){let{length:t,position:r}=e;super("Position `".concat(r,"` is out of bounds (`0 < position < ").concat(t,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class ub extends ig{constructor(e){let{count:t,limit:r}=e;super("Recursive read limit of `".concat(r,"` exceeded (recursive read count: `").concat(t,"`).")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const lb={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ub({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new cb({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ab({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ab({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=null!==t&&void 0!==t?t:this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=null!==e&&void 0!==e?e:this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=null!==t&&void 0!==t?t:e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function db(e){let{recursiveReadLimit:t=8192}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Object.create(lb);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function fb(e){var t,r,n;const{data:i,kzg:o,to:s}=e,a=null!==(t=e.blobs)&&void 0!==t?t:function(e){var t;const r=null!==(t=e.to)&&void 0!==t?t:"string"===typeof e.data?"hex":"bytes",n="string"===typeof e.data?Hg(e.data):e.data,i=ug(n);if(!i)throw new sb;if(i>ib)throw new ob({maxSize:ib,size:i});const o=[];let s=!0,a=0;for(;s;){const e=db(new Uint8Array(nb));let t=0;for(;t<rb;){const r=n.slice(a,a+(tb-1));if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),s=!1;break}t++,a+=31}o.push(e)}return"bytes"===r?o.map((e=>e.bytes)):o.map((e=>Sg(e.bytes)))}({data:i,to:s}),c=null!==(r=e.commitments)&&void 0!==r?r:Qv({blobs:a,kzg:o,to:s}),u=null!==(n=e.proofs)&&void 0!==n?n:Xv({blobs:a,commitments:c,kzg:o,to:s}),l=[];for(let d=0;d<a.length;d++)l.push({blob:a[d],commitment:c[d],proof:u[d]});return l}const hb=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function pb(e,t){const{account:r=e.account,blobs:n,chain:i,chainId:o,gas:s,kzg:a,nonce:c,parameters:u=hb,type:l}=t,d=r?$y(r):void 0,f={...t,...d?{from:null===d||void 0===d?void 0:d.address}:{}};let h;async function p(){return h||(h=await Bv(e,Jv,"getBlock")({blockTag:"latest"}),h)}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&n&&a){const e=Qv({blobs:n,kzg:a});if(u.includes("blobVersionedHashes")){const t=function(e){var t;const{commitments:r,version:n}=e,i=null!==(t=e.to)&&void 0!==t?t:"string"===typeof r[0]?"hex":"bytes",o=[];for(const s of r)o.push(eb({commitment:s,to:i,version:n}));return o}({commitments:e,to:"hex"});f.blobVersionedHashes=t}if(u.includes("sidecars")){const t=fb({blobs:n,commitments:e,proofs:Xv({blobs:n,commitments:e,kzg:a}),to:"hex"});f.sidecars=t}}if(u.includes("chainId")&&(f.chainId=i?i.id:"undefined"!==typeof o?o:await Bv(e,hg,"getChainId")({})),u.includes("nonce")&&"undefined"===typeof c&&d&&(f.nonce=await Bv(e,Yv,"getTransactionCount")({address:d.address,blockTag:"pending"})),(u.includes("fees")||u.includes("type"))&&"undefined"===typeof l)try{f.type=function(e){if(e.type)return e.type;if("undefined"!==typeof e.blobs||"undefined"!==typeof e.blobVersionedHashes||"undefined"!==typeof e.maxFeePerBlobGas||"undefined"!==typeof e.sidecars)return"eip4844";if("undefined"!==typeof e.maxFeePerGas||"undefined"!==typeof e.maxPriorityFeePerGas)return"eip1559";if("undefined"!==typeof e.gasPrice)return"undefined"!==typeof e.accessList?"eip2930":"legacy";throw new Pv({transaction:e})}(f)}catch{const e=await p();f.type="bigint"===typeof(null===e||void 0===e?void 0:e.baseFeePerGas)?"eip1559":"legacy"}if(u.includes("fees"))if("legacy"!==f.type&&"eip2930"!==f.type){if("undefined"===typeof f.maxFeePerGas||"undefined"===typeof f.maxPriorityFeePerGas){const r=await p(),{maxFeePerGas:n,maxPriorityFeePerGas:o}=await Vv(e,{block:r,chain:i,request:f});if("undefined"===typeof t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<o)throw new Kv({maxPriorityFeePerGas:o});f.maxPriorityFeePerGas=o,f.maxFeePerGas=n}}else{if("undefined"!==typeof t.maxFeePerGas||"undefined"!==typeof t.maxPriorityFeePerGas)throw new Dv;const r=await p(),{gasPrice:n}=await Vv(e,{block:r,chain:i,request:f,type:"legacy"});f.gasPrice=n}return u.includes("gas")&&"undefined"===typeof s&&(f.gas=await Bv(e,Zv,"estimateGas")({...f,account:d?{address:d.address,type:"json-rpc"}:void 0})),Uv(f),delete f.parameters,f}async function mb(e,t){let{serializedTransaction:r}=t;return e.request({method:"eth_sendRawTransaction",params:[r]},{retryCount:0})}async function yb(e,t){const{account:r=e.account,chain:n=e.chain,accessList:i,blobs:o,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p,...m}=t;if(!r)throw new sv({docsPath:"/docs/actions/wallet/sendTransaction"});const y=$y(r);try{var g;let r;if(Uv(t),null!==n&&(r=await Bv(e,hg,"getChainId")({}),uv({currentChainId:r,chain:n})),"local"===y.type){var v;const t=await Bv(e,pb,"prepareTransactionRequest")({account:y,accessList:i,blobs:o,chain:n,chainId:r,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,parameters:[...hb,"sidecars"],to:h,value:p,...m}),g=null===n||void 0===n||null===(v=n.serializers)||void 0===v?void 0:v.transaction,b=await y.signTransaction(t,{serializer:g});return await Bv(e,mb,"sendRawTransaction")({serializedTransaction:b})}const b=null===(g=e.chain)||void 0===g||null===(g=g.formatters)||void 0===g||null===(g=g.transactionRequest)||void 0===g?void 0:g.format,w=(b||Tv)({...Cv(m,{format:b}),accessList:i,blobs:o,data:s,from:y.address,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:f,to:h,value:p});return await e.request({method:"eth_sendTransaction",params:[w]},{retryCount:0})}catch(b){throw function(e,t){let{docsPath:r,...n}=t;const i=(()=>{const t=Rv(e,n);return t instanceof kv?e:t})();return new Iv(i,{docsPath:r,...n})}(b,{...t,account:y,chain:t.chain||void 0})}}function gb(e,t){const{abi:r,args:n,bytecode:i,...o}=t,s=function(e){const{abi:t,args:r,bytecode:n}=e;if(!r||0===r.length)return n;const i=t.find((e=>"type"in e&&"constructor"===e.type));if(!i)throw new Mg({docsPath:ov});if(!("inputs"in i))throw new Ng({docsPath:ov});if(!i.inputs||0===i.inputs.length)throw new Ng({docsPath:ov});return Kg([n,rv(i.inputs,r)])}({abi:r,args:n,bytecode:i});return yb(e,{...o,data:s})}async function vb(e){return(await e.request({method:"eth_requestAccounts"},{retryCount:0})).map((e=>function(e,t){if(!Xg(e,{strict:!1}))throw new Fg({address:e});return Zg(e,t)}(e)))}const bb=(e,t,r)=>JSON.stringify(e,((e,r)=>{const n="bigint"===typeof r?r.toString():r;return"function"===typeof t?t(e,n):n}),r),wb=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Sb=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Eb(e){let{domain:t}=e;return["string"===typeof(null===t||void 0===t?void 0:t.name)&&{name:"name",type:"string"},(null===t||void 0===t?void 0:t.version)&&{name:"version",type:"string"},"number"===typeof(null===t||void 0===t?void 0:t.chainId)&&{name:"chainId",type:"uint256"},(null===t||void 0===t?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(null===t||void 0===t?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}async function Ab(e,t){const{account:r=e.account,domain:n,message:i,primaryType:o}=t;if(!r)throw new sv({docsPath:"/docs/actions/wallet/signTypedData"});const s=$y(r),a={EIP712Domain:Eb({domain:n}),...t.types};if(function(e){const{domain:t,message:r,primaryType:n,types:i}=e,o=(e,t)=>{for(const r of e){const{name:e,type:n}=r,s=t[e],a=n.match(Sb);if(a&&("number"===typeof s||"bigint"===typeof s)){const[e,t,r]=a;Eg(s,{signed:"int"===t,size:parseInt(r)/8})}if("address"===n&&"string"===typeof s&&!Xg(s))throw new Fg({address:s});const c=n.match(wb);if(c){const[e,t]=c;if(t&&ug(s)!==parseInt(t))throw new Tg({expectedSize:parseInt(t),givenSize:ug(s)})}const u=i[n];u&&o(u,s)}};if(i.EIP712Domain&&t&&o(i.EIP712Domain,t),"EIP712Domain"!==n){const e=i[n];o(e,r)}}({domain:n,message:i,primaryType:o,types:a}),"local"===s.type)return s.signTypedData({domain:n,message:i,primaryType:o,types:a});const c=bb({domain:null!==n&&void 0!==n?n:{},message:i,primaryType:o,types:a},((e,t)=>cg(t)?t.toLowerCase():t));return e.request({method:"eth_signTypedData_v4",params:[s.address,c]},{retryCount:0})}const _b=e=>Wg(jg(e));const kb=/^tuple(?<array>(\[(\d*)\])*)$/;function xb(e){let t=e.type;if(kb.test(e.type)&&"components"in e){var r;t="(";const n=e.components.length;for(let r=0;r<n;r++){t+=xb(e.components[r]),r<n-1&&(t+=", ")}const i=function(e,t){const r=e.exec(t);return null===r||void 0===r?void 0:r.groups}(kb,e.type);return t+=")".concat(null!==(r=null===i||void 0===i?void 0:i.array)&&void 0!==r?r:""),xb({...e,type:t})}return"indexed"in e&&e.indexed&&(t="".concat(t," indexed")),e.name?"".concat(t," ").concat(e.name):t}function Mb(e){let t="";const r=e.length;for(let n=0;n<r;n++){t+=xb(e[n]),n!==r-1&&(t+=", ")}return t}const Nb=e=>function(e){let t=!0,r="",n=0,i="",o=!1;for(let s=0;s<e.length;s++){const a=e[s];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t)if(0!==n)" "!==a?(i+=a,r+=a):","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);else if(" "===a&&["event","function",""].includes(i))i="";else if(i+=a,")"===a){o=!0;break}}if(!o)throw new ig("Unable to normalize signature.");return i}((()=>{return"string"===typeof e?e:"function"===(t=e).type?"function ".concat(t.name,"(").concat(Mb(t.inputs),")").concat(t.stateMutability&&"nonpayable"!==t.stateMutability?" ".concat(t.stateMutability):"").concat(t.outputs.length?" returns (".concat(Mb(t.outputs),")"):""):"event"===t.type?"event ".concat(t.name,"(").concat(Mb(t.inputs),")"):"error"===t.type?"error ".concat(t.name,"(").concat(Mb(t.inputs),")"):"constructor"===t.type?"constructor(".concat(Mb(t.inputs),")").concat("payable"===t.stateMutability?" payable":""):"fallback"===t.type?"fallback()":"receive() external payable";var t})());function Pb(e){return t=Nb(e),_b(t);var t}const Ib=e=>$g(Pb(e),0,4),Rb=Pb;function Cb(e,t){const r=typeof e,n=t.type;switch(n){case"address":return Xg(e,{strict:!1});case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===n&&"components"in t?Object.values(t.components).every(((t,r)=>Cb(Object.values(e)[r],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?"string"===r||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)&&(Array.isArray(e)&&e.every((e=>Cb(e,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function Ob(e,t,r){for(const n in e){const i=e[n],o=t[n];if("tuple"===i.type&&"tuple"===o.type&&"components"in i&&"components"in o)return Ob(i.components,o.components,r[n]);const s=[i.type,o.type];if(!(!s.includes("address")||!s.includes("bytes20"))||(s.includes("address")&&s.includes("string")||!(!s.includes("address")||!s.includes("bytes")))&&Xg(r[n],{strict:!1}))return s}}const Tb="/docs/contract/encodeFunctionData";function Bb(e){const{abi:t,args:r,functionName:n}=e;let i=t[0];if(n){const e=function(e){const{abi:t,args:r=[],name:n}=e,i=cg(n,{strict:!1}),o=t.filter((e=>i?"function"===e.type?Ib(e)===n:"event"===e.type&&Rb(e)===n:"name"in e&&e.name===n));if(0===o.length)return;if(1===o.length)return o[0];let s;for(const a of o){if(!("inputs"in a))continue;if(!r||0===r.length){if(!a.inputs||0===a.inputs.length)return a;continue}if(!a.inputs)continue;if(0===a.inputs.length)continue;if(a.inputs.length!==r.length)continue;const e=r.every(((e,t)=>{const r="inputs"in a&&a.inputs[t];return!!r&&Cb(e,r)}));if(e){if(s&&"inputs"in s&&s.inputs){const e=Ob(a.inputs,s.inputs,r);if(e)throw new Og({abiItem:a,type:e[0]},{abiItem:s,type:e[1]})}s=a}}return s||o[0]}({abi:t,args:r,name:n});if(!e)throw new Cg(n,{docsPath:Tb});i=e}if("function"!==i.type)throw new Cg(void 0,{docsPath:Tb});return{abi:[i],functionName:Ib(kg(i))}}async function Ub(e,t){const{abi:r,address:n,args:i,dataSuffix:o,functionName:s,...a}=t,c=function(e){const{args:t}=e,{abi:r,functionName:n}=1===e.abi.length&&null!==(i=e.functionName)&&void 0!==i&&i.startsWith("0x")?e:Bb(e);var i;const o=r[0],s=n,a="inputs"in o&&o.inputs?rv(o.inputs,null!==t&&void 0!==t?t:[]):void 0;return Kg([s,null!==a&&void 0!==a?a:"0x"])}({abi:r,args:i,functionName:s});return Bv(e,yb,"sendTransaction")({data:"".concat(c).concat(o?o.replace("0x",""):""),to:n,...a})}function Lb(e){return{addChain:t=>async function(e,t){let{chain:r}=t;const{id:n,name:i,nativeCurrency:o,rpcUrls:s,blockExplorers:a}=r;await e.request({method:"wallet_addEthereumChain",params:[{chainId:Eg(n),chainName:i,nativeCurrency:o,rpcUrls:s.default.http,blockExplorerUrls:a?Object.values(a).map((e=>{let{url:t}=e;return t})):void 0}]},{retryCount:0})}(e,t),deployContract:t=>gb(e,t),getAddresses:()=>async function(e){var t;return"local"===(null===(t=e.account)||void 0===t?void 0:t.type)?[e.account.address]:(await e.request({method:"eth_accounts"})).map((e=>Zg(e)))}(e),getChainId:()=>hg(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"})}(e),prepareTransactionRequest:t=>pb(e,t),requestAddresses:()=>vb(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}(e,t),sendRawTransaction:t=>mb(e,t),sendTransaction:t=>yb(e,t),signMessage:t=>async function(e,t){let{account:r=e.account,message:n}=t;if(!r)throw new sv({docsPath:"/docs/actions/wallet/signMessage"});const i=$y(r);if("local"===i.type)return i.signMessage({message:n});const o="string"===typeof n?_g(n):n.raw instanceof Uint8Array?bg(n.raw):n.raw;return e.request({method:"personal_sign",params:[o,i.address]},{retryCount:0})}(e,t),signTransaction:t=>async function(e,t){var r,n;const{account:i=e.account,chain:o=e.chain,...s}=t;if(!i)throw new sv({docsPath:"/docs/actions/wallet/signTransaction"});const a=$y(i);Uv({account:a,...t});const c=await Bv(e,hg,"getChainId")({});null!==o&&uv({currentChainId:c,chain:o});const u=(null===o||void 0===o?void 0:o.formatters)||(null===(r=e.chain)||void 0===r?void 0:r.formatters),l=(null===u||void 0===u||null===(n=u.transactionRequest)||void 0===n?void 0:n.format)||Tv;var d;return"local"===a.type?a.signTransaction({...s,chainId:c},{serializer:null===(d=e.chain)||void 0===d||null===(d=d.serializers)||void 0===d?void 0:d.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(s),chainId:Eg(c),from:a.address}]},{retryCount:0})}(e,t),signTypedData:t=>Ab(e,t),switchChain:t=>async function(e,t){let{id:r}=t;await e.request({method:"wallet_switchEthereumChain",params:[{chainId:Eg(r)}]},{retryCount:0})}(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}(e,t),writeContract:t=>Ub(e,t)}}function Db(e){const{key:t="wallet",name:r="Wallet Client",transport:n}=e,i=function(e){var t;const{batch:r,cacheTime:n=(null!==(t=e.pollingInterval)&&void 0!==t?t:4e3),ccipRead:i,key:o="base",name:s="Base Client",pollingInterval:a=4e3,type:c="base"}=e,u=e.chain,l=e.account?$y(e.account):void 0,{config:d,request:f,value:h}=e.transport({chain:u,pollingInterval:a}),p={account:l,batch:r,cacheTime:n,ccipRead:i,chain:u,key:o,name:s,pollingInterval:a,request:f,transport:{...d,...h},type:c,uid:ng()};return Object.assign(p,{extend:function e(t){return r=>{const n=r(t);for(const e in p)delete n[e];const i={...t,...n};return Object.assign(i,{extend:e(i)})}}(p)})}({...e,key:t,name:r,transport:n,type:"walletClient"});return i.extend(Lb)}class Kb extends ig{constructor(e){let{body:t,details:r,headers:n,status:i,url:o}=e;super("HTTP request failed.",{details:r,metaMessages:[i&&"Status: ".concat(i),"URL: ".concat(o),t&&"Request body: ".concat(bb(t))].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=n,this.status=i,this.url=o}}class Fb extends ig{constructor(e){let{body:t,error:r,url:n}=e;super("RPC Request failed.",{cause:r,details:r.message,metaMessages:["URL: ".concat(n),"Request body: ".concat(bb(t))]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code}}class qb extends ig{constructor(e,t){let{code:r,docsPath:n,metaMessages:i,shortMessage:o}=t;super(o,{cause:e,docsPath:n,metaMessages:i||(null===e||void 0===e?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof Fb?e.code:null!==r&&void 0!==r?r:-1}}class zb extends qb{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class jb extends qb{constructor(e){super(e,{code:jb.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(jb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Jb extends qb{constructor(e){super(e,{code:Jb.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Jb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Gb extends qb{constructor(e){super(e,{code:Gb.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Gb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Hb extends qb{constructor(e){super(e,{code:Hb.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Hb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Vb extends qb{constructor(e){super(e,{code:Vb.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Vb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Wb extends qb{constructor(e){super(e,{code:Wb.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Wb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Zb extends qb{constructor(e){super(e,{code:Zb.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Zb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Yb extends qb{constructor(e){super(e,{code:Yb.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Yb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Qb extends qb{constructor(e){super(e,{code:Qb.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Qb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Xb extends qb{constructor(e){super(e,{code:Xb.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Xb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class $b extends qb{constructor(e){super(e,{code:$b.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty($b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class ew extends qb{constructor(e){super(e,{code:ew.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(ew,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class tw extends zb{constructor(e){super(e,{code:tw.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(tw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class rw extends zb{constructor(e){super(e,{code:rw.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(rw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class nw extends zb{constructor(e){super(e,{code:nw.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(nw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class iw extends zb{constructor(e){super(e,{code:iw.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(iw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ow extends zb{constructor(e){super(e,{code:ow.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ow,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class sw extends zb{constructor(e){super(e,{code:sw.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(sw,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class aw extends qb{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function cw(e){let{delay:t=100,retryCount:r=2,shouldRetry:n=(()=>!0)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,o)=>{const s=async function(){let{count:a=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const c=async e=>{let{error:r}=e;const n="function"===typeof t?t({count:a,error:r}):t;n&&await async function(e){return new Promise((t=>setTimeout(t,e)))}(n),s({count:a+1})};try{const t=await e();i(t)}catch(u){if(a<r&&await n({count:a,error:u}))return c({error:u});o(u)}};s()}))}function uw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{retryDelay:i=150,retryCount:o=3}={...t,...n};return cw((async()=>{try{return await e(r)}catch(t){const e=t;switch(e.code){case jb.code:throw new jb(e);case Jb.code:throw new Jb(e);case Gb.code:throw new Gb(e);case Hb.code:throw new Hb(e);case Vb.code:throw new Vb(e);case Wb.code:throw new Wb(e);case Zb.code:throw new Zb(e);case Yb.code:throw new Yb(e);case Qb.code:throw new Qb(e);case Xb.code:throw new Xb(e);case $b.code:throw new $b(e);case ew.code:throw new ew(e);case tw.code:throw new tw(e);case rw.code:throw new rw(e);case nw.code:throw new nw(e);case iw.code:throw new iw(e);case ow.code:throw new ow(e);case sw.code:throw new sw(e);case 5e3:throw new tw(e);default:if(t instanceof ig)throw t;throw new aw(e)}}}),{delay:e=>{let{count:t,error:r}=e;if(r&&r instanceof Kb){var n;const e=null===r||void 0===r||null===(n=r.headers)||void 0===n?void 0:n.get("Retry-After");if(null!==e&&void 0!==e&&e.match(/\d/))return 1e3*parseInt(e)}return(1<<t)*i},retryCount:o,shouldRetry:e=>{let{error:t}=e;return function(e){if("code"in e&&"number"===typeof e.code)return-1===e.code||(e.code===$b.code||e.code===Vb.code);if(e instanceof Kb&&e.status)return 403===e.status||(408===e.status||(413===e.status||(429===e.status||(500===e.status||(502===e.status||(503===e.status||504===e.status))))));return!0}(t)}})}}function lw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{key:r="custom",name:n="Custom Provider",retryDelay:i}=t;return o=>{var s;let{retryCount:a}=o;return function(e,t){let{key:r,name:n,request:i,retryCount:o=3,retryDelay:s=150,timeout:a,type:c}=e;return{config:{key:r,name:n,request:i,retryCount:o,retryDelay:s,timeout:a,type:c},request:uw(i,{retryCount:o,retryDelay:s}),value:t}}({key:r,name:n,request:e.request.bind(e),retryCount:null!==(s=t.retryCount)&&void 0!==s?s:a,retryDelay:i,type:"custom"})}}const dw=new oc({authorityId:"xmtp.org",typeId:"bot",versionMajor:1,versionMinor:0});class fw{get contentType(){return dw}encode(e){const{sender:t,receivers:r,content:n,context:i,reference:o}=e;return{type:dw,parameters:{},content:(new TextEncoder).encode(JSON.stringify({sender:t,receivers:r,content:n,context:i,reference:o}))}}decode(e){const t=(new TextDecoder).decode(e.content);try{const e=JSON.parse(t),{sender:r,receivers:n,content:i,context:o,reference:s}=e;return{sender:r,receivers:n,content:i,context:o,reference:s}}catch(Qa){const n=e.parameters;return{sender:n.sender,receivers:n.receivers,content:t,context:n.context,reference:n.reference}}}fallback(e){return"Bot message"}shouldPush(e){return!1}}function hw(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const pw=hw({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});function mw(e){return mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(e)}function yw(e){var t=function(e,t){if("object"!=mw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=mw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mw(t)?t:t+""}function gw(e,t,r){return(t=yw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vw=new Array(64),bw=new Array(123);for(let tE=0;tE<64;)bw[vw[tE]=tE<26?tE+65:tE<52?tE+71:tE<62?tE-4:tE-59|43]=tE++;function ww(e,t,r){let n=null;const i=[];let o,s=0,a=0;for(;t<r;){const r=e[t++];switch(a){case 0:i[s++]=vw[r>>2],o=(3&r)<<4,a=1;break;case 1:i[s++]=vw[o|r>>4],o=(15&r)<<2,a=2;break;case 2:i[s++]=vw[o|r>>6],i[s++]=vw[63&r],a=0}s>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,i)),s=0)}return a&&(i[s++]=vw[o],i[s++]=61,1===a&&(i[s++]=61)),n?(s&&n.push(String.fromCharCode.apply(String,i.slice(0,s))),n.join("")):String.fromCharCode.apply(String,i.slice(0,s))}var Sw;!function(e){e.SORT_DIRECTION_UNSPECIFIED="SORT_DIRECTION_UNSPECIFIED",e.SORT_DIRECTION_ASCENDING="SORT_DIRECTION_ASCENDING",e.SORT_DIRECTION_DESCENDING="SORT_DIRECTION_DESCENDING"}(Sw||(Sw={}));const Ew={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.ecdsaCompact&&_w.encode(e.ecdsaCompact,t.uint32(10).fork()).ldelim(),void 0!==e.walletEcdsaCompact&&xw.encode(e.walletEcdsaCompact,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={ecdsaCompact:void 0,walletEcdsaCompact:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.ecdsaCompact=_w.decode(r,r.uint32());break;case 2:i.walletEcdsaCompact=xw.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({ecdsaCompact:Iw(e.ecdsaCompact)?_w.fromJSON(e.ecdsaCompact):void 0,walletEcdsaCompact:Iw(e.walletEcdsaCompact)?xw.fromJSON(e.walletEcdsaCompact):void 0}),toJSON(e){const t={};return void 0!==e.ecdsaCompact&&(t.ecdsaCompact=e.ecdsaCompact?_w.toJSON(e.ecdsaCompact):void 0),void 0!==e.walletEcdsaCompact&&(t.walletEcdsaCompact=e.walletEcdsaCompact?xw.toJSON(e.walletEcdsaCompact):void 0),t},fromPartial(e){const t={ecdsaCompact:void 0,walletEcdsaCompact:void 0};return t.ecdsaCompact=void 0!==e.ecdsaCompact&&null!==e.ecdsaCompact?_w.fromPartial(e.ecdsaCompact):void 0,t.walletEcdsaCompact=void 0!==e.walletEcdsaCompact&&null!==e.walletEcdsaCompact?xw.fromPartial(e.walletEcdsaCompact):void 0,t}};function Aw(){return{bytes:new Uint8Array,recovery:0}}const _w={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),0!==e.recovery&&t.uint32(16).uint32(e.recovery),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Aw();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.bytes=r.bytes();break;case 2:i.recovery=r.uint32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({bytes:Iw(e.bytes)?Nw(e.bytes):new Uint8Array,recovery:Iw(e.recovery)?Number(e.recovery):0}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=Pw(void 0!==e.bytes?e.bytes:new Uint8Array)),void 0!==e.recovery&&(t.recovery=Math.round(e.recovery)),t},fromPartial(e){var t,r;const n=Aw();return n.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,n.recovery=null!==(r=e.recovery)&&void 0!==r?r:0,n}};function kw(){return{bytes:new Uint8Array,recovery:0}}const xw={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),0!==e.recovery&&t.uint32(16).uint32(e.recovery),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=kw();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.bytes=r.bytes();break;case 2:i.recovery=r.uint32();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({bytes:Iw(e.bytes)?Nw(e.bytes):new Uint8Array,recovery:Iw(e.recovery)?Number(e.recovery):0}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=Pw(void 0!==e.bytes?e.bytes:new Uint8Array)),void 0!==e.recovery&&(t.recovery=Math.round(e.recovery)),t},fromPartial(e){var t,r;const n=kw();return n.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,n.recovery=null!==(r=e.recovery)&&void 0!==r?r:0,n}};var Mw=(()=>{if("undefined"!==typeof Mw)return Mw;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Nw(e){if(Mw.Buffer)return Uint8Array.from(Mw.Buffer.from(e,"base64"));{const t=Mw.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function Pw(e){if(Mw.Buffer)return Mw.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),Mw.btoa(t.join(""))}}function Iw(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());function Rw(){return{keyBytes:new Uint8Array,signature:void 0}}const Cw={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.keyBytes.length&&t.uint32(10).bytes(e.keyBytes),void 0!==e.signature&&Ew.encode(e.signature,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Rw();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.keyBytes=r.bytes();break;case 2:i.signature=Ew.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({keyBytes:zw(e.keyBytes)?Fw(e.keyBytes):new Uint8Array,signature:zw(e.signature)?Ew.fromJSON(e.signature):void 0}),toJSON(e){const t={};return void 0!==e.keyBytes&&(t.keyBytes=qw(void 0!==e.keyBytes?e.keyBytes:new Uint8Array)),void 0!==e.signature&&(t.signature=e.signature?Ew.toJSON(e.signature):void 0),t},fromPartial(e){var t;const r=Rw();return r.keyBytes=null!==(t=e.keyBytes)&&void 0!==t?t:new Uint8Array,r.signature=void 0!==e.signature&&null!==e.signature?Ew.fromPartial(e.signature):void 0,r}};const Ow={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.identityKey&&Cw.encode(e.identityKey,t.uint32(10).fork()).ldelim(),void 0!==e.preKey&&Cw.encode(e.preKey,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={identityKey:void 0,preKey:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.identityKey=Cw.decode(r,r.uint32());break;case 2:i.preKey=Cw.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({identityKey:zw(e.identityKey)?Cw.fromJSON(e.identityKey):void 0,preKey:zw(e.preKey)?Cw.fromJSON(e.preKey):void 0}),toJSON(e){const t={};return void 0!==e.identityKey&&(t.identityKey=e.identityKey?Cw.toJSON(e.identityKey):void 0),void 0!==e.preKey&&(t.preKey=e.preKey?Cw.toJSON(e.preKey):void 0),t},fromPartial(e){const t={identityKey:void 0,preKey:void 0};return t.identityKey=void 0!==e.identityKey&&null!==e.identityKey?Cw.fromPartial(e.identityKey):void 0,t.preKey=void 0!==e.preKey&&null!==e.preKey?Cw.fromPartial(e.preKey):void 0,t}};function Tw(){return{timestamp:Oe.UZERO,signature:void 0,secp256k1Uncompressed:void 0}}const Bw={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return e.timestamp.isZero()||t.uint32(8).uint64(e.timestamp),void 0!==e.signature&&Ew.encode(e.signature,t.uint32(18).fork()).ldelim(),void 0!==e.secp256k1Uncompressed&&Lw.encode(e.secp256k1Uncompressed,t.uint32(26).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Tw();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.timestamp=r.uint64();break;case 2:i.signature=Ew.decode(r,r.uint32());break;case 3:i.secp256k1Uncompressed=Lw.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({timestamp:zw(e.timestamp)?Oe.fromValue(e.timestamp):Oe.UZERO,signature:zw(e.signature)?Ew.fromJSON(e.signature):void 0,secp256k1Uncompressed:zw(e.secp256k1Uncompressed)?Lw.fromJSON(e.secp256k1Uncompressed):void 0}),toJSON(e){const t={};return void 0!==e.timestamp&&(t.timestamp=(e.timestamp||Oe.UZERO).toString()),void 0!==e.signature&&(t.signature=e.signature?Ew.toJSON(e.signature):void 0),void 0!==e.secp256k1Uncompressed&&(t.secp256k1Uncompressed=e.secp256k1Uncompressed?Lw.toJSON(e.secp256k1Uncompressed):void 0),t},fromPartial(e){const t=Tw();return t.timestamp=void 0!==e.timestamp&&null!==e.timestamp?Oe.fromValue(e.timestamp):Oe.UZERO,t.signature=void 0!==e.signature&&null!==e.signature?Ew.fromPartial(e.signature):void 0,t.secp256k1Uncompressed=void 0!==e.secp256k1Uncompressed&&null!==e.secp256k1Uncompressed?Lw.fromPartial(e.secp256k1Uncompressed):void 0,t}};function Uw(){return{bytes:new Uint8Array}}const Lw={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return 0!==e.bytes.length&&t.uint32(10).bytes(e.bytes),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Uw();for(;r.pos<n;){const e=r.uint32();if(e>>>3===1)i.bytes=r.bytes();else r.skipType(7&e)}return i},fromJSON:e=>({bytes:zw(e.bytes)?Fw(e.bytes):new Uint8Array}),toJSON(e){const t={};return void 0!==e.bytes&&(t.bytes=qw(void 0!==e.bytes?e.bytes:new Uint8Array)),t},fromPartial(e){var t;const r=Uw();return r.bytes=null!==(t=e.bytes)&&void 0!==t?t:new Uint8Array,r}};const Dw={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.identityKey&&Bw.encode(e.identityKey,t.uint32(10).fork()).ldelim(),void 0!==e.preKey&&Bw.encode(e.preKey,t.uint32(18).fork()).ldelim(),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i={identityKey:void 0,preKey:void 0};for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.identityKey=Bw.decode(r,r.uint32());break;case 2:i.preKey=Bw.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({identityKey:zw(e.identityKey)?Bw.fromJSON(e.identityKey):void 0,preKey:zw(e.preKey)?Bw.fromJSON(e.preKey):void 0}),toJSON(e){const t={};return void 0!==e.identityKey&&(t.identityKey=e.identityKey?Bw.toJSON(e.identityKey):void 0),void 0!==e.preKey&&(t.preKey=e.preKey?Bw.toJSON(e.preKey):void 0),t},fromPartial(e){const t={identityKey:void 0,preKey:void 0};return t.identityKey=void 0!==e.identityKey&&null!==e.identityKey?Bw.fromPartial(e.identityKey):void 0,t.preKey=void 0!==e.preKey&&null!==e.preKey?Bw.fromPartial(e.preKey):void 0,t}};var Kw=(()=>{if("undefined"!==typeof Kw)return Kw;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Fw(e){if(Kw.Buffer)return Uint8Array.from(Kw.Buffer.from(e,"base64"));{const t=Kw.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function qw(e){if(Kw.Buffer)return Kw.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),Kw.btoa(t.join(""))}}function zw(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var jw=(()=>{if("undefined"!==typeof jw)return jw;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var Jw=(()=>{if("undefined"!==typeof Jw)return Jw;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var Gw;!function(e){e[e.CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED=0]="CONSENT_PROOF_PAYLOAD_VERSION_UNSPECIFIED",e[e.CONSENT_PROOF_PAYLOAD_VERSION_1=1]="CONSENT_PROOF_PAYLOAD_VERSION_1",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Gw||(Gw={}));var Hw=(()=>{if("undefined"!==typeof Hw)return Hw;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var Vw=(()=>{if("undefined"!==typeof Vw)return Vw;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var Ww;!function(e){e[e.COMPRESSION_DEFLATE=0]="COMPRESSION_DEFLATE",e[e.COMPRESSION_GZIP=1]="COMPRESSION_GZIP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ww||(Ww={}));var Zw=(()=>{if("undefined"!==typeof Zw)return Zw;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());function Yw(){return{frameUrl:"",buttonIndex:0,timestamp:Oe.UZERO,opaqueConversationIdentifier:"",unixTimestamp:0,inputText:"",state:"",address:""}}const Qw={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return""!==e.frameUrl&&t.uint32(10).string(e.frameUrl),0!==e.buttonIndex&&t.uint32(16).int32(e.buttonIndex),e.timestamp.isZero()||t.uint32(24).uint64(e.timestamp),""!==e.opaqueConversationIdentifier&&t.uint32(34).string(e.opaqueConversationIdentifier),0!==e.unixTimestamp&&t.uint32(40).uint32(e.unixTimestamp),""!==e.inputText&&t.uint32(50).string(e.inputText),""!==e.state&&t.uint32(58).string(e.state),""!==e.address&&t.uint32(66).string(e.address),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Yw();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.frameUrl=r.string();break;case 2:i.buttonIndex=r.int32();break;case 3:i.timestamp=r.uint64();break;case 4:i.opaqueConversationIdentifier=r.string();break;case 5:i.unixTimestamp=r.uint32();break;case 6:i.inputText=r.string();break;case 7:i.state=r.string();break;case 8:i.address=r.string();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({frameUrl:rS(e.frameUrl)?String(e.frameUrl):"",buttonIndex:rS(e.buttonIndex)?Number(e.buttonIndex):0,timestamp:rS(e.timestamp)?Oe.fromValue(e.timestamp):Oe.UZERO,opaqueConversationIdentifier:rS(e.opaqueConversationIdentifier)?String(e.opaqueConversationIdentifier):"",unixTimestamp:rS(e.unixTimestamp)?Number(e.unixTimestamp):0,inputText:rS(e.inputText)?String(e.inputText):"",state:rS(e.state)?String(e.state):"",address:rS(e.address)?String(e.address):""}),toJSON(e){const t={};return void 0!==e.frameUrl&&(t.frameUrl=e.frameUrl),void 0!==e.buttonIndex&&(t.buttonIndex=Math.round(e.buttonIndex)),void 0!==e.timestamp&&(t.timestamp=(e.timestamp||Oe.UZERO).toString()),void 0!==e.opaqueConversationIdentifier&&(t.opaqueConversationIdentifier=e.opaqueConversationIdentifier),void 0!==e.unixTimestamp&&(t.unixTimestamp=Math.round(e.unixTimestamp)),void 0!==e.inputText&&(t.inputText=e.inputText),void 0!==e.state&&(t.state=e.state),void 0!==e.address&&(t.address=e.address),t},fromPartial(e){var t,r,n,i,o,s,a;const c=Yw();return c.frameUrl=null!==(t=e.frameUrl)&&void 0!==t?t:"",c.buttonIndex=null!==(r=e.buttonIndex)&&void 0!==r?r:0,c.timestamp=void 0!==e.timestamp&&null!==e.timestamp?Oe.fromValue(e.timestamp):Oe.UZERO,c.opaqueConversationIdentifier=null!==(n=e.opaqueConversationIdentifier)&&void 0!==n?n:"",c.unixTimestamp=null!==(i=e.unixTimestamp)&&void 0!==i?i:0,c.inputText=null!==(o=e.inputText)&&void 0!==o?o:"",c.state=null!==(s=e.state)&&void 0!==s?s:"",c.address=null!==(a=e.address)&&void 0!==a?a:"",c}};function Xw(){return{signature:void 0,signedPublicKeyBundle:void 0,actionBody:new Uint8Array}}const $w={encode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be().Writer.create();return void 0!==e.signature&&Ew.encode(e.signature,t.uint32(10).fork()).ldelim(),void 0!==e.signedPublicKeyBundle&&Ow.encode(e.signedPublicKeyBundle,t.uint32(18).fork()).ldelim(),0!==e.actionBody.length&&t.uint32(26).bytes(e.actionBody),t},decode(e,t){const r=e instanceof Be().Reader?e:new(Be().Reader)(e);let n=void 0===t?r.len:r.pos+t;const i=Xw();for(;r.pos<n;){const e=r.uint32();switch(e>>>3){case 1:i.signature=Ew.decode(r,r.uint32());break;case 2:i.signedPublicKeyBundle=Ow.decode(r,r.uint32());break;case 3:i.actionBody=r.bytes();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({signature:rS(e.signature)?Ew.fromJSON(e.signature):void 0,signedPublicKeyBundle:rS(e.signedPublicKeyBundle)?Ow.fromJSON(e.signedPublicKeyBundle):void 0,actionBody:rS(e.actionBody)?tS(e.actionBody):new Uint8Array}),toJSON(e){const t={};return void 0!==e.signature&&(t.signature=e.signature?Ew.toJSON(e.signature):void 0),void 0!==e.signedPublicKeyBundle&&(t.signedPublicKeyBundle=e.signedPublicKeyBundle?Ow.toJSON(e.signedPublicKeyBundle):void 0),void 0!==e.actionBody&&(t.actionBody=function(e){if(eS.Buffer)return eS.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),eS.btoa(t.join(""))}}(void 0!==e.actionBody?e.actionBody:new Uint8Array)),t},fromPartial(e){var t;const r=Xw();return r.signature=void 0!==e.signature&&null!==e.signature?Ew.fromPartial(e.signature):void 0,r.signedPublicKeyBundle=void 0!==e.signedPublicKeyBundle&&null!==e.signedPublicKeyBundle?Ow.fromPartial(e.signedPublicKeyBundle):void 0,r.actionBody=null!==(t=e.actionBody)&&void 0!==t?t:new Uint8Array,r}};var eS=(()=>{if("undefined"!==typeof eS)return eS;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function tS(e){if(eS.Buffer)return Uint8Array.from(eS.Buffer.from(e,"base64"));{const t=eS.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}function rS(e){return null!==e&&void 0!==e}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var nS=(()=>{if("undefined"!==typeof nS)return nS;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var iS,oS,sS;!function(e){e[e.ERROR_CODE_UNSPECIFIED=0]="ERROR_CODE_UNSPECIFIED",e[e.ERROR_CODE_INVALID_INPUT=1]="ERROR_CODE_INVALID_INPUT",e[e.ERROR_CODE_NO_MATCHING_PREKEY=2]="ERROR_CODE_NO_MATCHING_PREKEY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(iS||(iS={})),function(e){e[e.JOB_TYPE_UNSPECIFIED=0]="JOB_TYPE_UNSPECIFIED",e[e.JOB_TYPE_REFRESH_V1=1]="JOB_TYPE_REFRESH_V1",e[e.JOB_TYPE_REFRESH_V2=2]="JOB_TYPE_REFRESH_V2",e[e.JOB_TYPE_REFRESH_PPPP=3]="JOB_TYPE_REFRESH_PPPP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(oS||(oS={})),function(e){e[e.KEYSTORE_STATUS_UNSPECIFIED=0]="KEYSTORE_STATUS_UNSPECIFIED",e[e.KEYSTORE_STATUS_UNINITIALIZED=1]="KEYSTORE_STATUS_UNINITIALIZED",e[e.KEYSTORE_STATUS_INITIALIZED=2]="KEYSTORE_STATUS_INITIALIZED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(sS||(sS={}));var aS=(()=>{if("undefined"!==typeof aS)return aS;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var cS=(()=>{if("undefined"!==typeof cS)return cS;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var uS=(()=>{if("undefined"!==typeof uS)return uS;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());var lS=(()=>{if("undefined"!==typeof lS)return lS;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function dS(e){if(!((t=e)instanceof Uint8Array||null!=t&&"object"===typeof t&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length ".concat(n,", not of length=").concat(e.length))}function fS(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function hS(e,t){dS(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least ".concat(r))}Be().util.Long!==Oe&&(Be().util.Long=Oe,Be().configure());const pS=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),mS=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function yS(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),dS(e),e}class gS{clone(){return this._cloneInto()}}function vS(e){const t=t=>e().update(yS(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const bS=(e,t,r)=>e&t^e&r^t&r;class wS extends gS{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pS(this.buffer)}update(e){fS(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=yS(e)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=pS(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){fS(this),hS(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let l=o;l<n;l++)t[l]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=pS(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<c;l++)s.setUint32(4*l,u[l],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const SS=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ES=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),AS=new Uint32Array(64);class _S extends wS{constructor(){super(64,32,8,!1),this.A=0|ES[0],this.B=0|ES[1],this.C=0|ES[2],this.D=0|ES[3],this.E=0|ES[4],this.F=0|ES[5],this.G=0|ES[6],this.H=0|ES[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)AS[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=AS[d-15],t=AS[d-2],r=mS(e,7)^mS(e,18)^e>>>3,n=mS(t,17)^mS(t,19)^t>>>10;AS[d]=n+AS[d-7]+r+AS[d-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:c,H:u}=this;for(let d=0;d<64;d++){const e=u+(mS(s,6)^mS(s,11)^mS(s,25))+((l=s)&a^~l&c)+SS[d]+AS[d]|0,t=(mS(r,2)^mS(r,13)^mS(r,22))+bS(r,n,i)|0;u=c,c=a,a=s,s=o+e|0,o=i,i=n,n=r,r=e+t|0}var l;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,c,u)}roundClean(){AS.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const kS=vS((()=>new _S));class xS extends Error{constructor(e,t){super(e),this.status=t}}class MS{constructor(e,t){this.baseUrl=e,this.maxMetaTagSize=t}async readMetadata(e){return async function(e,t,r){const n=await fetch("".concat(t,"?url=").concat(encodeURIComponent(e)).concat(r?"&max-meta-tag-bytes=".concat(r):""));if(!n.ok)throw new xS("Failed to read metadata for ".concat(e),n.status);return await n.json()}(e,this.baseUrl,this.maxMetaTagSize)}async post(e,t){return async function(e,t,r,n){const i=await fetch("".concat(r,"?url=").concat(encodeURIComponent(e)).concat(n?"&max-meta-tag-bytes=".concat(n):""),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to post to frame: ".concat(i.status," ").concat(i.statusText));return await i.json()}(e,t,this.baseUrl,this.maxMetaTagSize)}async postRedirect(e,t){return async function(e,t,r){const n=await fetch("".concat(r,"redirect?url=").concat(encodeURIComponent(e)),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!n.ok)throw new xS("Failed to post to frame: ".concat(n.statusText),n.status);return await n.json()}(e,t,this.baseUrl)}async postTransaction(e,t){return async function(e,t,r,n){const i=await fetch("".concat(r,"transaction?url=").concat(encodeURIComponent(e)).concat(n?"&max-meta-tag-bytes=".concat(n):""),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to post to frame: ".concat(i.status," ").concat(i.statusText));return await i.json()}(e,t,this.baseUrl,this.maxMetaTagSize)}mediaUrl(e){return function(e,t){return"".concat(t,"media?url=").concat(encodeURIComponent(e))}(e,this.baseUrl)}}function NS(e,t){if(!e.signature)throw new Error("Missing signature");let r=e.signature;return t&&(r={walletEcdsaCompact:r.walletEcdsaCompact||r.ecdsaCompact,ecdsaCompact:void 0}),{keyBytes:(n=e,Bw.encode({timestamp:n.timestamp,secp256k1Uncompressed:n.secp256k1Uncompressed}).finish()),signature:r};var n}function PS(e){if(!e.identityKey||!e.preKey)throw new Error("Invalid bundle");return{identityKey:NS(e.identityKey,!0),preKey:NS(e.preKey,!1)}}class IS extends Error{}const{b64Encode:RS}=i;function CS(e){return RS(e,0,e.length)}function OS(e){if("groupId"in e&&"groupSecret"in e)return CS(kS(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Uint8Array(t.reduce(((e,t)=>e.concat(Array.from(t))),[]))}(e.groupId,e.groupSecret)));const{conversationTopic:t,participantAccountAddresses:r}=e;if(!t||!r.length)throw new IS("Missing conversation topic or participants");return CS(kS(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(new TextEncoder).encode(t.join(""))}(t.toLowerCase(),...r.map((e=>e.toLowerCase())).sort())))}function TS(e){const t=e;return"function"===typeof t.sign&&"function"===typeof t.exportPublicKeyBundle&&!("keystore"in e)}class BS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://frames.xmtp.chat/";gw(this,"inner",void 0),this.inner=new MS(e)}readMetadata(e){return this.inner.readMetadata(e)}post(e,t){return this.inner.post(e,t)}postRedirect(e,t){return this.inner.postRedirect(e,t)}postTransaction(e,t){return this.inner.postTransaction(e,t)}mediaUrl(e){return null!==e&&void 0!==e&&e.startsWith("data:")?e:this.inner.mediaUrl(e)}}class US{constructor(e,t){gw(this,"xmtpClient",void 0),gw(this,"proxy",void 0),this.xmtpClient=e,this.proxy=t||new BS}async signFrameAction(e){const t=OS(e),{frameUrl:r,buttonIndex:n,inputText:i,state:o,address:s}=e,a=Date.now(),c={frameUrl:r,buttonIndex:n,opaqueConversationIdentifier:t,timestamp:Oe.fromNumber(a),inputText:i||"",unixTimestamp:a,state:o||"",address:s||""},u=await this.buildSignedFrameAction(c);return{clientProtocol:"xmtp@".concat("2024-02-09"),untrustedData:{buttonIndex:n,opaqueConversationIdentifier:t,walletAddress:this.xmtpClient.address,inputText:i,url:r,timestamp:a,unixTimestamp:a,state:o,address:s},trustedData:{messageBytes:CS(u)}}}async buildSignedFrameAction(e){const t=Qw.encode(e).finish(),r=kS(t),n=await this.signDigest(r),i=await this.getPublicKeyBundle();return $w.encode({actionBody:t,signature:n,signedPublicKeyBundle:PS(i)}).finish()}async signDigest(e){if(TS(this.xmtpClient)){const t=await this.xmtpClient.sign(e,{kind:"identity"});return Ew.decode(t)}return this.xmtpClient.keystore.signDigest({digest:e,identityKey:!0,prekeyIndex:void 0})}async getPublicKeyBundle(){if(TS(this.xmtpClient)){const e=await this.xmtpClient.exportPublicKeyBundle();return Dw.decode(e)}return this.xmtpClient.keystore.getPublicKeyBundle()}}const LS=new BS,DS=async e=>{var t,r;let n=e.content;if(null!==(t=n)&&void 0!==t&&t.content&&(n=null===(r=n)||void 0===r?void 0:r.content),!n)return"";try{var i;const e=null===(i=n)||void 0===i?void 0:i.split(/(\r?\n|\s+)/),t=/https?:\/\/[^\s$.?#].[^\s]*$/i,r=e.map((async e=>{var r;if(!(null===(r=e.match(t))||void 0===r||!r[0]))return await(async e=>LS.readMetadata(e))(e)})),o=await Promise.all(r);return o.filter((e=>void 0!==e))[0]}catch(Qa){console.log(n),console.log(Qa)}},KS=new oc({authorityId:"xmtp.org",typeId:"reaction",versionMajor:1,versionMinor:0});class FS{get contentType(){return KS}encode(e){const{action:t,reference:r,schema:n,content:i,receiver:o}=e;return{type:KS,parameters:{},content:(new TextEncoder).encode(JSON.stringify({action:t,reference:r,schema:n,content:i,receiver:o}))}}decode(e){const t=(new TextDecoder).decode(e.content);try{const e=JSON.parse(t),{action:r,reference:n,schema:i,content:o,receiver:s}=e;return{action:r,reference:n,schema:i,content:o,receiver:s}}catch(Qa){const n=e.parameters;return{action:n.action,reference:n.reference,schema:n.schema,content:t,receiver:n.receiver}}}fallback(e){switch(e.action){case"added":return"Reacted \u201c".concat(e.content,"\u201d to an earlier message");case"removed":return"Removed \u201c".concat(e.content,"\u201d from an earlier message");default:return}}shouldPush(e){return!1}}const qS=e=>{let{message:t,senderAddress:r,client:n,onReaction:i,messageReactions:o,conversation:s,setSelectedConversation2:a,onTogglePin:u,onReply:l,isPinned:d,setActiveActionPickerId:f,activeActionPickerId:h,setTextInputValueTop:p}=e;F();const[m,y]=(0,c.useState)(!0),[g,v]=(0,c.useState)(),[b,w]=(0,c.useState)(0),[S,E]=(0,c.useState)(""),A=r===(null===n||void 0===n?void 0:n.address),[_,k]=(0,c.useState)(!1),[x,M]=(0,c.useState)(""),N=function(e){var t,r;if(!e)return!1;const n=!(null===(t=e.frameInfo)||void 0===t||!t.image)||!(null===(r=e.frameInfo)||void 0===r||!r.ogImage);return!(null===e||void 0===e||!e.frameInfo)&&n}(g),[P,I]=(0,c.useState)(!1),[R,C]=(0,c.useState)(Array.from(o)),[O,T]=(0,c.useState)(!1),B={senderBar:{backgroundColor:"transparent",position:"relative",color:A?"#D35400":"#FF5733",fontSize:"10px",textAlign:"left"},messageContent:{backgroundColor:"rgb(79 70 229)",padding:"5px",alignSelf:"flex-start",textAlign:"left",color:"white",display:"inline-block",margin:"5px",borderRadius:"5px",maxWidth:"80%",fontSize:"12px",wordBreak:"break-word",listStyle:"none"},greenBackground:{backgroundColor:"green"},deepLink:{color:"white",textDecoration:"underline",fontSize:"12px",cursor:"pointer"},renderedMessage:{fontSize:"12px",wordBreak:"break-word",padding:"5px 10px",maxWidth:"300px"},senderMessage:{alignSelf:"flex-start",textAlign:"left",listStyle:"none",width:"100%",padding:"0px"},receiverMessage:{padding:"0px",alignSelf:"flex-end",listStyle:"none",textAlign:"right",width:"100%"},reply:{color:"lightgrey",fontSize:"10px"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end"},timeStamp:{fontSize:"8px",color:"lightgrey"},actionPicker:{position:"relative",bottom:0,left:0,width:"auto",zIndex:1e3}};function U(e){E(e.target.value)}const L=t.contentTopic,D=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";f(null);try{var i;if(!g||!n||null===g||void 0===g||null===(i=g.frameInfo)||void 0===i||!i.buttons)return;const{frameInfo:o,url:s}=g;if(!o.buttons)return;const a=o.buttons[e];w(e);const c=new US(n),u=a.target||o.postUrl||s,l=await c.signFrameAction({frameUrl:s,inputText:S||void 0,buttonIndex:e,conversationTopic:L,participantAccountAddresses:[r,n.address],address:n.address,state:o.state});if(console.log("Button clicked",l),"tx"===t){const e=await c.proxy.postTransaction(a.target,{...l}),t=e.params.to;try{const r=Db({chain:pw,transport:lw(window.ethereum)}),i=await r.sendTransaction({account:n.address,to:t,value:e.params.value}),o=g.extractedTags["fc:frame:button:1:post_url"],s=await c.proxy.post(o,{...l,transactionId:i});v(s)}catch(Qa){console.log("Transaction error",Qa)}}else if("post"===t){const e=await c.proxy.post(u,l);v(e),console.log(e)}else if("post_redirect"===t){const{redirectedTo:e}=await c.proxy.postRedirect(u,l);window.open(e,"_blank")}else"link"===t&&null!==a&&void 0!==a&&a.target&&window.open(a.target,"_blank");w(0)}catch(Qa){k(!0),M(Qa.message),console.error(Qa)}f(null)};(0,c.useEffect)((()=>{(async()=>{try{y(!0);const e=await DS(t);v(e),I(function(e){var t,r;if(!e)return!1;const n=null===(t=e.frameInfo)||void 0===t||null===(r=t.acceptedClients)||void 0===r?void 0:r.xmtp;return!!n&&n.length>0}(e)),y(!1)}catch(Qa){console.error(Qa)}})()}),[null===t||void 0===t?void 0:t.content]);const K=e=>{var r;"reply"===e?((r=e)&&l(t,r),T(!1)):(e=>{var r,n,o,s,a;null!==(r=e)&&void 0!==r&&r.emoji&&(e=e.emoji),null!==(n=e)&&void 0!==n&&null!==(o=n.emoji)&&void 0!==o&&null!==(s=o.props)&&void 0!==s&&s.emojiType&&(e=e.props.emojiType);const c=(null===(a=e)||void 0===a?void 0:a.receiverAddress)||"";e&&(C((t=>{const r=t.find((t=>t.emoji===e));return r?t.filter((t=>t.emoji!==e)):[...t,e]})),i(t,e,c))})(e)},q=async(e,t)=>{t.preventDefault(),t.stopPropagation();const r=e.split(":")[0],n=e.split(":")[1];if("dm"===r)a(n.replace("/",""));else if("bot"===r);else if("tx"===r)if(window.ethereum)try{if(await window.ethereum.request({method:"eth_requestAccounts"}),console.log("Sending to address:",n),!n||!/^0x[a-fA-F0-9]{40}$/.test(n))return void console.error("Invalid Ethereum address:",n);const e={nonce:"0x00",gasPrice:"0x09184e72a000",gas:"0x2710",to:n,from:window.ethereum.selectedAddress,value:"0x00",data:"0x0"},t=await window.ethereum.request({method:"eth_sendTransaction",params:[e]});console.log("Transaction Hash:",t)}catch(i){console.error("Transaction Error:",i)}else console.error("MetaMask is not available")};window.handleDeepLinkClick=q,window.executeCommand=(e,t)=>{t.preventDefault(),t.stopPropagation(),z("play",e)};const z=async(e,r)=>{if("degen"===e){const r={reference:t.id,schema:"unicode",action:"added",content:e,receiver:s.peerAddress};await s.send(r,{contentType:KS})}if("silent"===e){const r={reference:t.id,content:e,metadata:{hello:"world"}};await s.send(r,{contentType:Yy})}else"reply"===e?await s.send(r):"pin"===e?u(t.id):"play"===e&&(r=r.trim(),p(r+" "),setTimeout((()=>p(r)),0));f(null)},j=e=>{e.preventDefault();const r=h===t.id?null:t.id;f(r),T(r===t.id)};return(e=>{var t,i,o;const s=n.codecFor(e.contentType);let a=e.content;if(!a)return;let c=[],u=!1,l=null;if(e.contentType.sameAs(dw)){var f,p;a=null===(f=e.content)||void 0===f?void 0:f.content,c=null===(p=e.content)||void 0===p?void 0:p.receivers,u=!0}else{if(e.contentType.sameAs(Yy))return;if(e.contentType.sameAs(Wy))a=e.content.content,l=e.content.reference;else if(!s){if(void 0===(null===e||void 0===e?void 0:e.contentFallback))return;a=null===e||void 0===e?void 0:e.contentFallback}}if(c.length>0&&!c.includes(n.address))return;null!==g&&void 0!==g&&g.url&&N&&(a=a.replace(null===g||void 0===g?void 0:g.url,""));const y=u?"\ud83e\udd16":"".concat(r.slice(0,6),"...").concat(r.slice(-4));a=a.split("\n").join("<br />");let v=a.match(/(dm|tx):\/?([0-9a-zA-Z]{42})(\?[a-zA-Z0-9=&]+)?/g);if(v){v=v[0];const e=v.split(":")[0],t=a.split(v);"dm"===e?a="".concat(t[0],'<a href="#" onclick="handleDeepLinkClick(\'').concat(v,'\', event)" class="confirm-link">Go to conversation</a>').concat(t[1]):"tx"===e&&(a="".concat(t[0],'<a href="#" onclick="handleDeepLinkClick(\'').concat(v,'\', event)" class="confirm-link">Confirm</a>').concat(t[1]))}const w=a.trim().startsWith("/");a=function(e){return(e=e.replaceAll("```","`")).replace(/(```)(\/[^\s`]+(?:\s[^\s`]+)*)\1|`([^`\n]+)`/g,((e,t,r,n)=>{let i=t&&r?"".concat(t).concat(r).concat(t):"".concat(n);return i=i.replaceAll("<br />","").replaceAll("<br>",""),"<code onclick=\"executeCommand('".concat(i,"',event)\">").concat(i,"</code>")}))}(a);const S=h===e.id;return(0,Ty.jsx)("li",{style:A?B.senderMessage:B.receiverMessage,children:(0,Ty.jsxs)("div",{style:{...B.messageContent,...u?B.greenBackground:{}},onContextMenu:j,children:[(0,Ty.jsx)("div",{style:B.senderBar,children:y}),l&&(0,Ty.jsx)("div",{style:B.renderedMessage,children:(0,Ty.jsx)("span",{style:B.reply,children:"Reply:"})}),N&&(null===g||void 0===g?void 0:g.frameInfo)&&(0,Ty.jsxs)(Ty.Fragment,{children:[m&&(0,Ty.jsx)("div",{style:B.renderedMessage,children:"Loading..."}),(0,Ty.jsx)(Fy,{image:null===g||void 0===g||null===(t=g.frameInfo)||void 0===t?void 0:t.image.content,title:(M=g,!!M&&(M.extractedTags["og:title"]||"")),buttons:Xy(g),handleClick:D,frameButtonUpdating:b,showAlert:_,alertMessage:x,onClose:()=>k(!1),interactionsEnabled:P,textInput:null===g||void 0===g||null===(i=g.frameInfo)||void 0===i||null===(o=i.textInput)||void 0===o?void 0:o.content,onTextInputChange:U,frameUrl:null===g||void 0===g?void 0:g.url})]}),!N&&a&&(0,Ty.jsx)("div",{style:B.renderedMessage,onClick:e=>{v&&q(v,e)},dangerouslySetInnerHTML:{__html:a}}),(0,Ty.jsx)("div",{style:B.ReactionAndReplyDiv,children:S&&(0,Ty.jsx)("div",{style:{...B.actionPicker,left:A?"auto":0,right:A?0:"auto"},children:(0,Ty.jsx)(Vy,{onSelect:K,isSlashCommand:w,isPinned:d,isSender:A,content:a,isBotMessage:u,handleSelectEmoji:z})})}),(E=e.sent,(0,Ty.jsx)("div",{style:B.footer,children:(0,Ty.jsx)("span",{style:B.timeStamp,children:"".concat(new Date(E).getHours(),":").concat(String(new Date(E).getMinutes()).padStart(2,"0"))})}))]})},e.id);var E,M})(t)},zS=e=>{let{conversation:t,client:r,searchTerm:n,isContained:i=!1,selectConversation:o,setSelectedConversation:s,setSelectedConversation2:a,setBotCommands:u,setUsersData:l,isConsent:d=!1,isFullScreen:f=!1}=e;const[h,p]=(0,c.useState)(null),[m,y]=(0,c.useState)([]),[g,v]=(0,c.useState)(!1),b=(0,c.useRef)(null),[w,S]=(0,c.useState)(),[E,A]=(0,c.useState)(null),[_,k]=(0,c.useState)([]),[x,M]=(0,c.useState)([]),[N,P]=(0,c.useState)(""),I=e=>{const t=m.find((t=>t.id===e.id));if(t){let r=t.content;t.contentType.sameAs(sc)?r=t.content:(t.contentType.sameAs(Wy)||t.contentType.sameAs(dw))&&(r=t.content.content);const n={content:r,id:e.id};console.log(n),A(n)}};(0,c.useEffect)((()=>{S("allowed"!==(null===t||void 0===t?void 0:t.consentState)),S(!1)}),[t]);const R={loadingText:{textAlign:"center",fontSize:"12px"},accessButton:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"10px",backgroundColor:"#007BFF",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},pinnedMessageBar:{backgroundColor:"#f0f0f0",padding:"10px",cursor:"pointer"},pinnedMessage:{fontWeight:"bold"},unpinIcon:{marginLeft:"10px"},messagesContainer:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},peerAddressContainer:{textAlign:"right",width:"100%",borderBottom:"1px solid lightgrey",padding:"0px",margin:"2px"},peerAddressContainerLabel:{margin:"0px",fontSize:"10px",padding:"5px"},peerAddressContainerhref:{textDecoration:"none"},messagesList:{paddingLeft:"5px",paddingRight:"5px",margin:"0px",alignItems:"flex-start",flexGrow:1,display:"flex",flexDirection:"column",overflowY:"auto"},popup:{width:"100%",padding:"10px",backgroundColor:"rgba(211, 211, 211, 0.3)"},popupInner:{display:"flex",justifyContent:"space-evenly",width:"100%"},popupButton:{borderRadius:"12px",padding:"5px",paddingLeft:"10px",paddingRight:"10px",border:"none"},acceptButton:{backgroundColor:"blue",color:"white"},denyButton:{backgroundColor:"red",color:"white"},popupTitle:{textAlign:"center",marginTop:"0px"}},C=(e,t)=>{if(t.contentType.sameAs(Yy)&&t.senderAddress!==r.address&&"grant_access"===t.content.content)F(!0);else if(t.contentType.sameAs(dw)&&t.content.context){let e=JSON.parse(t.content.context).context;e.commands&&(k(e.commands),u(e.commands)),e.users&&(M(e.users),l(e.users))}if(t.contentType.sameAs(KS)){const r=t.content.reference,n=t.content.content,i=t.content.action;return e.map((e=>{if(e.id===r){let t=new Set(e.reactions);"added"===i?t.add(n):"removed"===i&&t.delete(n),e.reactions=t}return e}))}return e.some((e=>e.id===t.id))?e:(t.reactions=new Set,[...e,t])};(0,c.useEffect)((()=>{(async()=>{try{if(t&&t.peerAddress){v(!0);const e=await(null===t||void 0===t?void 0:t.messages());let r=[];for(const t of e)r=await C(r,t);y(r),v(!1)}}catch(Qa){console.log(Qa)}})()}),[t]);(0,c.useEffect)((()=>{let e=!0;return(async()=>{if(t&&t.peerAddress&&e)try{let r=await t.streamMessages();for await(const t of r){if(!e)break;y((e=>C(e,t)))}}catch(Qa){console.log(Qa)}})(),()=>{e=!1}}),[t]),(0,c.useEffect)((()=>{var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[m]),(0,c.useEffect)((()=>{let e=0;if(!i){const t=setInterval((()=>{var r;e<5?(null===(r=b.current)||void 0===r||r.scrollIntoView({behavior:"smooth"}),e++):clearInterval(t)}),1e3);return()=>clearInterval(t)}}),[m,i]);const[O,T]=(0,c.useState)(null),B=async e=>{T(e)},U=async(e,r)=>{var n;null!==(n=r.props)&&void 0!==n&&n.emojiType&&(r=r.props.emojiType);const i=Array.from(e.reactions||[]).find((e=>e===r)),o=i?"removed":"added",s={reference:e.id,schema:"unicode",action:o,content:r,receiver:t.peerAddress};await t.send(s,{contentType:KS})},L=e=>{a(e)},D=e=>{P(e)},[K,F]=(0,c.useState)(!1);return(0,Ty.jsx)("div",{style:R.messagesContainer,children:K?(0,Ty.jsx)(Ty.Fragment,{children:g?(0,Ty.jsx)("div",{style:R.loadingText,children:"Loading messages..."}):(0,Ty.jsxs)(Ty.Fragment,{children:[f&&(0,Ty.jsx)("div",{style:R.peerAddressContainer,children:(0,Ty.jsxs)("div",{style:R.peerAddressContainerLabel,children:["To: ",t.peerAddress,(0,Ty.jsxs)("div",{onClick:()=>{window.open(window.location.href+"dm/"+t.peerAddress,"_blank")},style:{display:"inline",cursor:"pointer"},children:[" ","\ud83d\udd17"]}),(0,Ty.jsxs)("div",{onClick:()=>{navigator.clipboard.writeText(t.peerAddress),alert("Address copied to clipboard")},style:{display:"inline",cursor:"pointer"},children:[" ","\ud83d\udccb"]})]})}),E&&(0,Ty.jsx)("div",{style:R.pinnedMessageBar,children:(0,Ty.jsxs)("div",{onClick:()=>I(E),style:R.pinnedMessage,children:[E.content,(0,Ty.jsx)("span",{style:R.unpinIcon,children:"\ud83d\udccc"})]})}),(0,Ty.jsxs)("ul",{style:R.messagesList,children:[m.map((e=>{var n;return(0,Ty.jsx)(qS,{message:e,onReaction:U,onReply:B,senderAddress:e.senderAddress,messageReactions:null!==(n=e.reactions)&&void 0!==n?n:[],client:r,conversation:t,setSelectedConversation2:L,onTogglePin:()=>I(e),isPinned:E===e.id,setTextInputValueTop:D,activeActionPickerId:h,setActiveActionPickerId:p},e.id)})),(0,Ty.jsx)("div",{ref:b})]}),d&&w?(0,Ty.jsxs)("div",{style:R.popup,children:[(0,Ty.jsxs)("h4",{style:R.popupTitle,children:["State is ",(0,Ty.jsx)("small",{children:t.consentState}),". Do you trust this contact?"]}),(0,Ty.jsxs)("div",{style:R.popupInner,children:["allowed"!==t.consentState&&(0,Ty.jsx)("button",{style:{...R.popupButton,...R.acceptButton},onClick:async()=>{await r.contacts.allow([t.peerAddress]),S(!1),await r.contacts.refreshConsentList()},children:"Allow"}),"denied"!==t.consentState&&(0,Ty.jsx)("button",{style:{...R.popupButton,...R.denyButton},onClick:async()=>{await r.contacts.deny([t.peerAddress]),S(!1),await r.contacts.refreshConsentList()},children:"Deny"})]})]}):null,(0,Ty.jsx)(Ly,{commands:_,users:x,value:N,replyingToMessage:O,onSendMessage:e=>{!async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.trim()){if(t&&t.peerAddress)if(r&&r.id)try{const n={content:e,contentType:sc,reference:r.id,receiver:t.peerAddress};await t.send(n,{contentType:Wy}),T(null)}catch(n){console.error(n)}else await t.send(e)}else alert("empty message")}(e,O),T(null),P("")}})]})}):(0,Ty.jsx)("div",{children:(0,Ty.jsx)("button",{style:R.accessButton,onClick:()=>{(async()=>{try{let e={content:"/access",sender:r.address,reference:t.topic,metadata:{hello:"world"}};await t.send(e,{contentType:Yy})}catch(e){console.error("Error requesting access:",e)}})()},children:"Request access"})})})},jS=e=>{let{client:t,env:r,selectedConversation:n,updateSearchTerm:i,setSelectedConversation:o,isFullScreen:s=!1,isContained:a=!1,isPWA:u=!1,isConsent:l=!1}=e;const d=F(),[f,h]=(0,c.useState)(!1),[p,m]=(0,c.useState)(""),[y,g]=(0,c.useState)(""),[v,b]=(0,c.useState)(""),[w,S]=(0,c.useState)(!1),[E,A]=(0,c.useState)(!1),[_,k]=(0,c.useState)(!1),[x,M]=(0,c.useState)(!1),N={conversations:{height:"100%",backgroundColor:"#f0f0f0"},conversationList:{padding:"0px",margin:"0",listStyle:"none",overflowY:"scroll",WebkitOverflowScrolling:"touch"},conversationListItem:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0px",border:"0px",borderBottom:"1px solid #e0e0e0",cursor:"pointer",backgroundColor:"#f0f0f0",padding:"10px",marginTop:"0px",transition:"background-color 0.3s ease"},conversationDetails:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"75%",marginLeft:"10px",overflow:"hidden"},conversationName:{fontSize:"16px",fontWeight:"bold"},messagePreview:{fontSize:"14px",color:"#666",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},conversationTimestamp:{fontSize:"12px",color:"#999",width:"25%",textAlign:"right",display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"space-between"},createNewLoading:{display:"block",border:"1px",padding:"5px",borderRadius:"5px",marginTop:"10px",textAlign:"center",color:"white",backgroundColor:"rgb(79 70 229)",margin:"0 auto",fontSize:"14px"},createNewButton:{display:"block",border:"1px",padding:"5px",borderRadius:"5px",color:"white",cursor:"pointer",marginTop:"10px",textAlign:"center",backgroundColor:"rgb(79 70 229)",margin:"0 auto",fontSize:"14px"},createNewButtonR:{display:"block",padding:"5px",border:"0px",cursor:"pointer",borderRadius:"5px",color:"rgb(79 70 229)",margin:"0 auto",cursor:"pointer",textAlign:"center",backgroundColor:"transparent",borderBotton:"1px solid rgb(79 70 229)",fontSize:"10px"},messageClass:{textAlign:"center",margin:"10px",display:"block"},peerAddressInput:{width:"100%",padding:"10px",boxSizing:"border-box",border:"0px solid #ccc",outline:"none"}},P=async e=>{M(!1),k(!1),m(e.target.value),i(e.target.value),b("Searching...");const t=e.target.value;let r=t;if(/\.eth$/.test(t)){A(!0);try{const e=new Oy;r=await e.resolveName(r)}catch(n){console.log(n),b("Error resolving address"),M(!1)}finally{A(!1)}}r&&/^0x[a-fA-F0-9]{40}$/.test(r)?(I(r),m(r),i(r)):(b("Invalid Ethereum address"),g(null),M(!1))},I=async e=>{if(g(e),e===t.address)b("No self messaging allowed"),M(!1);else{await(null===t||void 0===t?void 0:t.canMessage(e))?(g(e),b("Address is on the network \u2705"),M(!0)):(b("Address is not on the network \u274c"),M(!1))}};if(w)return(0,Ty.jsx)("div",{style:{textAlign:"center",fontSize:"small"},children:"Loading..."});const R=()=>(0,Ty.jsx)("div",{style:N.conversations,children:(0,Ty.jsxs)("ul",{style:N.conversationList,children:[(0,Ty.jsx)("input",{type:"text",placeholder:"Enter a 0x wallet or ENS address",value:p,onChange:P,style:N.peerAddressInput}),E&&p&&(0,Ty.jsx)("small",{children:"Resolving address..."}),!p&&(f?(0,Ty.jsx)("button",{style:N.createNewButtonR,children:"Loading..."}):(0,Ty.jsx)("button",{style:{...N.createNewButtonR},onClick:async()=>{h(!0);try{const e=Gp.createRandom(),n=await Rl.create(e,{env:r}),i=await t.conversations.newConversation(n.address);o(i),m(""),null!==i&&void 0!==i&&i.peerAddress&&d("/dm/".concat(null===i||void 0===i?void 0:i.peerAddress),{})}catch(e){console.error("Failed to create new conversation",e)}finally{h(!1)}},children:"or create random conversation"})),(0,Ty.jsx)(By,{isPWA:u,client:t,isFullScreen:s,searchTerm:p,isConsent:l,selectConversation:o,onConversationFound:e=>{k(e),M(!e)}}),v&&!0!==_&&(0,Ty.jsx)("small",{style:N.messageClass,children:v}),y&&x&&!_&&(0,Ty.jsx)(Ty.Fragment,{children:f?(0,Ty.jsx)("button",{style:N.createNewLoading,children:"Loading..."}):(0,Ty.jsx)("button",{style:N.createNewButton,onClick:async()=>{h(!0);try{const e=await t.conversations.newConversation(y);o(e),m(""),null!==e&&void 0!==e&&e.peerAddress&&d("/dm/".concat(null===e||void 0===e?void 0:e.peerAddress),{})}catch(e){console.error("Failed to create new conversation",e)}finally{h(!1)}},children:"Create new conversation"})})]})});return(0,Ty.jsx)(Ty.Fragment,{children:s?R():(0,Ty.jsx)(Ty.Fragment,{children:n?(0,Ty.jsx)(zS,{client:t,isContained:a,conversation:n,searchTerm:p,isConsent:l,selectConversation:o,setSelectedConversation2:e=>{o(e)}}):R()})})},JS=e=>{let{client:t,users:r,commands:n}=e;const i={container:{padding:"10px",backgroundColor:"#f0f0f0",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"},infoText:{fontSize:"10px",color:"#333",padding:"5px",backgroundColor:"#fff",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"},list:{listStyleType:"none",padding:0,margin:0,fontSize:"10px"},listItem:{padding:"4px",borderBottom:"1px solid #ccc"},header:{color:"#333",marginBottom:"5px",fontSize:"1px"}};return(0,Ty.jsxs)("div",{style:i.container,children:[(0,Ty.jsx)("h4",{children:"Users"}),(0,Ty.jsx)("ul",{style:i.list,children:r.map(((e,t)=>(0,Ty.jsxs)("li",{style:i.listItem,children:["Username:"," ",e.fc?(0,Ty.jsx)("a",{href:"https://warpcast.com/".concat(e.fc),target:"_blank",rel:"noreferrer",children:e.username}):e.username,", Address: ",e.address,", Degen score: ",e.degen]},t)))}),(0,Ty.jsx)("h4",{children:"Commands"}),(0,Ty.jsx)("ul",{style:i.list,children:n.map(((e,t)=>(0,Ty.jsxs)("li",{style:i.listItem,children:[e.icon," ",(0,Ty.jsx)("b",{children:e.name})," ",e.description,(0,Ty.jsx)("ul",{style:i.subList,children:e.commands.map(((e,t)=>(0,Ty.jsxs)("li",{style:i.subListItem,children:[e.command,": ",e.description]},t)))})]},t)))})]})};function GS(e){let{wallet:t,env:r,isPWA:n=!1,isFullScreen:i=!0,onLogout:o,isContained:s=!1,isConsent:a=!1}=e;const u=F(),[l,d]=(0,c.useState)(!1),[f,h]=(0,c.useState)(!1),[p,m]=(0,c.useState)(),[y,g]=(0,c.useState)(!1),[v,b]=(0,c.useState)(null),[w,S]=(0,c.useState)(),[E,A]=(0,c.useState)(!1),[_,k]=(0,c.useState)(""),[x,M]=(0,c.useState)([]),[N,P]=(0,c.useState)([]);(0,c.useEffect)((()=>{const e=n||s||"true"===localStorage.getItem("isWidgetOpen")||!1,r="true"===localStorage.getItem("isOnNetwork")||!1,i=localStorage.getItem("isConnected")&&"true"===t||!1;d(e),h(r),g(i)}),[]);const I={FloatingLogo:{position:"fixed",bottom:"20px",right:"20px",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"white",display:"flex",alignItems:"center",border:"1px solid #ccc",justifyContent:"center",cursor:"pointer",transition:"transform 0.3s ease",padding:"5px"},uContainer:{position:s||n?"relative":"fixed",bottom:s||n?"0px":"80px",right:s||n?"0px":"20px",width:s||n?"100%":"300px",height:s?"100%":n?"100vh":"400px",border:s||n?"0px":"1px solid #ccc",backgroundColor:"#f9f9f9",borderRadius:s||n?"0px":"10px",zIndex:"1000",overflow:"hidden",display:"flex",flexDirection:"column"},logoutBtn:{position:"absolute",top:"10px",textDecoration:"none",color:"#000",left:"5px",background:"transparent",border:"none",fontSize:!0===n?"12px":"10px",cursor:"pointer"},widgetHeader:{padding:"2px"},labelGithub:{textDecoration:"none",color:"black",marginRight:"10px"},labelGithub2:{color:"black",fontSize:"10px",marginBottom:"10px",postition:"absolute",bottom:"50px",marginTop:"20px",textDecoration:"underline"},labelRight:{textAlign:"right",fontSize:"10px"},label:{fontSize:"10px",textAlign:"center",marginTop:"5px",cursor:"pointer",display:"block"},conversationHeader:{display:"flex",justifyContent:"center",alignItems:"center",background:"none",border:"none",width:"auto",margin:"0px"},conversationHeaderH4:{margin:"0px",padding:"4px",fontSize:!0===n?"14px":"12px"},backButton:{border:"0px",background:"transparent",cursor:"pointer",color:"black",fontSize:"14px",display:"inline-block",textDecoration:"none"},widgetContent:{flexGrow:1,overflowY:"auto"},xmtpContainer:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",height:"100%",position:"relative"},btnXmtp:{display:"block",border:"1px",padding:"8px",borderRadius:"5px",color:"white",marginTop:"10px",textAlign:"center",backgroundColor:"rgb(79 70 229)",margin:"0 auto",fontSize:"14px"}};(0,c.useEffect)((()=>{localStorage.setItem("isOnNetwork",f.toString()),localStorage.setItem("isWidgetOpen",l.toString()),localStorage.setItem("isConnected",y.toString())}),[l,y,f]);const R=async()=>{const e=(()=>{const e=localStorage.getItem("walletAddress");if(e){const t=QS(e);if(t)return new Gp(t)}return null})();if(e)return S(e),L(e.address),void g(!0);if("undefined"!==typeof window.ethereum)try{await window.ethereum.request({method:"eth_requestAccounts"});const e=new xy(window.ethereum).getSigner();S(e),L(await C(e)),g(!0)}catch(t){console.error("User rejected request",t)}else console.error("Metamask not found")},C=async e=>{try{if(e&&"function"===typeof e.getAddress)return await e.getAddress();if(e&&"function"===typeof e.getAddresses){const[t]=await e.getAddresses();return t}return null}catch(Qa){console.log(Qa)}},O=()=>{d(!0)},T=()=>{d(!1)};"undefined"!==typeof window&&(window.FloatingInbox={open:O,close:T});const B=async()=>{g(!1);const e=await C(w);$S(e),localStorage.removeItem("onboarding"),S(null),L(null),h(!1),m(null),b(null),u("/"),localStorage.removeItem("isOnNetwork"),localStorage.removeItem("isConnected"),localStorage.removeItem("walletAddress"),"function"===typeof o&&o()},[U,L]=(0,c.useState)(null);(0,c.useEffect)((()=>{(async()=>{const e="true"===localStorage.getItem("onboarding");t&&(S(t),L(t.address),g(!0)),p&&!f&&h(!0),w&&f&&y&&D(),w&&y&&!f&&e&&D(),w||!y&&!e&&null===localStorage.getItem("walletAddress")||R()})()}),[t,w,f,y]);const D=async function(){try{if(!w)return void B();let e=await C(w),t=ZS(e);const n={env:r||VS()};t||(t=await Rl.getKeys(w,{...n,skipContactPublishing:!0,persistConversations:!1}),XS(e,t));const i=await Rl.create(null,{...n,codecs:[new FS,new fw,new Zy,new Qy],privateKeyOverride:t});m(i),h(!!i.address)}catch(Qa){console.log(Qa)}};return(0,Ty.jsxs)(Ty.Fragment,{children:[!n&&!s&&(0,Ty.jsx)("div",{onClick:l?T:O,className:"FloatingInbox "+(l?"spin-clockwise":"spin-counter-clockwise"),style:I.FloatingLogo,children:"\ud83d\udcac"}),l&&(0,Ty.jsxs)("div",{style:I.uContainer,className:" "+(f?"expanded":""),children:[y&&(0,Ty.jsx)("button",{style:I.logoutBtn,onClick:B,children:"Logout"}),y&&f&&(0,Ty.jsxs)("div",{style:{...I.widgetHeader,display:"flex",justifyContent:"space-between"},children:[(0,Ty.jsx)("div",{style:{flex:1}}),(0,Ty.jsx)("div",{style:{width:"50%",textAlign:"center",margin:"0 auto"},children:(0,Ty.jsx)("h4",{style:I.conversationHeaderH4,children:f&&v&&!i?(0,Ty.jsx)("button",{style:I.backButton,onClick:()=>{b(null),u("/")},children:"\u2190 Conversations"}):(0,Ty.jsx)("span",{children:"Playground"})})}),(0,Ty.jsxs)("div",{style:{flex:1,textAlign:"right"},children:[" ",i&&(0,Ty.jsxs)("div",{style:I.labelRight,onClick:()=>{navigator.clipboard.writeText(U),alert("Address copied to clipboard")},children:["Your address: "+(null===U||void 0===U?void 0:U.substring(0,7))+"..."+(null===U||void 0===U?void 0:U.substring((null===U||void 0===U?void 0:U.length)-5))," ","\ud83d\udccb"]})]})]}),(0,Ty.jsxs)("div",{style:I.widgetContent,children:[!y&&(0,Ty.jsxs)("div",{style:I.xmtpContainer,children:[(0,Ty.jsx)("button",{style:I.btnXmtp,onClick:R,children:"Connect Wallet"}),(0,Ty.jsx)("div",{style:I.label,onClick:async()=>{const e=Gp.createRandom();YS(e.address,e.privateKey),S(e),L(e.address),g(!0),A(!0)},children:"or create new one"})]}),y&&!f&&(0,Ty.jsxs)("div",{style:I.xmtpContainer,children:[(0,Ty.jsx)("button",{style:I.btnXmtp,onClick:D,children:"Connect to XMTP"}),E&&(null===w||void 0===w?void 0:w.address)&&(0,Ty.jsx)("div",{style:I.label,children:(0,Ty.jsxs)("div",{style:I.label,onClick:()=>{navigator.clipboard.writeText(w.address),alert("Address copied to clipboard")},children:["Your address: ",w.address,(0,Ty.jsx)("br",{}),"\ud83d\udccb (click to copy)"]})})]}),!i&&y&&f&&p&&(0,Ty.jsx)(jS,{isPWA:n,env:r||VS(),client:p,isFullScreen:i,isConsent:a,isContained:s,updateSearchTerm:k,selectedConversation:v,setSelectedConversation:b}),y&&f&&p&&i&&(0,Ty.jsxs)("div",{style:{display:"flex",height:"100%"},children:[(0,Ty.jsx)("div",{style:{flex:1,overflowY:"auto",maxWidth:"450px"},children:(0,Ty.jsx)(jS,{isPWA:n,env:r||VS(),client:p,isConsent:a,isFullScreen:i,isContained:s,updateSearchTerm:k,selectedConversation:v,setSelectedConversation:b})}),(0,Ty.jsxs)("div",{style:{flex:2,overflowY:"auto"},children:[null===v||void 0===v?void 0:v.id," ",v&&(0,Ty.jsx)(zS,{client:p,isContained:s,isFullScreen:i,conversation:v,searchTerm:"",isConsent:a,setBotCommands:e=>{M(e)},setUsersData:e=>{P(e)},selectConversation:v,setSelectedConversation:b,setSelectedConversation2:async e=>{const t=await p.conversations.newConversation(e);b(t)}})]}),(0,Ty.jsx)("div",{style:{flex:1,overflowY:"auto"},children:(0,Ty.jsx)(JS,{client:p,commands:x,users:N})})]})]})]})]})}const HS="binary",VS=()=>"undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_XMTP_ENV?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_XMTP_ENV:"production",WS=e=>e?"xmtp:".concat(VS(),":keys:").concat(e):"",ZS=e=>{const t=localStorage.getItem(WS(e));return t?Buffer.from(t,HS):null},YS=(e,t)=>{localStorage.setItem("walletAddress",e),localStorage.setItem(e,t)},QS=e=>localStorage.getItem(e),XS=(e,t)=>{localStorage.setItem("onboarding","true"),localStorage.setItem(WS(e),Buffer.from(t).toString(HS))},$S=e=>{localStorage.removeItem(WS(e))},eE=e=>{let{isPWA:t=!1,isFullScreen:r=!1,isConsent:n=!1}=e;const[i,o]=(0,c.useState)(null),[s,a]=(0,c.useState)(!1),u=window.innerWidth>=700&&r,l={uContainer:{height:"100vh",backgroundColor:"#f9f9f9",borderRadius:"10px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",zIndex:"1000",overflow:"hidden",display:"flex",flexDirection:"column"},xmtpContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},btnXmtp:{backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",textDecoration:"none",color:"#000",justifyContent:"center",border:"1px solid grey",padding:"10px",borderRadius:"5px",fontSize:"14px"},HomePageWrapperStyle:{textAlign:"center",marginTop:"2rem"},ButtonStyledStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"10px 20px",borderRadius:"5px",marginBottom:"2px",border:"none",textAlign:"left",cursor:"pointer",transition:"background-color 0.3s ease",color:"#333333",backgroundColor:"#ededed",fontSize:"12px"}},d=async()=>{if("undefined"!==typeof window.ethereum)try{await window.ethereum.request({method:"eth_requestAccounts"});const e=new xy(window.ethereum).getSigner();o(e),a(!0);let t=await(async e=>{try{return await(null===e||void 0===e?void 0:e.getAddress())}catch(Qa){console.log(Qa)}})(e);localStorage.setItem("walletConnected",JSON.stringify(!0)),localStorage.setItem("signerAddress",JSON.stringify(t))}catch(e){console.error("User rejected request",e)}else console.error("Metamask not found")};return(0,c.useEffect)((()=>{const e=localStorage.getItem("walletConnected"),t=JSON.parse(localStorage.getItem("signerAddress"));if(e&&t){a(JSON.parse(e));const t=new xy(window.ethereum).getSigner();o(t)}}),[]),(0,Ty.jsxs)(Ty.Fragment,{children:[!t&&(0,Ty.jsxs)("div",{style:l.HomePageWrapperStyle,children:[(0,Ty.jsx)("button",{className:"home-button",style:{...l.ButtonStyledStyle,marginLeft:10},onClick:()=>d(),children:s?"Connected":"Connect Wallet"}),s&&(0,Ty.jsx)("button",{className:"home-button",style:{...l.ButtonStyledStyle,marginLeft:10},onClick:()=>(localStorage.removeItem("walletConnected"),localStorage.removeItem("signerAddress"),o(null),void a(!1)),children:"\u23cf"}),(0,Ty.jsx)("h1",{children:"Quickstart Inbox "}),(0,Ty.jsx)("span",{children:"See in mobile for a mobile layout"}),(0,Ty.jsxs)("section",{className:"App-section",children:[(0,Ty.jsx)("button",{className:"home-button",style:l.ButtonStyledStyle,onClick:()=>window.FloatingInbox.open(),children:"Open"}),(0,Ty.jsx)("button",{className:"home-button",style:{...l.ButtonStyledStyle,marginLeft:10},onClick:()=>window.FloatingInbox.close(),children:"Close"})]})]}),(0,Ty.jsx)(GS,{env:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_XMTP_ENV,wallet:i,isPWA:t,isFullScreen:u,isConsent:n})]})};l.createRoot(document.getElementById("root")).render((0,Ty.jsx)(V,{children:(0,Ty.jsx)(eE,{isPWA:!0,isFullScreen:!0,isConsent:!0})}))})()})();
//# sourceMappingURL=main.818295f9.js.map