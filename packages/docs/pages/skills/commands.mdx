# Commands

Each app can have a `skills.ts` file that contains the commands that the app can execute. The commands are defined as an array of objects with the following keys:

## Declare a command

First think of which command you want the app to respond to. For example:

```bash [cmd]
/send [amount] [token] [@username]
```

**Properties**

- **command**: The name of the command.
- **description**: The description of the command.
- **params**: Defines the parameters required for the command.
  - **default**: The default value for the parameter. This can be any type.
  - **type**: The type of the parameter. It can be one of the following:
    - `number`: The parameter is a number.
    - `string`: The parameter is a string.
    - `username`: The parameter is a username.
    - `quoted`: The parameter is a quoted string.
    - `address`: The parameter is an address.
    - `prompt`: The parameter is a prompt.
  - **values**: `[]` An array of strings that defines the accepted values for the parameter.

**Example**

Create the command file `skills.ts` in your project root `src` folder.

```tsx [src/skills.ts]
import { handler as transaction } from "./handler/transaction.js"; // [!code hl] // [!code focus]

export const commands: AgentSkill[] = [
  {
    name: "Transactions",
    description: "Multipurpose transaction frame built onbase.",
    commands: [
      {
        command: "/send [amount] [token] [@username]",
        triggers: ["@send", "/send"],
        description:
          "Send a specified amount of a cryptocurrency to a destination address.",
        handler: transaction,
        params: {
          amount: {
            default: 10,
            type: "number",
          },
          token: {
            default: "usdc",
            type: "string",
            values: ["eth", "dai", "usdc", "degen"], // Accepted tokens
          },
          username: {
            default: "",
            type: "username",
          },
        },
      },
      {
        command: "/swap [amount] [token_from] [token_to]",
        triggers: ["@swap", "/swap"],
        description: "Exchange one type of cryptocurrency for another.",
        handler: transaction,
        params: {
          amount: {
            default: 10,
            type: "number",
          },
          token_from: {
            default: "usdc",
            type: "string",
            values: ["eth", "dai", "usdc", "degen"], // Accepted tokens
          },
          token_to: {
            default: "eth",
            type: "string",
            values: ["eth", "dai", "usdc", "degen"], // Accepted tokenss
          },
        },
      },
      {
        command: "/show",
        triggers: ["/show"],
        handler: transaction,
        description: "Show the whole frame.",
        params: {},
      },
    ],
  },
];
```

### Example:

A user wants to swap tokens:

```bash
/swap 1 eth usdc
```

MessageKit directly processes the parameters from the command and handles the parameters to return a Frame URL.

### Declaring commands

```tsx
import { HandlerContext } from "@xmtp/message-kit";
import { handleSwap } from "./handler/swap.js";

export const commands: AgentSkill[] = [
  {
    name: "Swap Bot",
    description: "Swap bot for base.",
    commands: [
      {
        command: "/swap [amount] [token_from] [token_to]",
        handler: handleSwap,
        triggers: ["/swap", "@swap", "@swapbot"],
        description: "Exchange one cryptocurrency for another.",
        params: {
          amount: { type: "number", default: 1 },
          token_from: { type: "string", values: ["eth", "usdc", "dai"] },
          token_to: { type: "string", values: ["eth", "usdc", "dai"] },
        },
      },
    ],
  },
];
```

### Handling command responses

MessageKit will automatically handle the command parameters allowing you to focus on handling the command logic.

```tsx
import { HandlerContext } from "@xmtp/message-kit";

export async function handleSwap(context: HandlerContext) {
  const {
    message: {
      content: { command, params }, // [!code hl] // [!code focus]
    },
  } = context;
  const baseUrl = "https://{url}";

  if (command === "swap") {
    const { amount, token_from, token_to } = params; // [!code hl] // [!code focus]

    if (!amount || !token_from || !token_to) {
      context.reply(
        "Missing required parameters. Please provide amount, token_from, and token_to.",
      );
      return;
    }
    // Generate URL for the swap transaction
    context.reply(`${url_swap}`);
  }
}
```

The bot will reply with the URL to the swap transaction.

```bash
{baseUrl}/swap?amount=1&token_from=eth&token_to=usdc
```
