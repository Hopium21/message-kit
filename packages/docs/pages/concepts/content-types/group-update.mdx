# Group updates

With XMTP, group metadata updates are represented as objects with the following keys:

## Group updated object

The `group_updated` type contains the following

```tsx
{
  initiatedByInboxId: address, // Address of the user who initiated the update
  metadataFieldChanges: Record<string, string>[], // Record of metadata fields that changed
  removedInboxes: string[], // Array of addresses of users removed from the group
  addedInboxes: string[], // Array of addresses of users added to the group
}
```

## Receive an update

When a member is added or removed from a group it will emit a `group_updated` event with this properties:

- `initiatedByInboxId`: Address of the user who initiated the update
- `metadataFieldChanges`: Record of metadata fields that changed
- `removedInboxes`: Array of addresses of users removed from the group
- `addedInboxes`: Array of addresses of users added to the group

```tsx
if (typeId === "group_updated") {
  const {
    initiatedByInboxId,
    metadataFieldChanges,
    removedInboxes,
    addedInboxes,
  } = content;
  // Use the update information...
}
```

### Added member

When a member is added to a group it will emit a `group_updated` event with a `addedInboxes` array containing the addresses of the users added.

### Removed member

When a member is removed from a group it will emit a `group_updated` event with a `removedInboxes` array containing the addresses of the users removed.

### Admin changed

When the admin is changed it will emit a `group_updated` event with a `metadataFieldChanges` array containing the new admin address.

### Super admin

When the super admin is changed it will emit a `group_updated` event with a `metadataFieldChanges` array containing the new super admin address.

### Group name update

When a group name is changed it will emit a `group_updated` event with a `metadataFieldChanges` array containing the new group name.

```tsx
if (typeId === "group_updated") {
  if (metadataFieldChanges && metadataFieldChanges[0]) {
    const { fieldName, newValue } = metadataFieldChanges?.[0];
    if (fieldName === "group_name") {
      // Use the new group name...
    }
  }
}
```
