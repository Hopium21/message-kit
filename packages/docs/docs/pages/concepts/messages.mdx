# Messages

## Listening

When you start the bot, you can listen for incoming messages in the conversation using the `run` function.

```jsx [src/index.ts]
import "dotenv/config";
import { run, HandlerContext } from "@xmtp/botkit";

run(async (context: HandlerContext) => {
  // Get the message and the address from the sender
  const { content, senderAddress, typeId } = context.message;

  // Do something with content

  await context.reply(`gm`);
});
```

## Message object

The `message` object contains the following

```tsx
{
  id: string, // The id of the message
  content: {}, // The content of the message depending on the  type
  senderAddress: string, // The address of the sender
  sent: Date, // The timestamp of the message
  typeId: string; // The  type of the message (text, reply or reaction)
}
```

To learn more about the types, see [types](/concepts/content-types/text)

## Bot message

Bot messages are messages that are sent when you send a reply to a message and are highlighted differently by the apps.

```tsx
// Message to all users
context.reply("Sender or receiver not found.");

//Message to specific user/users
context.reply("Sender or receiver not found.");
(
  `You received ${amount} DEGEN tokens from ${sender.username}. Your new balance is ${receiver.degen} DEGEN tokens.`,
  addresses, // Array of addresses to send the message to
);
```

> _Bot messages are prevented from being sent to the bot itself_

## Deep Links

You can send text messages to the app and the app will parse the message and execute the command. This is useful for deep linking to a conversation or executing commands from a chatbot.

**Link to conversation**

Show a nice UI to the user to open the conversation with another user

```jsx
dm:/0x1CB3649469546D10b7fa4fd1d1c63e8aA3a0E667
```

**Link to group**

Show a nice UI to the user to open a new group with other users

```jsx
group:/0x22323
```

**USDC Base Transaction**

Show a nice UI to the user to send a USDC Base transaction

```jsx
tx:/0x1CB3649469546D10b7fa4fd1d1c63e8aA3a0E667/usdc
```
