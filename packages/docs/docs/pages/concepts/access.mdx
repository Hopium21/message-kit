# Access

## Grant access

Create the `accessHandler` function to handle access to a group chat. Returns `true` or `false` based on the access request.

```tsx [src/index.ts]
const accessHandler = async (context: HandlerContext): Promise<boolean> => {
  const { senderAddress } = context.message;

  /*here put the token gated logic*/

  if (senderAddress) return true;
  return false;
};
```

## Send it as parameter

To declare the access command in the app, you need to add the following code:

```tsx [src/index.ts]
run(
  async (context: HandlerContext) => {
    /* Bot logic here */
  },
  {
    /* Additional bot config*/
  },
  accessHandler,
);
```

## Full example

```jsx [src/index.ts]
import "dotenv/config";
import { run, HandlerContext } from "@xmtp/mkit";

const accessHandler = async (context: HandlerContext): Promise<boolean> => {
  const { senderAddress } = context.message;

  /*here put the token gated logic*/

  if (senderAddress) return true;
  return false;
};

run(async (context: HandlerContext) => {
  const { content, typeId, senderAddress } = context.message;

  if (typeId == "text") context.reply("gm!");
}, {}, accessHandler);
```
