# Access

Create the `accessHandler` function to handle the access request. Returns true or false based on the access request.

```tsx [src/commands.ts]
const accessHandler = async (context: HandlerContext): Promise<boolean> => {
  const { senderAddress } = context.message;

  /*here put the token gated logic*/

  if (senderAddress) return true;
  return false;
};
```

### Send it as parameter

To declare the access command in the botkit app, you need to add the following code:

```tsx
run(
  async (context: HandlerContext) => {
    /* Bot logic here */
  },
  {
    /* Additional bot config*/
  },
  accessHandler,
);
```

### Full example

```jsx [src/index.ts]
import "dotenv/config";
import { run, HandlerContext } from "@xmtp/botkit";

const accessHandler = async (context: HandlerContext): Promise<boolean> => {
  const { senderAddress } = context.message;

  /*here put the token gated logic*/

  if (senderAddress) return true;
  return false;
};

run(async (context: HandlerContext) => {
  const { content, contentType, senderAddress } = context.message;
  const { typeId } = contentType;

  context.reply("gm!");

}, {}, accessHandler);
```
